const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browserAll.DYCelIxU.js","./webworkerAll.Cv7BtcPJ.js","./colorToUniform.BNVEZJLb.js","./WebGPURenderer.DY2YmOHw.js","./SharedSystems.SMID1eYV.js","./WebGLRenderer.BJUhsJjs.js"])))=>i.map(i=>d[i]);
import{C as Xn,s as Dt,S as O,T as $,f as T,i as C,v,w as M,k as st,l as I,n as ot,b as bt,p as ks,j as yt,r as Xs,e as J,d as X,y as Vr,t as Ue,h as We,m as kn,x as Ee,U as gs,V as ra,c as xs,W as ae,X as Je,Y as jt,Z as Be,u as vs,g as As,a as ws,_ as ls,$ as on,a0 as ec,a1 as sc,a2 as n1,a3 as oa,a4 as aa,o as r1,G as o1,E as Xh,a5 as a1,a6 as Yh,a7 as Zh,a8 as c1,z as l1}from"./scheduler.Dsm7LWCF.js";import{t as K,a as rt,S as Lt,i as Gt,g as ss,c as is,b as Bt,d as It,m as Vt,e as Mt,f as ca,h as h1,j as u1,k as zc}from"./index.XBs9OVTh.js";import{w as m1}from"./index.Cnnge3TO.js";import{_ as Mr}from"./preload-helper.C1FmrZbK.js";const Kh=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Es(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function d1(i,t){i.d(1),t.delete(i.key)}function Qh(i,t){rt(i,1,1,()=>{t.delete(i.key)})}function ic(i,t,e,s,n,r,o,a,c,h,l,u){let m=i.length,d=r.length,f=m;const p={};for(;f--;)p[i[f].key]=f;const y=[],x=new Map,_=new Map,b=[];for(f=d;f--;){const w=u(n,r,f),P=e(w);let V=o.get(P);V?b.push(()=>V.p(w,t)):(V=h(P,w),V.c()),x.set(P,y[f]=V),P in p&&_.set(P,Math.abs(f-p[P]))}const g=new Set,A=new Set;function B(w){K(w,1),w.m(a,l),o.set(w.key,w),l=w.first,d--}for(;m&&d;){const w=y[d-1],P=i[m-1],V=w.key,S=P.key;w===P?(l=w.first,m--,d--):x.has(S)?!o.has(V)||g.has(V)?B(w):A.has(S)?m--:_.get(V)>_.get(S)?(A.add(V),B(w)):(g.add(S),m--):(c(P,o),m--)}for(;m--;){const w=i[m];x.has(w.key)||c(w,o)}for(;d;)B(y[d-1]);return Xn(b),y}function hs(i,t){const e={},s={},n={$$scope:1};let r=i.length;for(;r--;){const o=i[r],a=t[r];if(a){for(const c in o)c in a||(s[c]=1);for(const c in a)n[c]||(e[c]=a[c],n[c]=1);i[r]=a}else for(const c in o)n[c]=1}for(const o in s)o in e||(e[o]=void 0);return e}function En(i){return typeof i=="object"&&i!==null?i:{}}function _1(i){return Object.prototype.toString.call(i)==="[object Object]"}function Oc(i){return _1(i)||Array.isArray(i)}function f1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nc(i,t){const e=Object.keys(i),s=Object.keys(t);if(e.length!==s.length)return!1;const n=JSON.stringify(Object.keys(i.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return n!==r?!1:e.every(o=>{const a=i[o],c=t[o];return typeof a=="function"?`${a}`==`${c}`:!Oc(a)||!Oc(c)?a===c:nc(a,c)})}function $c(i){return i.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function p1(i,t){if(i.length!==t.length)return!1;const e=$c(i),s=$c(t);return e.every((n,r)=>{const o=s[r];return nc(n,o)})}function rc(i){return typeof i=="number"}function la(i){return typeof i=="string"}function jr(i){return typeof i=="boolean"}function jc(i){return Object.prototype.toString.call(i)==="[object Object]"}function he(i){return Math.abs(i)}function oc(i){return Math.sign(i)}function Cn(i,t){return he(i-t)}function b1(i,t){if(i===0||t===0||he(i)<=he(t))return 0;const e=Cn(he(i),he(t));return he(e/i)}function Dn(i){return Ln(i).map(Number)}function ys(i){return i[Yn(i)]}function Yn(i){return Math.max(0,i.length-1)}function ac(i,t){return t===Yn(i)}function Nc(i,t=0){return Array.from(Array(i),(e,s)=>t+s)}function Ln(i){return Object.keys(i)}function t2(i,t){return[i,t].reduce((e,s)=>(Ln(s).forEach(n=>{const r=e[n],o=s[n],a=jc(r)&&jc(o);e[n]=a?t2(r,o):o}),e),{})}function ha(i,t){return typeof t.MouseEvent<"u"&&i instanceof t.MouseEvent}function y1(i,t){const e={start:s,center:n,end:r};function s(){return 0}function n(c){return r(c)/2}function r(c){return t-c}function o(c,h){return la(i)?e[i](c):i(t,c,h)}return{measure:o}}function Gn(){let i=[];function t(n,r,o,a={passive:!0}){let c;if("addEventListener"in n)n.addEventListener(r,o,a),c=()=>n.removeEventListener(r,o,a);else{const h=n;h.addListener(o),c=()=>h.removeListener(o)}return i.push(c),s}function e(){i=i.filter(n=>n())}const s={add:t,clear:e};return s}function g1(i,t,e,s){const n=Gn(),r=1e3/60;let o=null,a=0,c=0;function h(){n.add(i,"visibilitychange",()=>{i.hidden&&f()})}function l(){d(),n.clear()}function u(y){if(!c)return;o||(o=y);const x=y-o;for(o=y,a+=x;a>=r;)e(r),a-=r;const _=a/r;s(_),c&&t.requestAnimationFrame(u)}function m(){c||(c=t.requestAnimationFrame(u))}function d(){t.cancelAnimationFrame(c),o=null,a=0,c=0}function f(){o=null,a=0}return{init:h,destroy:l,start:m,stop:d,update:()=>e(r),render:s}}function x1(i,t){const e=t==="rtl",s=i==="y",n=s?"y":"x",r=s?"x":"y",o=!s&&e?-1:1,a=l(),c=u();function h(f){const{height:p,width:y}=f;return s?p:y}function l(){return s?"top":e?"right":"left"}function u(){return s?"bottom":e?"left":"right"}function m(f){return f*o}return{scroll:n,cross:r,startEdge:a,endEdge:c,measureSize:h,direction:m}}function Ci(i=0,t=0){const e=he(i-t);function s(h){return h<i}function n(h){return h>t}function r(h){return s(h)||n(h)}function o(h){return r(h)?s(h)?i:t:h}function a(h){return e?h-e*Math.ceil((h-t)/e):h}return{length:e,max:t,min:i,constrain:o,reachedAny:r,reachedMax:n,reachedMin:s,removeOffset:a}}function e2(i,t,e){const{constrain:s}=Ci(0,i),n=i+1;let r=o(t);function o(m){return e?he((n+m)%n):s(m)}function a(){return r}function c(m){return r=o(m),u}function h(m){return l().set(a()+m)}function l(){return e2(i,a(),e)}const u={get:a,set:c,add:h,clone:l};return u}function v1(i,t,e,s,n,r,o,a,c,h,l,u,m,d,f,p,y,x,_){const{cross:b,direction:g}=i,A=["INPUT","SELECT","TEXTAREA"],B={passive:!1},w=Gn(),P=Gn(),V=Ci(50,225).constrain(d.measure(20)),S={mouse:300,touch:400},D={mouse:500,touch:600},L=f?43:25;let k=!1,E=0,R=0,z=!1,U=!1,at=!1,N=!1;function j(Q){if(!_)return;function Ct(Pt){(jr(_)||_(Q,Pt))&&Rt(Pt)}const kt=t;w.add(kt,"dragstart",Pt=>Pt.preventDefault(),B).add(kt,"touchmove",()=>{},B).add(kt,"touchend",()=>{}).add(kt,"touchstart",Ct).add(kt,"mousedown",Ct).add(kt,"touchcancel",lt).add(kt,"contextmenu",lt).add(kt,"click",it,!0)}function G(){w.clear(),P.clear()}function W(){const Q=N?e:t;P.add(Q,"touchmove",dt,B).add(Q,"touchend",lt).add(Q,"mousemove",dt,B).add(Q,"mouseup",lt)}function ht(Q){const Ct=Q.nodeName||"";return A.includes(Ct)}function xt(){return(f?D:S)[N?"mouse":"touch"]}function ut(Q,Ct){const kt=u.add(oc(Q)*-1),Pt=l.byDistance(Q,!f).distance;return f||he(Q)<V?Pt:y&&Ct?Pt*.5:l.byIndex(kt.get(),0).distance}function Rt(Q){const Ct=ha(Q,s);N=Ct,at=f&&Ct&&!Q.buttons&&k,k=Cn(n.get(),o.get())>=2,!(Ct&&Q.button!==0)&&(ht(Q.target)||(z=!0,r.pointerDown(Q),h.useFriction(0).useDuration(0),n.set(o),W(),E=r.readPoint(Q),R=r.readPoint(Q,b),m.emit("pointerDown")))}function dt(Q){if(!ha(Q,s)&&Q.touches.length>=2)return lt(Q);const kt=r.readPoint(Q),Pt=r.readPoint(Q,b),St=Cn(kt,E),Ot=Cn(Pt,R);if(!U&&!N&&(!Q.cancelable||(U=St>Ot,!U)))return lt(Q);const ne=r.pointerMove(Q);St>p&&(at=!0),h.useFriction(.3).useDuration(.75),a.start(),n.add(g(ne)),Q.preventDefault()}function lt(Q){const kt=l.byDistance(0,!1).index!==u.get(),Pt=r.pointerUp(Q)*xt(),St=ut(g(Pt),kt),Ot=b1(Pt,St),ne=L-10*Ot,_e=x+Ot/50;U=!1,z=!1,P.clear(),h.useDuration(ne).useFriction(_e),c.distance(St,!f),N=!1,m.emit("pointerUp")}function it(Q){at&&(Q.stopPropagation(),Q.preventDefault(),at=!1)}function nt(){return z}return{init:j,destroy:G,pointerDown:nt}}function A1(i,t){let s,n;function r(u){return u.timeStamp}function o(u,m){const f=`client${(m||i.scroll)==="x"?"X":"Y"}`;return(ha(u,t)?u:u.touches[0])[f]}function a(u){return s=u,n=u,o(u)}function c(u){const m=o(u)-o(n),d=r(u)-r(s)>170;return n=u,d&&(s=u),m}function h(u){if(!s||!n)return 0;const m=o(n)-o(s),d=r(u)-r(s),f=r(u)-r(n)>170,p=m/d;return d&&!f&&he(p)>.1?p:0}return{pointerDown:a,pointerMove:c,pointerUp:h,readPoint:o}}function w1(){function i(e){const{offsetTop:s,offsetLeft:n,offsetWidth:r,offsetHeight:o}=e;return{top:s,right:n+r,bottom:s+o,left:n,width:r,height:o}}return{measure:i}}function C1(i){function t(s){return i*(s/100)}return{measure:t}}function S1(i,t,e,s,n,r,o){const a=[i].concat(s);let c,h,l=[],u=!1;function m(y){return n.measureSize(o.measure(y))}function d(y){if(!r)return;h=m(i),l=s.map(m);function x(_){for(const b of _){if(u)return;const g=b.target===i,A=s.indexOf(b.target),B=g?h:l[A],w=m(g?i:s[A]);if(he(w-B)>=.5){y.reInit(),t.emit("resize");break}}}c=new ResizeObserver(_=>{(jr(r)||r(y,_))&&x(_)}),e.requestAnimationFrame(()=>{a.forEach(_=>c.observe(_))})}function f(){u=!0,c&&c.disconnect()}return{init:d,destroy:f}}function B1(i,t,e,s,n,r){let o=0,a=0,c=n,h=r,l=i.get(),u=0;function m(B){const w=B/1e3,P=c*w,V=s.get()-i.get(),S=!c;let D=0;return S?(o=0,e.set(s),i.set(s),D=V):(e.set(i),o+=V/P,o*=h,l+=o,i.add(o*w),D=l-u),a=oc(D),u=l,A}function d(){const B=s.get()-t.get();return he(B)<.001}function f(){return c}function p(){return a}function y(){return o}function x(){return b(n)}function _(){return g(r)}function b(B){return c=B,A}function g(B){return h=B,A}const A={direction:p,duration:f,velocity:y,seek:m,settled:d,useBaseFriction:_,useBaseDuration:x,useFriction:g,useDuration:b};return A}function V1(i,t,e,s,n){const r=n.measure(10),o=n.measure(50),a=Ci(.1,.99);let c=!1;function h(){return!(c||!i.reachedAny(e.get())||!i.reachedAny(t.get()))}function l(d){if(!h())return;const f=i.reachedMin(t.get())?"min":"max",p=he(i[f]-t.get()),y=e.get()-t.get(),x=a.constrain(p/o);e.subtract(y*x),!d&&he(y)<r&&(e.set(i.constrain(e.get())),s.useDuration(25).useBaseFriction())}function u(d){c=!d}return{shouldConstrain:h,constrain:l,toggleActive:u}}function M1(i,t,e,s,n){const r=Ci(-t+i,0),o=u(),a=l(),c=m();function h(f,p){return Cn(f,p)<1}function l(){const f=o[0],p=ys(o),y=o.lastIndexOf(f),x=o.indexOf(p)+1;return Ci(y,x)}function u(){return e.map((f,p)=>{const{min:y,max:x}=r,_=r.constrain(f),b=!p,g=ac(e,p);return b?x:g||h(y,_)?y:h(x,_)?x:_}).map(f=>parseFloat(f.toFixed(3)))}function m(){if(t<=i+n)return[r.max];if(s==="keepSnaps")return o;const{min:f,max:p}=a;return o.slice(f,p)}return{snapsContained:c,scrollContainLimit:a}}function P1(i,t,e){const s=t[0],n=e?s-i:ys(t);return{limit:Ci(n,s)}}function I1(i,t,e,s){const r=t.min+.1,o=t.max+.1,{reachedMin:a,reachedMax:c}=Ci(r,o);function h(m){return m===1?c(e.get()):m===-1?a(e.get()):!1}function l(m){if(!h(m))return;const d=i*(m*-1);s.forEach(f=>f.add(d))}return{loop:l}}function T1(i){const{max:t,length:e}=i;function s(r){const o=r-t;return e?o/-e:0}return{get:s}}function k1(i,t,e,s,n){const{startEdge:r,endEdge:o}=i,{groupSlides:a}=n,c=u().map(t.measure),h=m(),l=d();function u(){return a(s).map(p=>ys(p)[o]-p[0][r]).map(he)}function m(){return s.map(p=>e[r]-p[r]).map(p=>-he(p))}function d(){return a(h).map(p=>p[0]).map((p,y)=>p+c[y])}return{snaps:h,snapsAligned:l}}function E1(i,t,e,s,n,r){const{groupSlides:o}=n,{min:a,max:c}=s,h=l();function l(){const m=o(r),d=!i||t==="keepSnaps";return e.length===1?[r]:d?m:m.slice(a,c).map((f,p,y)=>{const x=!p,_=ac(y,p);if(x){const b=ys(y[0])+1;return Nc(b)}if(_){const b=Yn(r)-ys(y)[0]+1;return Nc(b,ys(y)[0])}return f})}return{slideRegistry:h}}function D1(i,t,e,s,n){const{reachedAny:r,removeOffset:o,constrain:a}=s;function c(f){return f.concat().sort((p,y)=>he(p)-he(y))[0]}function h(f){const p=i?o(f):a(f),y=t.map((_,b)=>({diff:l(_-p,0),index:b})).sort((_,b)=>he(_.diff)-he(b.diff)),{index:x}=y[0];return{index:x,distance:p}}function l(f,p){const y=[f,f+e,f-e];if(!i)return f;if(!p)return c(y);const x=y.filter(_=>oc(_)===p);return x.length?c(x):ys(y)-e}function u(f,p){const y=t[f]-n.get(),x=l(y,p);return{index:f,distance:x}}function m(f,p){const y=n.get()+f,{index:x,distance:_}=h(y),b=!i&&r(y);if(!p||b)return{index:x,distance:f};const g=t[x]-_,A=f+l(g,0);return{index:x,distance:A}}return{byDistance:m,byIndex:u,shortcut:l}}function L1(i,t,e,s,n,r,o){function a(u){const m=u.distance,d=u.index!==t.get();r.add(m),m&&(s.duration()?i.start():(i.update(),i.render(1),i.update())),d&&(e.set(t.get()),t.set(u.index),o.emit("select"))}function c(u,m){const d=n.byDistance(u,m);a(d)}function h(u,m){const d=t.clone().set(u),f=n.byIndex(d.get(),m);a(f)}return{distance:c,index:h}}function G1(i,t,e,s,n,r,o,a){const c={passive:!0,capture:!0};let h=0;function l(d){if(!a)return;function f(p){if(new Date().getTime()-h>10)return;o.emit("slideFocusStart"),i.scrollLeft=0;const _=e.findIndex(b=>b.includes(p));rc(_)&&(n.useDuration(0),s.index(_,0),o.emit("slideFocus"))}r.add(document,"keydown",u,!1),t.forEach((p,y)=>{r.add(p,"focus",x=>{(jr(a)||a(d,x))&&f(y)},c)})}function u(d){d.code==="Tab"&&(h=new Date().getTime())}return{init:l}}function bn(i){let t=i;function e(){return t}function s(c){t=o(c)}function n(c){t+=o(c)}function r(c){t-=o(c)}function o(c){return rc(c)?c:c.get()}return{get:e,set:s,add:n,subtract:r}}function s2(i,t){const e=i.scroll==="x"?r:o,s=t.style;let n=!1;function r(u){return`translate3d(${u}px,0px,0px)`}function o(u){return`translate3d(0px,${u}px,0px)`}function a(u){n||(s.transform=e(i.direction(u)))}function c(u){n=!u}function h(){n||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:a,toggleActive:c}}function R1(i,t,e,s,n,r,o,a,c){const l=Dn(n),u=Dn(n).reverse(),m=x().concat(_());function d(w,P){return w.reduce((V,S)=>V-n[S],P)}function f(w,P){return w.reduce((V,S)=>d(V,P)>0?V.concat([S]):V,[])}function p(w){return r.map((P,V)=>({start:P-s[V]+.5+w,end:P+t-.5+w}))}function y(w,P,V){const S=p(P);return w.map(D=>{const L=V?0:-e,k=V?e:0,E=V?"end":"start",R=S[D][E];return{index:D,loopPoint:R,slideLocation:bn(-1),translate:s2(i,c[D]),target:()=>a.get()>R?L:k}})}function x(){const w=o[0],P=f(u,w);return y(P,e,!1)}function _(){const w=t-o[0]-1,P=f(l,w);return y(P,-e,!0)}function b(){return m.every(({index:w})=>{const P=l.filter(V=>V!==w);return d(P,t)<=.1})}function g(){m.forEach(w=>{const{target:P,translate:V,slideLocation:S}=w,D=P();D!==S.get()&&(V.to(D),S.set(D))})}function A(){m.forEach(w=>w.translate.clear())}return{canLoop:b,clear:A,loop:g,loopPoints:m}}function F1(i,t,e){let s,n=!1;function r(c){if(!e)return;function h(l){for(const u of l)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}s=new MutationObserver(l=>{n||(jr(e)||e(c,l))&&h(l)}),s.observe(i,{childList:!0})}function o(){s&&s.disconnect(),n=!0}return{init:r,destroy:o}}function z1(i,t,e,s){const n={};let r=null,o=null,a,c=!1;function h(){a=new IntersectionObserver(f=>{c||(f.forEach(p=>{const y=t.indexOf(p.target);n[y]=p}),r=null,o=null,e.emit("slidesInView"))},{root:i.parentElement,threshold:s}),t.forEach(f=>a.observe(f))}function l(){a&&a.disconnect(),c=!0}function u(f){return Ln(n).reduce((p,y)=>{const x=parseInt(y),{isIntersecting:_}=n[x];return(f&&_||!f&&!_)&&p.push(x),p},[])}function m(f=!0){if(f&&r)return r;if(!f&&o)return o;const p=u(f);return f&&(r=p),f||(o=p),p}return{init:h,destroy:l,get:m}}function O1(i,t,e,s,n,r){const{measureSize:o,startEdge:a,endEdge:c}=i,h=e[0]&&n,l=f(),u=p(),m=e.map(o),d=y();function f(){if(!h)return 0;const _=e[0];return he(t[a]-_[a])}function p(){if(!h)return 0;const _=r.getComputedStyle(ys(s));return parseFloat(_.getPropertyValue(`margin-${c}`))}function y(){return e.map((_,b,g)=>{const A=!b,B=ac(g,b);return A?m[b]+l:B?m[b]+u:g[b+1][a]-_[a]}).map(he)}return{slideSizes:m,slideSizesWithGaps:d,startGap:l,endGap:u}}function $1(i,t,e,s,n,r,o,a,c){const{startEdge:h,endEdge:l,direction:u}=i,m=rc(e);function d(x,_){return Dn(x).filter(b=>b%_===0).map(b=>x.slice(b,b+_))}function f(x){return x.length?Dn(x).reduce((_,b,g)=>{const A=ys(_)||0,B=A===0,w=b===Yn(x),P=n[h]-r[A][h],V=n[h]-r[b][l],S=!s&&B?u(o):0,D=!s&&w?u(a):0,L=he(V-D-(P+S));return g&&L>t+c&&_.push(b),w&&_.push(x.length),_},[]).map((_,b,g)=>{const A=Math.max(g[b-1]||0);return x.slice(A,_)}):[]}function p(x){return m?d(x,e):f(x)}return{groupSlides:p}}function j1(i,t,e,s,n,r,o){const{align:a,axis:c,direction:h,startIndex:l,loop:u,duration:m,dragFree:d,dragThreshold:f,inViewThreshold:p,slidesToScroll:y,skipSnaps:x,containScroll:_,watchResize:b,watchSlides:g,watchDrag:A,watchFocus:B}=r,w=2,P=w1(),V=P.measure(t),S=e.map(P.measure),D=x1(c,h),L=D.measureSize(V),k=C1(L),E=y1(a,L),R=!u&&!!_,z=u||!!_,{slideSizes:U,slideSizesWithGaps:at,startGap:N,endGap:j}=O1(D,V,S,e,z,n),G=$1(D,L,y,u,V,S,N,j,w),{snaps:W,snapsAligned:ht}=k1(D,E,V,S,G),xt=-ys(W)+ys(at),{snapsContained:ut,scrollContainLimit:Rt}=M1(L,xt,ht,_,w),dt=R?ut:ht,{limit:lt}=P1(xt,dt,u),it=e2(Yn(dt),l,u),nt=it.clone(),pt=Dn(e),Q=({dragHandler:Zs,scrollBody:bo,scrollBounds:yo,options:{loop:ir}},go)=>{ir||yo.constrain(Zs.pointerDown()),bo.seek(go)},Ct=({scrollBody:Zs,translate:bo,location:yo,offsetLocation:ir,scrollLooper:go,slideLooper:Ku,dragHandler:Qu,animation:t1,eventHandler:Dc,scrollBounds:e1,options:{loop:Lc}},Gc)=>{const Rc=Zs.settled(),s1=!e1.shouldConstrain(),Fc=Lc?Rc:Rc&&s1;Fc&&!Qu.pointerDown()&&(t1.stop(),Dc.emit("settle")),Fc||Dc.emit("scroll");const i1=yo.get()*Gc+ne.get()*(1-Gc);ir.set(i1),Lc&&(go.loop(Zs.direction()),Ku.loop()),bo.to(ir.get())},kt=g1(s,n,Zs=>Q(po,Zs),Zs=>Ct(po,Zs)),Pt=.68,St=dt[it.get()],Ot=bn(St),ne=bn(St),_e=bn(St),ce=bn(St),fe=B1(Ot,_e,ne,ce,m,Pt),Rs=D1(u,dt,xt,lt,ce),hi=L1(kt,it,nt,fe,Rs,ce,o),Fs=T1(lt),ui=Gn(),Yu=z1(t,e,o,p),{slideRegistry:Ec}=E1(R,_,dt,Rt,G,pt),Zu=G1(i,e,Ec,hi,fe,ui,o,B),po={ownerDocument:s,ownerWindow:n,eventHandler:o,containerRect:V,slideRects:S,animation:kt,axis:D,dragHandler:v1(D,i,s,n,ce,A1(D,n),Ot,kt,hi,fe,Rs,it,o,k,d,f,x,Pt,A),eventStore:ui,percentOfView:k,index:it,indexPrevious:nt,limit:lt,location:Ot,offsetLocation:_e,previousLocation:ne,options:r,resizeHandler:S1(t,o,n,e,D,b,P),scrollBody:fe,scrollBounds:V1(lt,_e,ce,fe,k),scrollLooper:I1(xt,lt,_e,[Ot,_e,ne,ce]),scrollProgress:Fs,scrollSnapList:dt.map(Fs.get),scrollSnaps:dt,scrollTarget:Rs,scrollTo:hi,slideLooper:R1(D,L,xt,U,at,W,dt,_e,e),slideFocus:Zu,slidesHandler:F1(t,o,g),slidesInView:Yu,slideIndexes:pt,slideRegistry:Ec,slidesToScroll:G,target:ce,translate:s2(D,t)};return po}function N1(){let i={},t;function e(h){t=h}function s(h){return i[h]||[]}function n(h){return s(h).forEach(l=>l(t,h)),c}function r(h,l){return i[h]=s(h).concat([l]),c}function o(h,l){return i[h]=s(h).filter(u=>u!==l),c}function a(){i={}}const c={init:e,emit:n,off:o,on:r,clear:a};return c}const q1={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function H1(i){function t(r,o){return t2(r,o||{})}function e(r){const o=r.breakpoints||{},a=Ln(o).filter(c=>i.matchMedia(c).matches).map(c=>o[c]).reduce((c,h)=>t(c,h),{});return t(r,a)}function s(r){return r.map(o=>Ln(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(i.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:s}}function U1(i){let t=[];function e(r,o){return t=o.filter(({options:a})=>i.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(r,i)),o.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function s(){t=t.filter(r=>r.destroy())}return{init:e,destroy:s}}function Pr(i,t,e){const s=i.ownerDocument,n=s.defaultView,r=H1(n),o=U1(r),a=Gn(),c=N1(),{mergeOptions:h,optionsAtMedia:l,optionsMediaQueries:u}=r,{on:m,off:d,emit:f}=c,p=D;let y=!1,x,_=h(q1,Pr.globalOptions),b=h(_),g=[],A,B,w;function P(){const{container:pt,slides:Q}=b;B=(la(pt)?i.querySelector(pt):pt)||i.children[0];const kt=la(Q)?B.querySelectorAll(Q):Q;w=[].slice.call(kt||B.children)}function V(pt){const Q=j1(i,B,w,s,n,pt,c);if(pt.loop&&!Q.slideLooper.canLoop()){const Ct=Object.assign({},pt,{loop:!1});return V(Ct)}return Q}function S(pt,Q){y||(_=h(_,pt),b=l(_),g=Q||g,P(),x=V(b),u([_,...g.map(({options:Ct})=>Ct)]).forEach(Ct=>a.add(Ct,"change",D)),b.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(nt),x.eventHandler.init(nt),x.resizeHandler.init(nt),x.slidesHandler.init(nt),x.options.loop&&x.slideLooper.loop(),B.offsetParent&&w.length&&x.dragHandler.init(nt),A=o.init(nt,g)))}function D(pt,Q){const Ct=G();L(),S(h({startIndex:Ct},pt),Q),c.emit("reInit")}function L(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),o.destroy(),a.clear()}function k(){y||(y=!0,a.clear(),L(),c.emit("destroy"),c.clear())}function E(pt,Q,Ct){!b.active||y||(x.scrollBody.useBaseFriction().useDuration(Q===!0?0:b.duration),x.scrollTo.index(pt,Ct||0))}function R(pt){const Q=x.index.add(1).get();E(Q,pt,-1)}function z(pt){const Q=x.index.add(-1).get();E(Q,pt,1)}function U(){return x.index.add(1).get()!==G()}function at(){return x.index.add(-1).get()!==G()}function N(){return x.scrollSnapList}function j(){return x.scrollProgress.get(x.location.get())}function G(){return x.index.get()}function W(){return x.indexPrevious.get()}function ht(){return x.slidesInView.get()}function xt(){return x.slidesInView.get(!1)}function ut(){return A}function Rt(){return x}function dt(){return i}function lt(){return B}function it(){return w}const nt={canScrollNext:U,canScrollPrev:at,containerNode:lt,internalEngine:Rt,destroy:k,off:d,on:m,emit:f,plugins:ut,previousScrollSnap:W,reInit:p,rootNode:dt,scrollNext:R,scrollPrev:z,scrollProgress:j,scrollSnapList:N,scrollTo:E,selectedScrollSnap:G,slideNodes:it,slidesInView:ht,slidesNotInView:xt};return S(t,e),setTimeout(()=>c.emit("init"),0),nt}Pr.globalOptions=void 0;function cc(i,t={options:{},plugins:[]}){let e=t,s;return f1()&&(Pr.globalOptions=cc.globalOptions,s=Pr(i,e.options,e.plugins),s.on("init",()=>i.dispatchEvent(new CustomEvent("emblaInit",{detail:s})))),{destroy:()=>{s&&s.destroy()},update:n=>{const r=!nc(e.options,n.options),o=!p1(e.plugins,n.plugins);!r&&!o||(e=n,s&&s.reInit(e.options,e.plugins))}}}cc.globalOptions=void 0;function W1(i){let t,e,s,n,r,o,a,c,h,l,u,m;return{c(){t=O("svg"),e=O("path"),s=O("path"),n=O("path"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),h=O("path"),l=O("path"),u=O("rect"),m=O("rect"),this.h()},l(d){t=$(d,"svg",{width:!0,style:!0,viewBox:!0,fill:!0,xmlns:!0});var f=T(t);e=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(e).forEach(C),s=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(s).forEach(C),n=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(n).forEach(C),r=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(r).forEach(C),o=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(o).forEach(C),a=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(a).forEach(C),c=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(c).forEach(C),h=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(h).forEach(C),l=$(f,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(l).forEach(C),u=$(f,"rect",{x:!0,y:!0,width:!0,height:!0,transform:!0,fill:!0}),T(u).forEach(C),m=$(f,"rect",{x:!0,y:!0,width:!0,height:!0,transform:!0,fill:!0}),T(m).forEach(C),f.forEach(C),this.h()},h(){v(e,"fill-rule","evenodd"),v(e,"clip-rule","evenodd"),v(e,"d","M24.3612 0.859375C11.0328 0.859375 0.228027 11.6642 0.228027 24.9925C0.228027 38.3209 11.0328 49.1257 24.3612 49.1257H47.1309V0.859375H24.3612ZM24.9041 7.55528C15.3408 7.55528 7.58819 15.3079 7.58819 24.8712C7.58819 34.4345 15.3408 42.1871 24.9041 42.1871H47.1284V7.55528H24.9041Z"),v(e,"fill","#1A1A1A"),v(s,"fill-rule","evenodd"),v(s,"clip-rule","evenodd"),v(s,"d","M77.8631 45.4658C75.062 47.5028 71.6141 48.7044 67.8856 48.7044C58.5067 48.7044 50.9036 41.1013 50.9036 31.7223C50.9036 22.3434 58.5067 14.7402 67.8856 14.7402C77.0841 14.7402 84.5744 22.0535 84.8593 31.1828H84.8715V48.9735H77.8631V45.4658ZM77.8598 31.7305C77.8598 37.2388 73.3945 41.7041 67.8862 41.7041C62.3779 41.7041 57.9126 37.2388 57.9126 31.7305C57.9126 26.2222 62.3779 21.7569 67.8862 21.7569C73.3945 21.7569 77.8598 26.2222 77.8598 31.7305Z"),v(s,"fill","#1A1A1A"),v(n,"fill-rule","evenodd"),v(n,"clip-rule","evenodd"),v(n,"d","M117.756 32.2925C117.915 37.6615 122.317 41.9651 127.725 41.9651C133.233 41.9651 137.698 37.4998 137.698 31.9915C137.698 26.4832 133.233 22.0179 127.725 22.0179C122.317 22.0179 117.915 26.3215 117.756 31.6905V32.2925ZM110.747 31.6245L110.747 0.736328L117.756 0.736329L117.756 18.243C120.555 16.2093 124 15.01 127.725 15.01C137.104 15.01 144.707 22.6131 144.707 31.9921C144.707 41.371 137.104 48.9742 127.725 48.9742C118.531 48.9742 111.043 41.6675 110.752 32.544H110.747L110.747 32.3597C110.744 32.2374 110.743 32.1149 110.743 31.9921C110.743 31.8692 110.744 31.7467 110.747 31.6245Z"),v(n,"fill","#1A1A1A"),v(r,"fill-rule","evenodd"),v(r,"clip-rule","evenodd"),v(r,"d","M95.6513 32.1339H95.6619C95.6607 32.0701 95.6601 32.0061 95.6601 31.9419C95.6601 27.6268 98.4004 23.9517 102.236 22.5621C102.216 22.5196 102.195 22.4777 102.173 22.4362H102.606C103.561 22.1323 104.578 21.9683 105.634 21.9683C106.198 21.9683 106.751 22.0151 107.289 22.1051V15.0428C106.861 15.0014 106.429 14.9759 105.992 14.9668L105.273 14.9668C96.3297 15.1525 89.0855 22.2522 88.6694 31.1373H88.6428V48.9281H95.6513V32.1339Z"),v(r,"fill","#1A1A1A"),v(o,"fill-rule","evenodd"),v(o,"clip-rule","evenodd"),v(o,"d","M225.067 31.32C225.067 21.8666 217.403 14.2031 207.95 14.2031C198.496 14.2031 190.833 21.8666 190.833 31.32L190.833 48.6281C190.833 48.8429 191.007 49.0171 191.222 49.0171L197.297 49.0171L197.297 32.4018C197.297 26.5213 202.064 21.7543 207.945 21.7543C213.825 21.7543 218.592 26.5213 218.592 32.4018L218.592 49.0171L224.678 49.0171C224.893 49.0171 225.067 48.8429 225.067 48.6281L225.067 31.32Z"),v(o,"fill","#1A1A1A"),v(a,"fill-rule","evenodd"),v(a,"clip-rule","evenodd"),v(a,"d","M323.987 31.7129C323.828 26.3439 319.426 22.0403 314.018 22.0403C308.51 22.0403 304.044 26.5056 304.044 32.0139C304.044 37.5222 308.51 41.9875 314.018 41.9875C319.426 41.9875 323.828 37.6839 323.987 32.3149L323.987 31.7129ZM330.996 32.3809L330.996 63.2729L323.987 63.2729L323.987 45.7624C321.187 47.7961 317.743 48.9954 314.017 48.9954C304.639 48.9954 297.035 41.3923 297.035 32.0133C297.035 22.6344 304.639 15.0313 314.017 15.0313C323.213 15.0313 330.702 22.3399 330.991 31.4652L330.996 31.4652L330.996 31.6458C330.998 31.768 331 31.8905 331 32.0133C331 32.1362 330.998 32.2587 330.996 32.3809Z"),v(a,"fill","#1A1A1A"),v(c,"fill-rule","evenodd"),v(c,"clip-rule","evenodd"),v(c,"d","M244.468 24.4554H244.467L244.467 31.227L244.504 31.2291C244.485 31.4819 244.475 31.7374 244.475 31.9952C244.475 37.5034 248.941 41.9688 254.449 41.9688C254.903 41.9688 255.351 41.9384 255.789 41.8796L255.789 48.9295C255.764 48.9314 255.74 48.9333 255.715 48.9351C255.69 48.937 255.665 48.9387 255.64 48.9405H253.257C244.7 48.3474 237.888 41.4152 237.485 32.8074H237.459L237.459 21.2165L228.831 21.2165L228.831 14.2081L237.459 14.2081L237.459 0.734375L244.468 0.734375L244.468 14.2081L253.091 14.2081V21.2165L244.468 21.2165V24.4554Z"),v(c,"fill","#1A1A1A"),v(h,"fill-rule","evenodd"),v(h,"clip-rule","evenodd"),v(h,"d","M293.526 31.984C293.526 32.7191 293.479 33.4433 293.389 34.1537H286.282C286.283 34.1533 286.283 34.1529 286.283 34.1525L266.808 34.1525C267.798 38.6184 271.782 41.9582 276.545 41.9582C280.068 41.9582 283.165 40.1316 284.939 37.3739H292.653C290.4 44.1108 284.039 48.9661 276.544 48.9661C267.165 48.9661 259.562 41.363 259.562 31.984C259.562 22.6051 267.165 15.002 276.544 15.002C285.923 15.002 293.526 22.6051 293.526 31.984ZM276.545 22.011C271.967 22.011 268.109 25.0959 266.937 29.3005L286.154 29.3005C284.982 25.0959 281.124 22.011 276.545 22.011Z"),v(h,"fill","#1A1A1A"),v(l,"fill-rule","evenodd"),v(l,"clip-rule","evenodd"),v(l,"d","M177.761 48.5164L187.647 31.3922L177.761 14.268L157.987 14.268L148.101 31.3922L157.987 48.5164L177.761 48.5164ZM174.2 42.2169L180.425 31.4358L174.2 20.6546L161.751 20.6546L155.527 31.4358L161.751 42.2169L174.2 42.2169Z"),v(l,"fill","#F0AD00"),v(u,"x","162.673"),v(u,"y","21.3652"),v(u,"width","2.19054"),v(u,"height","11.8289"),v(u,"transform","rotate(30 162.673 21.3652)"),v(u,"fill","#F0AD00"),v(m,"x","177.34"),v(m,"y","29.834"),v(m,"width","2.19054"),v(m,"height","11.8289"),v(m,"transform","rotate(30 177.34 29.834)"),v(m,"fill","#F0AD00"),v(t,"width","100%"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"viewBox","0 0 331 64"),v(t,"fill","none"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(d,f){st(d,t,f),I(t,e),I(t,s),I(t,n),I(t,r),I(t,o),I(t,a),I(t,c),I(t,h),I(t,l),I(t,u),I(t,m)},p:ot,i:ot,o:ot,d(d){d&&C(t)}}}class xo extends Lt{constructor(t){super(),Gt(this,t,null,W1,Dt,{})}}function J1(i,t){i.indexOf(t)===-1&&i.push(t)}function X1(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const i2=(i,t,e)=>Math.min(Math.max(e,i),t),Ge={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Rn=i=>typeof i=="number",Yi=i=>Array.isArray(i)&&!Rn(i[0]),Y1=(i,t,e)=>{const s=t-i;return((e-i)%s+s)%s+i};function n2(i,t){return Yi(i)?i[Y1(0,i.length,t)]:i}const lc=(i,t,e)=>-e*i+e*t+i,r2=()=>{},ri=i=>i,Nr=(i,t,e)=>t-i===0?1:(e-i)/(t-i);function hc(i,t){const e=i[i.length-1];for(let s=1;s<=t;s++){const n=Nr(0,t,s);i.push(lc(e,1,n))}}function o2(i){const t=[0];return hc(t,i-1),t}function Z1(i,t=o2(i.length),e=ri){const s=i.length,n=s-t.length;return n>0&&hc(t,n),r=>{let o=0;for(;o<s-2&&!(r<t[o+1]);o++);let a=i2(0,1,Nr(t[o],t[o+1],r));return a=n2(e,o)(a),lc(i[o],i[o+1],a)}}const a2=i=>Array.isArray(i)&&Rn(i[0]),Ir=i=>typeof i=="object"&&!!i.createAnimation,Fn=i=>typeof i=="function",c2=i=>typeof i=="string",Sn={ms:i=>i*1e3,s:i=>i/1e3},l2=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,K1=1e-7,Q1=12;function t0(i,t,e,s,n){let r,o,a=0;do o=t+(e-t)/2,r=l2(o,s,n)-i,r>0?e=o:t=o;while(Math.abs(r)>K1&&++a<Q1);return o}function yn(i,t,e,s){if(i===t&&e===s)return ri;const n=r=>t0(r,0,1,i,e);return r=>r===0||r===1?r:l2(n(r),t,s)}const e0=(i,t="end")=>e=>{e=t==="end"?Math.min(e,.999):Math.max(e,.001);const s=e*i,n=t==="end"?Math.floor(s):Math.ceil(s);return i2(0,1,n/i)},s0={ease:yn(.25,.1,.25,1),"ease-in":yn(.42,0,1,1),"ease-in-out":yn(.42,0,.58,1),"ease-out":yn(0,0,.58,1)},i0=/\((.*?)\)/;function qc(i){if(Fn(i))return i;if(a2(i))return yn(...i);const t=s0[i];if(t)return t;if(i.startsWith("steps")){const e=i0.exec(i);if(e){const s=e[1].split(",");return e0(parseFloat(s[0]),s[1].trim())}}return ri}class n0{constructor(t,e=[0,1],{easing:s,duration:n=Ge.duration,delay:r=Ge.delay,endDelay:o=Ge.endDelay,repeat:a=Ge.repeat,offset:c,direction:h="normal",autoplay:l=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=ri,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((m,d)=>{this.resolve=m,this.reject=d}),s=s||Ge.easing,Ir(s)){const m=s.createAnimation(e);s=m.easing,e=m.keyframes||e,n=m.duration||n}this.repeat=a,this.easing=Yi(s)?ri:qc(s),this.updateDuration(n);const u=Z1(e,c,Yi(s)?s.map(qc):ri);this.tick=m=>{var d;r=r;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(m-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-r,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const p=f/this.duration;let y=Math.floor(p),x=p%1;!x&&p>=1&&(x=1),x===1&&y--;const _=y%2;(h==="reverse"||h==="alternate"&&_||h==="alternate-reverse"&&!_)&&(x=1-x);const b=f>=this.totalDuration?1:Math.min(x,1),g=u(this.easing(b));t(g),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+o)?(this.playState="finished",(d=this.resolve)===null||d===void 0||d.call(this,g)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},l&&this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}var r0=function(){};class o0{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const vo=new WeakMap;function h2(i){return vo.has(i)||vo.set(i,{transforms:[],values:new Map}),vo.get(i)}function a0(i,t){return i.has(t)||i.set(t,new o0),i.get(t)}const c0=["","X","Y","Z"],l0=["translate","scale","rotate","skew"],Tr={x:"translateX",y:"translateY",z:"translateZ"},Hc={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:i=>i+"deg"},h0={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:i=>i+"px"},rotate:Hc,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:ri},skew:Hc},zn=new Map,uc=i=>`--motion-${i}`,kr=["x","y","z"];l0.forEach(i=>{c0.forEach(t=>{kr.push(i+t),zn.set(uc(i+t),h0[i])})});const u0=(i,t)=>kr.indexOf(i)-kr.indexOf(t),m0=new Set(kr),u2=i=>m0.has(i),d0=(i,t)=>{Tr[t]&&(t=Tr[t]);const{transforms:e}=h2(i);J1(e,t),i.style.transform=_0(e)},_0=i=>i.sort(u0).reduce(f0,"").trim(),f0=(i,t)=>`${i} ${t}(var(${uc(t)}))`,ua=i=>i.startsWith("--"),Uc=new Set;function p0(i){if(!Uc.has(i)){Uc.add(i);try{const{syntax:t,initialValue:e}=zn.has(i)?zn.get(i):{};CSS.registerProperty({name:i,inherits:!1,syntax:t,initialValue:e})}catch{}}}const Ao=(i,t)=>document.createElement("div").animate(i,t),Wc={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Ao({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Ao({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Ao({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},wo={},Wi={};for(const i in Wc)Wi[i]=()=>(wo[i]===void 0&&(wo[i]=Wc[i]()),wo[i]);const b0=.015,y0=(i,t)=>{let e="";const s=Math.round(t/b0);for(let n=0;n<s;n++)e+=i(Nr(0,s-1,n))+", ";return e.substring(0,e.length-2)},Jc=(i,t)=>Fn(i)?Wi.linearEasing()?`linear(${y0(i,t)})`:Ge.easing:a2(i)?g0(i):i,g0=([i,t,e,s])=>`cubic-bezier(${i}, ${t}, ${e}, ${s})`;function x0(i,t){for(let e=0;e<i.length;e++)i[e]===null&&(i[e]=e?i[e-1]:t());return i}const m2=i=>Array.isArray(i)?i:[i];function ma(i){return Tr[i]&&(i=Tr[i]),u2(i)?uc(i):i}const nr={get:(i,t)=>{t=ma(t);let e=ua(t)?i.style.getPropertyValue(t):getComputedStyle(i)[t];if(!e&&e!==0){const s=zn.get(t);s&&(e=s.initialValue)}return e},set:(i,t,e)=>{t=ma(t),ua(t)?i.style.setProperty(t,e):i.style[t]=e}};function d2(i,t=!0){if(!(!i||i.playState==="finished"))try{i.stop?i.stop():(t&&i.commitStyles(),i.cancel())}catch{}}function v0(i,t){var e;let s=(t==null?void 0:t.toDefaultUnit)||ri;const n=i[i.length-1];if(c2(n)){const r=((e=n.match(/(-?[\d.]+)([a-z%]*)/))===null||e===void 0?void 0:e[2])||"";r&&(s=o=>o+r)}return s}function A0(){return window.__MOTION_DEV_TOOLS_RECORD}function w0(i,t,e,s={},n){const r=A0(),o=s.record!==!1&&r;let a,{duration:c=Ge.duration,delay:h=Ge.delay,endDelay:l=Ge.endDelay,repeat:u=Ge.repeat,easing:m=Ge.easing,persist:d=!1,direction:f,offset:p,allowWebkitAcceleration:y=!1,autoplay:x=!0}=s;const _=h2(i),b=u2(t);let g=Wi.waapi();b&&d0(i,t);const A=ma(t),B=a0(_.values,A),w=zn.get(A);return d2(B.animation,!(Ir(m)&&B.generator)&&s.record!==!1),()=>{const P=()=>{var D,L;return(L=(D=nr.get(i,A))!==null&&D!==void 0?D:w==null?void 0:w.initialValue)!==null&&L!==void 0?L:0};let V=x0(m2(e),P);const S=v0(V,w);if(Ir(m)){const D=m.createAnimation(V,t!=="opacity",P,A,B);m=D.easing,V=D.keyframes||V,c=D.duration||c}if(ua(A)&&(Wi.cssRegisterProperty()?p0(A):g=!1),b&&!Wi.linearEasing()&&(Fn(m)||Yi(m)&&m.some(Fn))&&(g=!1),g){w&&(V=V.map(k=>Rn(k)?w.toDefaultUnit(k):k)),V.length===1&&(!Wi.partialKeyframes()||o)&&V.unshift(P());const D={delay:Sn.ms(h),duration:Sn.ms(c),endDelay:Sn.ms(l),easing:Yi(m)?void 0:Jc(m,c),direction:f,iterations:u+1,fill:"both"};a=i.animate({[A]:V,offset:p,easing:Yi(m)?m.map(k=>Jc(k,c)):void 0},D),a.finished||(a.finished=new Promise((k,E)=>{a.onfinish=k,a.oncancel=E}));const L=V[V.length-1];a.finished.then(()=>{d||(nr.set(i,A,L),a.cancel())}).catch(r2),y||(a.playbackRate=1.000001)}else if(n&&b)V=V.map(D=>typeof D=="string"?parseFloat(D):D),V.length===1&&V.unshift(parseFloat(P())),a=new n(D=>{nr.set(i,A,S?S(D):D)},V,Object.assign(Object.assign({},s),{duration:c,easing:m}));else{const D=V[V.length-1];nr.set(i,A,w&&Rn(D)?w.toDefaultUnit(D):D)}return o&&r(i,t,V,{duration:c,delay:h,easing:m,repeat:u,offset:p},"motion-one"),B.setAnimation(a),a&&!x&&a.pause(),a}}const C0=(i,t)=>i[t]?Object.assign(Object.assign({},i),i[t]):Object.assign({},i);function S0(i,t){var e;return typeof i=="string"?t?((e=t[i])!==null&&e!==void 0||(t[i]=document.querySelectorAll(i)),i=t[i]):i=document.querySelectorAll(i):i instanceof Element&&(i=[i]),Array.from(i||[])}const B0=i=>i(),V0=(i,t,e=Ge.duration)=>new Proxy({animations:i.map(B0).filter(Boolean),duration:e,options:t},P0),M0=i=>i.animations[0],P0={get:(i,t)=>{const e=M0(i);switch(t){case"duration":return i.duration;case"currentTime":return Sn.s((e==null?void 0:e[t])||0);case"playbackRate":case"playState":return e==null?void 0:e[t];case"finished":return i.finished||(i.finished=Promise.all(i.animations.map(I0)).catch(r2)),i.finished;case"stop":return()=>{i.animations.forEach(s=>d2(s))};case"forEachNative":return s=>{i.animations.forEach(n=>s(n,i))};default:return typeof(e==null?void 0:e[t])>"u"?void 0:()=>i.animations.forEach(s=>s[t]())}},set:(i,t,e)=>{switch(t){case"currentTime":e=Sn.ms(e);case"playbackRate":for(let s=0;s<i.animations.length;s++)i.animations[s][t]=e;return!0}return!1}},I0=i=>i.finished;function T0(i,t,e){return Fn(i)?i(t,e):i}function k0(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(i);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(i,s[n])&&(e[s[n]]=i[s[n]]);return e}function Xc(i,t,e,s){var n;return Rn(t)?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,i+parseFloat(t)):t==="<"?e:(n=s.get(t))!==null&&n!==void 0?n:i}function E0(i,t,e){for(let s=0;s<i.length;s++){const n=i[s];n.at>t&&n.at<e&&(X1(i,n),s--)}}function D0(i,t,e,s,n,r){E0(i,n,r);for(let o=0;o<t.length;o++)i.push({value:t[o],at:lc(n,r,s[o]),easing:n2(e,o)})}function L0(i,t){return i.at===t.at?i.value===null?1:-1:i.at-t.at}function rr(i,t={}){var e;const s=G0(i,t),n=s.map(r=>w0(...r,n0)).filter(Boolean);return V0(n,t,(e=s[0])===null||e===void 0?void 0:e[3].duration)}function G0(i,t={}){var{defaultOptions:e={}}=t,s=k0(t,["defaultOptions"]);const n=[],r=new Map,o={},a=new Map;let c=0,h=0,l=0;for(let u=0;u<i.length;u++){const m=i[u];if(c2(m)){a.set(m,h);continue}else if(!Array.isArray(m)){a.set(m.name,Xc(h,m.at,c,a));continue}const[d,f,p={}]=m;p.at!==void 0&&(h=Xc(h,p.at,c,a));let y=0;const x=S0(d,o),_=x.length;for(let b=0;b<_;b++){const g=x[b],A=R0(g,r);for(const B in f){const w=F0(B,A);let P=m2(f[B]);const V=C0(p,B);let{duration:S=e.duration||Ge.duration,easing:D=e.easing||Ge.easing}=V;if(Ir(D)){r0(B==="opacity"||P.length>1);const U=D.createAnimation(P,B!=="opacity",()=>0,B);D=U.easing,P=U.keyframes||P,S=U.duration||S}const L=T0(p.delay,b,_)||0,k=h+L,E=k+S;let{offset:R=o2(P.length)}=V;R.length===1&&R[0]===0&&(R[1]=1);const z=R.length-P.length;z>0&&hc(R,z),P.length===1&&P.unshift(null),D0(w,P,D,R,k,E),y=Math.max(L+S,y),l=Math.max(E,l)}}c=h,h+=y}return r.forEach((u,m)=>{for(const d in u){const f=u[d];f.sort(L0);const p=[],y=[],x=[];for(let _=0;_<f.length;_++){const{at:b,value:g,easing:A}=f[_];p.push(g),y.push(Nr(0,l,b)),x.push(A||Ge.easing)}y[0]!==0&&(y.unshift(0),p.unshift(p[0]),x.unshift("linear")),y[y.length-1]!==1&&(y.push(1),p.push(null)),n.push([m,d,p,Object.assign(Object.assign(Object.assign({},e),{duration:l,easing:x,offset:y}),s)])}}),n}function R0(i,t){return!t.has(i)&&t.set(i,{}),t.get(i)}function F0(i,t){return t[i]||(t[i]=[]),t[i]}function Yc(i){return i<.5?.5*Math.sin(13*Math.PI/2*2*i)*Math.pow(2,10*(2*i-1)):.5*Math.sin(-13*Math.PI/2*(2*i-1+1))*Math.pow(2,-10*(2*i-1))+1}function Zc(i,t,e){const s=i.slice();return s[15]=t[e],s[16]=t,s[17]=e,s}function Kc(i,t,e){const s=i.slice();return s[15]=t[e],s[18]=t,s[17]=e,s}function Qc(i){let t,e,s,n,r,o=[],a=new Map,c,h=Es(i[0]);const l=u=>u[15].id;for(let u=0;u<h.length;u+=1){let m=Kc(i,h,u),d=l(m);a.set(d,o[u]=tl(d,m))}return{c(){t=J("div"),e=J("div"),s=J("div"),n=bt(),r=J("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){t=X(u,"DIV",{class:!0});var m=T(t);e=X(m,"DIV",{class:!0,style:!0});var d=T(e);s=X(d,"DIV",{class:!0}),T(s).forEach(C),d.forEach(C),n=yt(m),r=X(m,"DIV",{class:!0});var f=T(r);for(let p=0;p<o.length;p+=1)o[p].l(f);f.forEach(C),m.forEach(C),this.h()},h(){v(s,"class","timeline-line svelte-1nncv8e"),v(e,"class","timeline-container svelte-1nncv8e"),M(e,"--timelineMarginLeft",i[3]),v(r,"class","experience-text-container svelte-1nncv8e"),v(t,"class","mobile-flex svelte-1nncv8e")},m(u,m){st(u,t,m),I(t,e),I(e,s),i[8](s),I(t,n),I(t,r);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(r,null);c=!0},p(u,m){(!c||m&8)&&M(e,"--timelineMarginLeft",u[3]),m&5&&(h=Es(u[0]),ss(),o=ic(o,m,l,1,u,h,a,r,Qh,tl,null,Kc),is())},i(u){if(!c){for(let m=0;m<h.length;m+=1)K(o[m]);c=!0}},o(u){for(let m=0;m<o.length;m+=1)rt(o[m]);c=!1},d(u){u&&C(t),i[8](null);for(let m=0;m<o.length;m+=1)o[m].d()}}}function tl(i,t){let e,s,n=t[17],r,o,a,c,h,l,u=t[15].designation+"",m,d,f,p=t[15].year+"",y,x,_;const b=()=>t[9](s,n),g=()=>t[9](null,n);var A=t[15].company;function B(w,P){return{}}return A&&(c=Vr(A,B())),{key:i,first:null,c(){e=J("div"),s=J("div"),r=bt(),o=J("div"),a=J("div"),c&&Bt(c.$$.fragment),h=bt(),l=J("div"),m=Ue(u),d=bt(),f=J("div"),y=Ue(p),x=bt(),this.h()},l(w){e=X(w,"DIV",{style:!0});var P=T(e);s=X(P,"DIV",{class:!0,style:!0}),T(s).forEach(C),r=yt(P),o=X(P,"DIV",{});var V=T(o);a=X(V,"DIV",{style:!0});var S=T(a);c&&It(c.$$.fragment,S),S.forEach(C),h=yt(V),l=X(V,"DIV",{style:!0});var D=T(l);m=We(D,u),D.forEach(C),d=yt(V),f=X(V,"DIV",{style:!0});var L=T(f);y=We(L,p),L.forEach(C),V.forEach(C),x=yt(P),P.forEach(C),this.h()},h(){v(s,"class","experience-circle svelte-1nncv8e"),M(s,"min-width",t[17]===0?"1.5rem":"1rem"),M(s,"height",t[17]===0?"1.5rem":"1rem"),M(a,"max-width","4.5rem"),M(l,"margin-bottom","0.25rem"),M(f,"margin-top","0.25rem"),M(e,"display","flex"),M(e,"gap","1rem"),this.first=e},m(w,P){st(w,e,P),I(e,s),b(),I(e,r),I(e,o),I(o,a),c&&Vt(c,a,null),I(o,h),I(o,l),I(l,m),I(o,d),I(o,f),I(f,y),I(e,x),_=!0},p(w,P){if(t=w,(!_||P&1)&&M(s,"min-width",t[17]===0?"1.5rem":"1rem"),(!_||P&1)&&M(s,"height",t[17]===0?"1.5rem":"1rem"),n!==t[17]&&(g(),n=t[17],b()),P&1&&A!==(A=t[15].company)){if(c){ss();const V=c;rt(V.$$.fragment,1,0,()=>{Mt(V,1)}),is()}A?(c=Vr(A,B()),Bt(c.$$.fragment),K(c.$$.fragment,1),Vt(c,a,null)):c=null}(!_||P&1)&&u!==(u=t[15].designation+"")&&kn(m,u),(!_||P&1)&&p!==(p=t[15].year+"")&&kn(y,p)},i(w){_||(c&&K(c.$$.fragment,w),_=!0)},o(w){c&&rt(c.$$.fragment,w),_=!1},d(w){w&&C(e),g(),c&&Mt(c)}}}function el(i){let t,e=[],s=new Map,n,r,o,a,c=Es(i[0]);const h=l=>l[15].id;for(let l=0;l<c.length;l+=1){let u=Zc(i,c,l),m=h(u);s.set(m,e[l]=sl(m,u))}return{c(){t=J("div");for(let l=0;l<e.length;l+=1)e[l].c();n=bt(),r=J("div"),o=J("div"),this.h()},l(l){t=X(l,"DIV",{class:!0});var u=T(t);for(let d=0;d<e.length;d+=1)e[d].l(u);u.forEach(C),n=yt(l),r=X(l,"DIV",{class:!0,style:!0});var m=T(r);o=X(m,"DIV",{class:!0}),T(o).forEach(C),m.forEach(C),this.h()},h(){v(t,"class","experience-text-container svelte-1nncv8e"),v(o,"class","timeline-line svelte-1nncv8e"),v(r,"class","timeline-container svelte-1nncv8e"),M(r,"--timelineMarginLeft",i[3])},m(l,u){st(l,t,u);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);st(l,n,u),st(l,r,u),I(r,o),i[11](o),a=!0},p(l,u){u&5&&(c=Es(l[0]),ss(),e=ic(e,u,h,1,l,c,s,t,Qh,sl,null,Zc),is()),(!a||u&8)&&M(r,"--timelineMarginLeft",l[3])},i(l){if(!a){for(let u=0;u<c.length;u+=1)K(e[u]);a=!0}},o(l){for(let u=0;u<e.length;u+=1)rt(e[u]);a=!1},d(l){l&&(C(t),C(n),C(r));for(let u=0;u<e.length;u+=1)e[u].d();i[11](null)}}}function sl(i,t){let e,s,n,r,o,a=t[15].designation+"",c,h,l,u=t[17],m,d,f=t[15].year+"",p,y,x;var _=t[15].company;function b(B,w){return{}}_&&(n=Vr(_,b()));const g=()=>t[10](l,u),A=()=>t[10](null,u);return{key:i,first:null,c(){e=J("div"),s=J("div"),n&&Bt(n.$$.fragment),r=bt(),o=J("div"),c=Ue(a),h=bt(),l=J("div"),m=bt(),d=J("div"),p=Ue(f),y=bt(),this.h()},l(B){e=X(B,"DIV",{});var w=T(e);s=X(w,"DIV",{style:!0});var P=T(s);n&&It(n.$$.fragment,P),P.forEach(C),r=yt(w),o=X(w,"DIV",{style:!0});var V=T(o);c=We(V,a),V.forEach(C),h=yt(w),l=X(w,"DIV",{class:!0,style:!0}),T(l).forEach(C),m=yt(w),d=X(w,"DIV",{style:!0});var S=T(d);p=We(S,f),S.forEach(C),y=yt(w),w.forEach(C),this.h()},h(){M(s,"max-width","4.5rem"),M(o,"margin-bottom","0.25rem"),v(l,"class","experience-circle svelte-1nncv8e"),M(l,"width",t[17]===0?"1.5rem":"1rem"),M(l,"height",t[17]===0?"1.5rem":"1rem"),M(d,"margin-top","0.25rem"),this.first=e},m(B,w){st(B,e,w),I(e,s),n&&Vt(n,s,null),I(e,r),I(e,o),I(o,c),I(e,h),I(e,l),g(),I(e,m),I(e,d),I(d,p),I(e,y),x=!0},p(B,w){if(t=B,w&1&&_!==(_=t[15].company)){if(n){ss();const P=n;rt(P.$$.fragment,1,0,()=>{Mt(P,1)}),is()}_?(n=Vr(_,b()),Bt(n.$$.fragment),K(n.$$.fragment,1),Vt(n,s,null)):n=null}(!x||w&1)&&a!==(a=t[15].designation+"")&&kn(c,a),(!x||w&1)&&M(l,"width",t[17]===0?"1.5rem":"1rem"),(!x||w&1)&&M(l,"height",t[17]===0?"1.5rem":"1rem"),u!==t[17]&&(A(),u=t[17],g()),(!x||w&1)&&f!==(f=t[15].year+"")&&kn(p,f)},i(B){x||(n&&K(n.$$.fragment,B),x=!0)},o(B){n&&rt(n.$$.fragment,B),x=!1},d(B){B&&C(e),n&&Mt(n),A()}}}function z0(i){let t,e,s,n=i[4]&&Qc(i),r=!i[4]&&el(i);return{c(){n&&n.c(),t=bt(),r&&r.c(),e=ks()},l(o){n&&n.l(o),t=yt(o),r&&r.l(o),e=ks()},m(o,a){n&&n.m(o,a),st(o,t,a),r&&r.m(o,a),st(o,e,a),s=!0},p(o,[a]){o[4]?n?(n.p(o,a),a&16&&K(n,1)):(n=Qc(o),n.c(),K(n,1),n.m(t.parentNode,t)):n&&(ss(),rt(n,1,1,()=>{n=null}),is()),o[4]?r&&(ss(),rt(r,1,1,()=>{r=null}),is()):r?(r.p(o,a),a&16&&K(r,1)):(r=el(o),r.c(),K(r,1),r.m(e.parentNode,e))},i(o){s||(K(n),K(r),s=!0)},o(o){rt(n),rt(r),s=!1},d(o){o&&(C(t),C(e)),n&&n.d(o),r&&r.d(o)}}}function O0(i,t,e){let{myExperience:s}=t,n,r=[],o="0px";const a=(_,b)=>{const{left:g}=_.getBoundingClientRect(),{left:A}=b.getBoundingClientRect();return A-g},c=(_,b)=>{const{top:g}=_.getBoundingClientRect(),{top:A}=b.getBoundingClientRect();return A-g},h=(_,b)=>m?c(_,b):a(_,b),l=_=>{e(3,o=`${r[0].getBoundingClientRect().width*.5}px`);const b=[[n,{width:0},{duration:0}]];if(_){const g=[...r.slice(1).map(A=>[A,{width:"1rem",height:"1rem"},{duration:0}]),[n,{width:0},{duration:0}]];rr(g);return}for(const g in r)g!=="0"&&(b.push([n,{width:`${h(r[0],r[g])}px`},{duration:1}]),b.push([r[g],{width:"1.5rem",height:"1.5rem"},{duration:1,easing:Yc,at:"-0.55"}]));rr(b)},u=_=>{e(3,o=`${r[0].getBoundingClientRect().top-n.getBoundingClientRect().top+r[0].getBoundingClientRect().height*.3}px`);const b=[[n,{height:0},{duration:0}]];if(_){const g=[...r.slice(1).map(A=>[A,{minWidth:"1rem",height:"1rem"},{duration:0}]),[n,{height:0},{duration:0}]];rr(g);return}for(const g in r)g!=="0"&&(h(r[0],r[g]),b.push([n,{height:`${h(r[0],r[g])}px`},{duration:1}]),b.push([r[g],{minWidth:"1.5rem",height:"1.5rem"},{duration:1,easing:Yc,at:"-0.55"}]));rr(b)};let m=!1;const d=_=>{if(m){u(_);return}l(_)};Xs(()=>{e(4,m=window.screen.width<=576)});function f(_){Ee[_?"unshift":"push"](()=>{n=_,e(1,n)})}function p(_,b){Ee[_?"unshift":"push"](()=>{r[b]=_,e(2,r)})}function y(_,b){Ee[_?"unshift":"push"](()=>{r[b]=_,e(2,r)})}function x(_){Ee[_?"unshift":"push"](()=>{n=_,e(1,n)})}return i.$$set=_=>{"myExperience"in _&&e(0,s=_.myExperience)},[s,n,r,o,m,l,u,d,f,p,y,x]}class $0 extends Lt{constructor(t){super(),Gt(this,t,O0,z0,Dt,{myExperience:0,playAnimationDesktop:5,playAnimationMobile:6,playAnimation:7})}get playAnimationDesktop(){return this.$$.ctx[5]}get playAnimationMobile(){return this.$$.ctx[6]}get playAnimation(){return this.$$.ctx[7]}}function j0(i){let t,e,s,n,r,o,a,c,h,l,u,m,d,f,p,y,x,_,b;return{c(){t=O("svg"),e=O("path"),s=O("path"),n=O("path"),r=O("path"),o=O("polygon"),a=O("polygon"),c=O("polygon"),h=O("path"),l=O("g"),u=O("polygon"),m=O("polygon"),d=O("polygon"),f=O("rect"),p=O("g"),y=O("rect"),x=O("rect"),_=O("rect"),b=O("path"),this.h()},l(g){t=$(g,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,viewBox:!0,"xml:space":!0});var A=T(t);e=$(A,"path",{style:!0,d:!0}),T(e).forEach(C),s=$(A,"path",{style:!0,d:!0}),T(s).forEach(C),n=$(A,"path",{style:!0,d:!0}),T(n).forEach(C),r=$(A,"path",{style:!0,d:!0}),T(r).forEach(C),o=$(A,"polygon",{style:!0,points:!0}),T(o).forEach(C),a=$(A,"polygon",{style:!0,points:!0}),T(a).forEach(C),c=$(A,"polygon",{style:!0,points:!0}),T(c).forEach(C),h=$(A,"path",{style:!0,d:!0}),T(h).forEach(C),l=$(A,"g",{});var B=T(l);u=$(B,"polygon",{style:!0,points:!0}),T(u).forEach(C),m=$(B,"polygon",{style:!0,points:!0}),T(m).forEach(C),d=$(B,"polygon",{style:!0,points:!0}),T(d).forEach(C),B.forEach(C),f=$(A,"rect",{x:!0,y:!0,style:!0,width:!0,height:!0}),T(f).forEach(C),p=$(A,"g",{});var w=T(p);y=$(w,"rect",{x:!0,y:!0,style:!0,width:!0,height:!0}),T(y).forEach(C),x=$(w,"rect",{x:!0,y:!0,style:!0,width:!0,height:!0}),T(x).forEach(C),_=$(w,"rect",{x:!0,y:!0,style:!0,width:!0,height:!0}),T(_).forEach(C),w.forEach(C),b=$(A,"path",{style:!0,d:!0}),T(b).forEach(C),A.forEach(C),this.h()},h(){M(e,"fill","#2D4961"),v(e,"d",`M382.025,127.066c11.331-9.116,17.92-22.878,17.912-37.424V31.987
	C399.938,14.322,385.616,0,367.951,0H144.046c-17.665,0-31.987,14.322-31.987,31.987v57.656
	c-0.008,14.546,6.581,28.308,17.912,37.424l110.034,88.443v18.312v0.48L205.14,308.51l-77.567,11.835
	c-9.836,1.407-16.673,10.524-15.266,20.359c0.536,3.742,2.239,7.229,4.87,9.948l56.616,58.055l-13.754,82.205
	c-1.591,9.812,5.062,19.056,14.874,20.647c3.982,0.648,8.069-0.064,11.595-2.015l69.491-38.224l69.171,38.224
	c8.58,5.006,19.6,2.103,24.606-6.477c2.135-3.67,2.911-7.973,2.183-12.155l-13.754-82.205l56.616-58.056
	c6.917-7.133,6.749-18.52-0.384-25.445c-2.671-2.591-6.085-4.294-9.772-4.862l-77.567-11.835l-35.105-74.289v-0.48v-18.232
	L382.025,127.066z`),M(s,"fill","#123247"),v(s,"d",`M383.945,47.98V94.04c-0.016,7.285-3.343,14.17-9.036,18.712l-86.923,69.651
	c-10.092,8.029-15.977,20.215-15.993,33.106l0,0l110.034-88.443c11.331-9.116,17.92-22.878,17.912-37.424V31.987
	C391.11,31.987,383.945,39.143,383.945,47.98z`),M(n,"fill","#44637F"),v(n,"d",`M144.046,0c-17.665,0-31.987,14.322-31.987,31.987v55.976l0,0c8.836,0,15.993-7.157,15.993-15.993
	V31.987c0-8.836,7.157-15.993,15.993-15.993h207.912c8.836,0,15.993-7.157,15.993-15.993H144.046z`),M(r,"fill","#123247"),v(r,"d",`M338.204,408.708l56.616-58.056c4.718-4.838,6.317-11.915,4.158-18.312
	c-0.36-0.888-0.784-1.743-1.279-2.559c-4.062,0.4-7.909,2.015-11.035,4.638l-45.341,46.46c-7.085,7.277-10.292,17.489-8.636,27.508
	l10.795,66.212c1.591,9.812-5.062,19.056-14.874,20.647c-3.982,0.648-8.069-0.064-11.595-2.015l-53.657-29.428
	c-9.732-5.47-21.615-5.47-31.347,0l-53.258,29.588c-0.736,0.36-1.519,0.624-2.319,0.8c-5.614,1.583-8.876,7.421-7.285,13.027
	c0.232,0.808,0.552,1.591,0.968,2.327l0,0c5.246,2.799,11.547,2.799,16.793,0l69.091-38.224l69.171,38.224
	c8.58,5.006,19.6,2.103,24.606-6.477c2.135-3.67,2.911-7.973,2.183-12.155L338.204,408.708z`),M(o,"fill","#FFCB5B"),v(o,"points",`255.999,434.777 196.584,467.643 207.939,397.912 159.08,347.853 226.571,337.538 
	255.999,274.844 285.426,337.538 352.918,347.853 304.058,397.912 315.414,467.643 `),M(a,"fill","#FFDB6F"),v(a,"points",`235.527,350.572 263.516,290.917 255.999,274.844 226.571,337.538 159.08,347.853 
	171.314,360.408 `),M(c,"fill","#F7B84E"),v(c,"points",`352.918,347.853 335.085,345.134 295.102,386.157 306.457,455.808 247.042,423.022 
	199.622,449.171 196.584,467.643 255.999,434.777 315.414,467.643 304.058,397.912 `),M(h,"fill","#3689C9"),v(h,"d",`M150.043,102.117c-3.79-3.031-5.997-7.621-5.997-12.475V31.987h223.906v57.656
	c0,4.854-2.207,9.444-5.997,12.475l-105.955,85.164L150.043,102.117z`),M(u,"fill","#E2E5E7"),v(u,"points","327.968,129.465 327.968,47.98 295.982,47.98 295.982,155.135 	"),M(m,"fill","#E2E5E7"),v(m,"points","216.016,155.135 216.016,47.98 184.029,47.98 184.029,129.465 	"),M(d,"fill","#E2E5E7"),v(d,"points","240.005,174.406 255.999,187.281 271.992,174.406 271.992,47.98 240.005,47.98 	"),v(f,"x","144.022"),v(f,"y","31.987"),M(f,"fill","#4C9FD7"),v(f,"width","223.906"),v(f,"height","15.993"),v(y,"x","184.005"),v(y,"y","31.987"),M(y,"fill","#F1F2F2"),v(y,"width","31.987"),v(y,"height","15.993"),v(x,"x","239.981"),v(x,"y","31.987"),M(x,"fill","#F1F2F2"),v(x,"width","31.987"),v(x,"height","15.993"),v(_,"x","295.958"),v(_,"y","31.987"),M(_,"fill","#F1F2F2"),v(_,"width","31.987"),v(_,"height","15.993"),M(b,"fill","#44637F"),v(b,"d",`M240.005,215.909v17.912v0.48L205.14,308.51l-77.567,11.835
	c-9.836,1.407-16.673,10.524-15.266,20.359c0.536,3.742,2.239,7.229,4.87,9.948l2.879,3.039c0.104-8.732,6.549-16.097,15.194-17.353
	l61.334-9.356c10.308-1.463,19.256-7.845,23.99-17.113l31.267-61.974c2.719-5.294,4.142-11.163,4.158-17.113l0,0
	c0-8.213-6.661-14.874-14.874-14.874l0,0H240.005z`),v(t,"version","1.1"),v(t,"id","Layer_1"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(t,"viewBox","0 0 511.997 511.997"),v(t,"xml:space","preserve")},m(g,A){st(g,t,A),I(t,e),I(t,s),I(t,n),I(t,r),I(t,o),I(t,a),I(t,c),I(t,h),I(t,l),I(l,u),I(l,m),I(l,d),I(t,f),I(t,p),I(p,y),I(p,x),I(p,_),I(t,b)},p:ot,i:ot,o:ot,d(g){g&&C(t)}}}class N0 extends Lt{constructor(t){super(),Gt(this,t,null,j0,Dt,{})}}function q0(i){let t,e,s="Experience",n,r,o,a,c,h,l,u,m;function d(p){i[2](p)}let f={myExperience:i[1]};return i[0]!==void 0&&(f.playAnimation=i[0]),a=new $0({props:f}),Ee.push(()=>ca(a,"playAnimation",d)),u=new N0({}),{c(){t=J("div"),e=J("h3"),e.textContent=s,n=bt(),r=J("div"),o=J("div"),Bt(a.$$.fragment),h=bt(),l=J("div"),Bt(u.$$.fragment),this.h()},l(p){t=X(p,"DIV",{class:!0});var y=T(t);e=X(y,"H3",{"data-svelte-h":!0}),gs(e)!=="svelte-1gia4mc"&&(e.textContent=s),n=yt(y),r=X(y,"DIV",{class:!0});var x=T(r);o=X(x,"DIV",{class:!0});var _=T(o);It(a.$$.fragment,_),_.forEach(C),h=yt(x),l=X(x,"DIV",{class:!0});var b=T(l);It(u.$$.fragment,b),b.forEach(C),x.forEach(C),y.forEach(C),this.h()},h(){v(o,"class","time-line svelte-61f980"),v(l,"class","rank-icon svelte-61f980"),v(r,"class","space-div svelte-61f980"),v(t,"class","section-container svelte-61f980")},m(p,y){st(p,t,y),I(t,e),I(t,n),I(t,r),I(r,o),Vt(a,o,null),I(r,h),I(r,l),Vt(u,l,null),m=!0},p(p,[y]){const x={};!c&&y&1&&(c=!0,x.playAnimation=p[0],ra(()=>c=!1)),a.$set(x)},i(p){m||(K(a.$$.fragment,p),K(u.$$.fragment,p),m=!0)},o(p){rt(a.$$.fragment,p),rt(u.$$.fragment,p),m=!1},d(p){p&&C(t),Mt(a),Mt(u)}}}function H0(i,t,e){const s=[{designation:"Associate Software Engineer",company:xo,year:2022,id:"1"},{designation:"Software Engineer",company:xo,year:2023,id:"2"},{designation:" Senior Software Engineer",company:xo,year:2024,id:"3"}];let{timeLineAnimation:n}=t;function r(o){n=o,e(0,n)}return i.$$set=o=>{"timeLineAnimation"in o&&e(0,n=o.timeLineAnimation)},[n,s,r]}class U0 extends Lt{constructor(t){super(),Gt(this,t,H0,q0,Dt,{timeLineAnimation:0})}}function W0(i){let t,e,s,n;const r=i[2].default,o=xs(r,i,i[1],null);let a=[{"aria-label":"thumbnail"},i[0]],c={};for(let h=0;h<a.length;h+=1)c=ae(c,a[h]);return{c(){t=J("div"),o&&o.c(),this.h()},l(h){t=X(h,"DIV",{"aria-label":!0});var l=T(t);o&&o.l(l),l.forEach(C),this.h()},h(){Je(t,c),jt(t,"svelte-lightbox-thumbnail",!0),jt(t,"svelte-hpqpx9",!0)},m(h,l){st(h,t,l),o&&o.m(t,null),e=!0,s||(n=Be(t,"click",i[3]),s=!0)},p(h,[l]){o&&o.p&&(!e||l&2)&&vs(o,r,h,h[1],e?ws(r,h[1],l,null):As(h[1]),null),Je(t,c=hs(a,[{"aria-label":"thumbnail"},l&1&&h[0]])),jt(t,"svelte-lightbox-thumbnail",!0),jt(t,"svelte-hpqpx9",!0)},i(h){e||(K(o,h),e=!0)},o(h){rt(o,h),e=!1},d(h){h&&C(t),o&&o.d(h),s=!1,n()}}}function J0(i,t,e){const s=[];let n=ls(t,s),{$$slots:r={},$$scope:o}=t;function a(c){ec.call(this,i,c)}return i.$$set=c=>{t=ae(ae({},t),on(c)),e(0,n=ls(t,s)),"$$scope"in c&&e(1,o=c.$$scope)},[n,o,r,a]}class X0 extends Lt{constructor(t){super(),Gt(this,t,J0,W0,Dt,{})}}function Y0(i){let t,e;const s=i[3].default,n=xs(s,i,i[2],null);let r=[i[1]],o={};for(let a=0;a<r.length;a+=1)o=ae(o,r[a]);return{c(){t=J("div"),n&&n.c(),this.h()},l(a){t=X(a,"DIV",{});var c=T(t);n&&n.l(c),c.forEach(C),this.h()},h(){Je(t,o)},m(a,c){st(a,t,c),n&&n.m(t,null),i[4](t),e=!0},p(a,[c]){n&&n.p&&(!e||c&4)&&vs(n,s,a,a[2],e?ws(s,a[2],c,null):As(a[2]),null),Je(t,o=hs(r,[c&2&&a[1]]))},i(a){e||(K(n,a),e=!0)},o(a){rt(n,a),e=!1},d(a){a&&C(t),n&&n.d(a),i[4](null)}}}function Z0(i,t,e){const s=[];let n=ls(t,s),{$$slots:r={},$$scope:o}=t,a,c;const h=()=>{c=document.createElement("div"),document.body.appendChild(c),c.appendChild(a)},l=()=>{typeof document<"u"&&document.body.removeChild(c)};Xs(h),sc(l);function u(m){Ee[m?"unshift":"push"](()=>{a=m,e(0,a)})}return i.$$set=m=>{t=ae(ae({},t),on(m)),e(1,n=ls(t,s)),"$$scope"in m&&e(2,o=m.$$scope)},[a,n,o,r,u]}class K0 extends Lt{constructor(t){super(),Gt(this,t,Z0,Y0,Dt,{})}}function il(i){let t,e,s,n,r=[i[0]],o={};for(let a=0;a<r.length;a+=1)o=ae(o,r[a]);return{c(){t=J("button"),e=Ue(""),this.h()},l(a){t=X(a,"BUTTON",{});var c=T(t);e=We(c,""),c.forEach(C),this.h()},h(){Je(t,o),jt(t,"fullscreen",i[2]==="fullscreen"),jt(t,"svelte-5qj430",!0)},m(a,c){st(a,t,c),I(t,e),t.autofocus&&t.focus(),s||(n=Be(t,"click",i[8]),s=!0)},p(a,c){Je(t,o=hs(r,[c&1&&a[0]])),jt(t,"fullscreen",a[2]==="fullscreen"),jt(t,"svelte-5qj430",!0)},d(a){a&&C(t),s=!1,n()}}}function Q0(i){let t,e,s,n=i[1]&&il(i),r=[{class:"svelte-lightbox-header"},i[5]],o={};for(let a=0;a<r.length;a+=1)o=ae(o,r[a]);return{c(){t=J("div"),n&&n.c(),this.h()},l(a){t=X(a,"DIV",{class:!0});var c=T(t);n&&n.l(c),c.forEach(C),this.h()},h(){Je(t,o),jt(t,"fullscreen",i[2]==="fullscreen"),jt(t,"svelte-5qj430",!0)},m(a,c){st(a,t,c),n&&n.m(t,null),e||(s=Be(window,"keydown",i[7]),e=!0)},p(a,[c]){a[1]?n?n.p(a,c):(n=il(a),n.c(),n.m(t,null)):n&&(n.d(1),n=null),Je(t,o=hs(r,[{class:"svelte-lightbox-header"},c&32&&a[5]])),jt(t,"fullscreen",a[2]==="fullscreen"),jt(t,"svelte-5qj430",!0)},i:ot,o:ot,d(a){a&&C(t),n&&n.d(),e=!1,s()}}}function tm(i,t,e){const s=["closeButtonProps","showCloseButton","enableEscapeToClose","imagePreset"];let n=ls(t,s);const r=n1();let{closeButtonProps:o={}}=t,{showCloseButton:a}=t,{enableEscapeToClose:c}=t,{imagePreset:h}=t;const l=d=>{c&&d.key==="Escape"&&r("close")},u=d=>l(d),m=()=>r("close");return i.$$set=d=>{t=ae(ae({},t),on(d)),e(5,n=ls(t,s)),"closeButtonProps"in d&&e(0,o=d.closeButtonProps),"showCloseButton"in d&&e(1,a=d.showCloseButton),"enableEscapeToClose"in d&&e(6,c=d.enableEscapeToClose),"imagePreset"in d&&e(2,h=d.imagePreset)},[o,a,h,r,l,n,c,u,m]}class em extends Lt{constructor(t){super(),Gt(this,t,tm,Q0,Dt,{closeButtonProps:0,showCloseButton:1,enableEscapeToClose:6,imagePreset:2})}}function sm(i){let t,e;const s=i[3].default,n=xs(s,i,i[2],null);return{c(){t=J("div"),n&&n.c(),this.h()},l(r){t=X(r,"DIV",{class:!0});var o=T(t);n&&n.l(o),o.forEach(C),this.h()},h(){v(t,"class","svelte-lightbox-body svelte-1d3ym4l"),jt(t,"fullscreen",i[0]==="fullscreen"),jt(t,"scroll",i[0]==="scroll"),jt(t,"expand",i[1])},m(r,o){st(r,t,o),n&&n.m(t,null),e=!0},p(r,[o]){n&&n.p&&(!e||o&4)&&vs(n,s,r,r[2],e?ws(s,r[2],o,null):As(r[2]),null),(!e||o&1)&&jt(t,"fullscreen",r[0]==="fullscreen"),(!e||o&1)&&jt(t,"scroll",r[0]==="scroll"),(!e||o&2)&&jt(t,"expand",r[1])},i(r){e||(K(n,r),e=!0)},o(r){rt(n,r),e=!1},d(r){r&&C(t),n&&n.d(r)}}}function im(i,t,e){let{$$slots:s={},$$scope:n}=t,{imagePreset:r}=t,{enableImageExpand:o}=t;return i.$$set=a=>{"imagePreset"in a&&e(0,r=a.imagePreset),"enableImageExpand"in a&&e(1,o=a.enableImageExpand),"$$scope"in a&&e(2,n=a.$$scope)},[r,o,n,s]}class nm extends Lt{constructor(t){super(),Gt(this,t,im,sm,Dt,{imagePreset:0,enableImageExpand:1})}}const rm=m1({generateLocalizedGalleryCounter:(i,t)=>`Image ${i+1} of ${t}`});function nl(i){let t,e;return{c(){t=J("p"),e=Ue(i[4])},l(s){t=X(s,"P",{});var n=T(t);e=We(n,i[4]),n.forEach(C)},m(s,n){st(s,t,n),I(t,e)},p(s,n){n&16&&kn(e,s[4])},d(s){s&&C(t)}}}function om(i){let t,e,s,n,r,o,a,c=i[3]!==null&&nl(i),h=[{class:"svelte-lightbox-footer"},i[5]],l={};for(let u=0;u<h.length;u+=1)l=ae(l,h[u]);return{c(){t=J("div"),e=J("h2"),s=new oa(!1),n=bt(),r=J("h5"),o=new oa(!1),a=bt(),c&&c.c(),this.h()},l(u){t=X(u,"DIV",{class:!0});var m=T(t);e=X(m,"H2",{});var d=T(e);s=aa(d,!1),d.forEach(C),n=yt(m),r=X(m,"H5",{});var f=T(r);o=aa(f,!1),f.forEach(C),a=yt(m),c&&c.l(m),m.forEach(C),this.h()},h(){s.a=null,o.a=null,Je(t,l),jt(t,"fullscreen",i[0]==="fullscreen"),jt(t,"svelte-6fc1ka",!0)},m(u,m){st(u,t,m),I(t,e),s.m(i[1],e),I(t,n),I(t,r),o.m(i[2],r),I(t,a),c&&c.m(t,null)},p(u,[m]){m&2&&s.p(u[1]),m&4&&o.p(u[2]),u[3]!==null?c?c.p(u,m):(c=nl(u),c.c(),c.m(t,null)):c&&(c.d(1),c=null),Je(t,l=hs(h,[{class:"svelte-lightbox-footer"},m&32&&u[5]])),jt(t,"fullscreen",u[0]==="fullscreen"),jt(t,"svelte-6fc1ka",!0)},i:ot,o:ot,d(u){u&&C(t),c&&c.d()}}}function am(i,t,e){let s;const n=["imagePreset","title","description","gallery"];let r=ls(t,n),o;r1(i,rm,m=>e(6,o=m));let{imagePreset:a}=t,{title:c=""}=t,{description:h=""}=t,{gallery:l=null}=t;const u=(m,d)=>{if(d!==null)return m.generateLocalizedGalleryCounter(d.activeImage,d.imageCount)};return i.$$set=m=>{t=ae(ae({},t),on(m)),e(5,r=ls(t,n)),"imagePreset"in m&&e(0,a=m.imagePreset),"title"in m&&e(1,c=m.title),"description"in m&&e(2,h=m.description),"gallery"in m&&e(3,l=m.gallery)},i.$$.update=()=>{i.$$.dirty&72&&e(4,s=u(o,l))},[a,c,h,l,s,r,o]}class cm extends Lt{constructor(t){super(),Gt(this,t,am,om,Dt,{imagePreset:0,title:1,description:2,gallery:3})}}function Er(i,{delay:t=0,duration:e=400,easing:s=o1}={}){const n=+getComputedStyle(i).opacity;return{delay:t,duration:e,easing:s,css:r=>`opacity: ${r*n}`}}function lm(i){let t,e,s,n,r,o;const a=i[3].default,c=xs(a,i,i[2],null);let h=[{class:"svelte-lightbox-overlay"},{"aria-label":"overlay"},i[1]],l={};for(let u=0;u<h.length;u+=1)l=ae(l,h[u]);return{c(){t=J("div"),c&&c.c(),this.h()},l(u){t=X(u,"DIV",{class:!0,"aria-label":!0});var m=T(t);c&&c.l(m),m.forEach(C),this.h()},h(){Je(t,l),jt(t,"svelte-7wg54p",!0)},m(u,m){st(u,t,m),c&&c.m(t,null),n=!0,r||(o=Be(t,"click",i[4]),r=!0)},p(u,[m]){i=u,c&&c.p&&(!n||m&4)&&vs(c,a,i,i[2],n?ws(a,i[2],m,null):As(i[2]),null),Je(t,l=hs(h,[{class:"svelte-lightbox-overlay"},{"aria-label":"overlay"},m&2&&i[1]])),jt(t,"svelte-7wg54p",!0)},i(u){n||(K(c,u),u&&Xh(()=>{n&&(s&&s.end(1),e=h1(t,Er,{duration:i[0]*2}),e.start())}),n=!0)},o(u){rt(c,u),e&&e.invalidate(),u&&(s=u1(t,Er,{duration:i[0]/2})),n=!1},d(u){u&&C(t),c&&c.d(u),u&&s&&s.end(),r=!1,o()}}}function hm(i,t,e){const s=["transitionDuration"];let n=ls(t,s),{$$slots:r={},$$scope:o}=t,{transitionDuration:a}=t;function c(h){ec.call(this,i,h)}return i.$$set=h=>{t=ae(ae({},t),on(h)),e(1,n=ls(t,s)),"transitionDuration"in h&&e(0,a=h.transitionDuration),"$$scope"in h&&e(2,o=h.$$scope)},[a,n,o,r,c]}class um extends Lt{constructor(t){super(),Gt(this,t,hm,lm,Dt,{transitionDuration:0})}}function mm(i){let t,e,s,n,r;const o=i[4].default,a=xs(o,i,i[3],null);let c=[{class:"svelte-lightbox-main"},{"aria-label":"Modal"},i[2]],h={};for(let l=0;l<c.length;l+=1)h=ae(h,c[l]);return{c(){t=J("div"),a&&a.c(),this.h()},l(l){t=X(l,"DIV",{class:!0,"aria-label":!0});var u=T(t);a&&a.l(u),u.forEach(C),this.h()},h(){Je(t,h),jt(t,"fullscreen",i[1]==="fullscreen"),jt(t,"scroll",i[1]==="scroll"),jt(t,"svelte-891jqp",!0)},m(l,u){st(l,t,u),a&&a.m(t,null),s=!0,n||(r=Be(t,"click",i[5]),n=!0)},p(l,[u]){i=l,a&&a.p&&(!s||u&8)&&vs(a,o,i,i[3],s?ws(o,i[3],u,null):As(i[3]),null),Je(t,h=hs(c,[{class:"svelte-lightbox-main"},{"aria-label":"Modal"},u&4&&i[2]])),jt(t,"fullscreen",i[1]==="fullscreen"),jt(t,"scroll",i[1]==="scroll"),jt(t,"svelte-891jqp",!0)},i(l){s||(K(a,l),l&&Xh(()=>{s&&(e||(e=zc(t,Er,{duration:i[0]},!0)),e.run(1))}),s=!0)},o(l){rt(a,l),l&&(e||(e=zc(t,Er,{duration:i[0]},!1)),e.run(0)),s=!1},d(l){l&&C(t),a&&a.d(l),l&&e&&e.end(),n=!1,r()}}}function dm(i,t,e){const s=["transitionDuration","imagePreset"];let n=ls(t,s),{$$slots:r={},$$scope:o}=t,{transitionDuration:a}=t,{imagePreset:c}=t;function h(l){ec.call(this,i,l)}return i.$$set=l=>{t=ae(ae({},t),on(l)),e(2,n=ls(t,s)),"transitionDuration"in l&&e(0,a=l.transitionDuration),"imagePreset"in l&&e(1,c=l.imagePreset),"$$scope"in l&&e(3,o=l.$$scope)},[a,c,n,o,r,h]}let _m=class extends Lt{constructor(t){super(),Gt(this,t,dm,mm,Dt,{transitionDuration:0,imagePreset:1})}};const fm=i=>({}),rl=i=>({});function ol(i){var r;let t,e;const s=[((r=i[4])==null?void 0:r.thumbnailProps)||{}];let n={$$slots:{default:[ym]},$$scope:{ctx:i}};for(let o=0;o<s.length;o+=1)n=ae(n,s[o]);return t=new X0({props:n}),t.$on("click",i[10]),{c(){Bt(t.$$.fragment)},l(o){It(t.$$.fragment,o)},m(o,a){Vt(t,o,a),e=!0},p(o,a){var h;const c=a&16?hs(s,[En(((h=o[4])==null?void 0:h.thumbnailProps)||{})]):{};a&540672&&(c.$$scope={dirty:a,ctx:o}),t.$set(c)},i(o){e||(K(t.$$.fragment,o),e=!0)},o(o){rt(t.$$.fragment,o),e=!1},d(o){Mt(t,o)}}}function pm(i){let t;const e=i[18].default,s=xs(e,i,i[19],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),t=!0},p(n,r){s&&s.p&&(!t||r&524288)&&vs(s,e,n,n[19],t?ws(e,n[19],r,null):As(n[19]),null)},i(n){t||(K(s,n),t=!0)},o(n){rt(s,n),t=!1},d(n){s&&s.d(n)}}}function bm(i){let t;const e=i[18].thumbnail,s=xs(e,i,i[19],rl);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),t=!0},p(n,r){s&&s.p&&(!t||r&524288)&&vs(s,e,n,n[19],t?ws(e,n[19],r,fm):As(n[19]),rl)},i(n){t||(K(s,n),t=!0)},o(n){rt(s,n),t=!1},d(n){s&&s.d(n)}}}function ym(i){let t,e,s,n;const r=[bm,pm],o=[];function a(c,h){return c[14].thumbnail?0:1}return t=a(i),e=o[t]=r[t](i),{c(){e.c(),s=ks()},l(c){e.l(c),s=ks()},m(c,h){o[t].m(c,h),st(c,s,h),n=!0},p(c,h){let l=t;t=a(c),t===l?o[t].p(c,h):(ss(),rt(o[l],1,1,()=>{o[l]=null}),is(),e=o[t],e?e.p(c,h):(e=o[t]=r[t](c),e.c()),K(e,1),e.m(s.parentNode,s))},i(c){n||(K(e),n=!0)},o(c){rt(e),n=!1},d(c){c&&C(s),o[t].d(c)}}}function al(i){let t,e;return t=new K0({props:{$$slots:{default:[Am]},$$scope:{ctx:i}}}),{c(){Bt(t.$$.fragment)},l(s){It(t.$$.fragment,s)},m(s,n){Vt(t,s,n),e=!0},p(s,n){const r={};n&525182&&(r.$$scope={dirty:n,ctx:s}),t.$set(r)},i(s){e||(K(t.$$.fragment,s),e=!0)},o(s){rt(t.$$.fragment,s),e=!1},d(s){Mt(t,s)}}}function gm(i){let t;const e=i[18].default,s=xs(e,i,i[19],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),t=!0},p(n,r){s&&s.p&&(!t||r&524288)&&vs(s,e,n,n[19],t?ws(e,n[19],r,null):As(n[19]),null)},i(n){t||(K(s,n),t=!0)},o(n){rt(s,n),t=!1},d(n){s&&s.d(n)}}}function xm(i){let t,e,s,n,r,o;const a=[{imagePreset:i[3]},{showCloseButton:i[9]},{enableEscapeToClose:i[8]},{closeButtonProps:i[4].closeButtonProps},i[4].lightboxHeaderProps||{}];let c={};for(let u=0;u<a.length;u+=1)c=ae(c,a[u]);t=new em({props:c}),t.$on("close",i[11]),s=new nm({props:{imagePreset:i[3],enableImageExpand:i[6],$$slots:{default:[gm]},$$scope:{ctx:i}}});const h=[{imagePreset:i[3]},{title:i[1]},{description:i[2]},i[4].lightboxFooterProps||{}];let l={};for(let u=0;u<h.length;u+=1)l=ae(l,h[u]);return r=new cm({props:l}),{c(){Bt(t.$$.fragment),e=bt(),Bt(s.$$.fragment),n=bt(),Bt(r.$$.fragment)},l(u){It(t.$$.fragment,u),e=yt(u),It(s.$$.fragment,u),n=yt(u),It(r.$$.fragment,u)},m(u,m){Vt(t,u,m),st(u,e,m),Vt(s,u,m),st(u,n,m),Vt(r,u,m),o=!0},p(u,m){const d=m&792?hs(a,[m&8&&{imagePreset:u[3]},m&512&&{showCloseButton:u[9]},m&256&&{enableEscapeToClose:u[8]},m&16&&{closeButtonProps:u[4].closeButtonProps},m&16&&En(u[4].lightboxHeaderProps||{})]):{};t.$set(d);const f={};m&8&&(f.imagePreset=u[3]),m&64&&(f.enableImageExpand=u[6]),m&524288&&(f.$$scope={dirty:m,ctx:u}),s.$set(f);const p=m&30?hs(h,[m&8&&{imagePreset:u[3]},m&2&&{title:u[1]},m&4&&{description:u[2]},m&16&&En(u[4].lightboxFooterProps||{})]):{};r.$set(p)},i(u){o||(K(t.$$.fragment,u),K(s.$$.fragment,u),K(r.$$.fragment,u),o=!0)},o(u){rt(t.$$.fragment,u),rt(s.$$.fragment,u),rt(r.$$.fragment,u),o=!1},d(u){u&&(C(e),C(n)),Mt(t,u),Mt(s,u),Mt(r,u)}}}function vm(i){let t,e;const s=[{imagePreset:i[3]},{transitionDuration:i[5]},i[4].lightboxProps||{}];let n={$$slots:{default:[xm]},$$scope:{ctx:i}};for(let r=0;r<s.length;r+=1)n=ae(n,s[r]);return t=new _m({props:n}),t.$on("click",i[13]),{c(){Bt(t.$$.fragment)},l(r){It(t.$$.fragment,r)},m(r,o){Vt(t,r,o),e=!0},p(r,o){const a=o&56?hs(s,[o&8&&{imagePreset:r[3]},o&32&&{transitionDuration:r[5]},o&16&&En(r[4].lightboxProps||{})]):{};o&525150&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){rt(t.$$.fragment,r),e=!1},d(r){Mt(t,r)}}}function Am(i){let t,e;const s=[{transitionDuration:i[5]},i[4].coverProps||{}];let n={$$slots:{default:[vm]},$$scope:{ctx:i}};for(let r=0;r<s.length;r+=1)n=ae(n,s[r]);return t=new um({props:n}),t.$on("click",i[12]),{c(){Bt(t.$$.fragment)},l(r){It(t.$$.fragment,r)},m(r,o){Vt(t,r,o),e=!0},p(r,o){const a=o&48?hs(s,[o&32&&{transitionDuration:r[5]},o&16&&En(r[4].coverProps||{})]):{};o&525182&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){rt(t.$$.fragment,r),e=!1},d(r){Mt(t,r)}}}function wm(i){let t,e,s,n=(i[14].thumbnail||i[7])&&ol(i),r=i[0]&&al(i);return{c(){n&&n.c(),t=bt(),r&&r.c(),e=ks()},l(o){n&&n.l(o),t=yt(o),r&&r.l(o),e=ks()},m(o,a){n&&n.m(o,a),st(o,t,a),r&&r.m(o,a),st(o,e,a),s=!0},p(o,[a]){o[14].thumbnail||o[7]?n?(n.p(o,a),a&16512&&K(n,1)):(n=ol(o),n.c(),K(n,1),n.m(t.parentNode,t)):n&&(ss(),rt(n,1,1,()=>{n=null}),is()),o[0]?r?(r.p(o,a),a&1&&K(r,1)):(r=al(o),r.c(),K(r,1),r.m(e.parentNode,e)):r&&(ss(),rt(r,1,1,()=>{r=null}),is())},i(o){s||(K(n),K(r),s=!0)},o(o){rt(n),rt(r),s=!1},d(o){o&&(C(t),C(e)),n&&n.d(o),r&&r.d(o)}}}function Cm(i,t,e){let{$$slots:s={},$$scope:n}=t;const r=a1(s);let{title:o=""}=t,{description:a=""}=t,{imagePreset:c=""}=t,{customization:h={}}=t,{transitionDuration:l=300}=t,{keepBodyScroll:u=!1}=t,{enableImageExpand:m=!1}=t,{enableFallbackThumbnail:d=!0}=t,{enableEscapeToClose:f=!0}=t,{enableClickToClose:p=!1}=t,{showCloseButton:y=!0}=t,{isVisible:x=!1}=t,_=!1;const b=()=>{e(0,x=!x),P()},g=()=>{e(0,x=!0),P()},A=()=>{e(0,x=!1),P()},B=()=>{(!_||p)&&A(),_=!1},w=()=>{_=!0};let P=()=>{};const V={toggle:b,open:g,close:A};return Xs(()=>{const S=document.body.style.overflow;P=()=>{u||(x?document.body.style.overflow="hidden":document.body.style.overflow=S)}}),i.$$set=S=>{"title"in S&&e(1,o=S.title),"description"in S&&e(2,a=S.description),"imagePreset"in S&&e(3,c=S.imagePreset),"customization"in S&&e(4,h=S.customization),"transitionDuration"in S&&e(5,l=S.transitionDuration),"keepBodyScroll"in S&&e(15,u=S.keepBodyScroll),"enableImageExpand"in S&&e(6,m=S.enableImageExpand),"enableFallbackThumbnail"in S&&e(7,d=S.enableFallbackThumbnail),"enableEscapeToClose"in S&&e(8,f=S.enableEscapeToClose),"enableClickToClose"in S&&e(16,p=S.enableClickToClose),"showCloseButton"in S&&e(9,y=S.showCloseButton),"isVisible"in S&&e(0,x=S.isVisible),"$$scope"in S&&e(19,n=S.$$scope)},[x,o,a,c,h,l,m,d,f,y,b,A,B,w,r,u,p,V,s,n]}class Sm extends Lt{constructor(t){super(),Gt(this,t,Cm,wm,Dt,{title:1,description:2,imagePreset:3,customization:4,transitionDuration:5,keepBodyScroll:15,enableImageExpand:6,enableFallbackThumbnail:7,enableEscapeToClose:8,enableClickToClose:16,showCloseButton:9,isVisible:0,programmaticController:17})}get programmaticController(){return this.$$.ctx[17]}}function cl(i,t,e){const s=i.slice();return s[1]=t[e],s}function Bm(i){let t,e;return{c(){t=J("img"),this.h()},l(s){t=X(s,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){Zh(t.src,e=i[1].imageUrl)||v(t,"src",e),v(t,"alt",i[1].name),v(t,"width","100%"),v(t,"height","")},m(s,n){st(s,t,n)},p:ot,d(s){s&&C(t)}}}function ll(i){let t,e,s,n,r,o=i[1].name+"",a,c,h,l=i[1].tech+"",u,m,d;return s=new Sm({props:{description:i[1].name,$$slots:{default:[Bm]},$$scope:{ctx:i}}}),{c(){t=J("div"),e=J("div"),Bt(s.$$.fragment),n=bt(),r=J("span"),a=Ue(o),c=bt(),h=J("div"),u=Ue(l),m=bt(),this.h()},l(f){t=X(f,"DIV",{class:!0});var p=T(t);e=X(p,"DIV",{class:!0});var y=T(e);It(s.$$.fragment,y),y.forEach(C),n=yt(p),r=X(p,"SPAN",{style:!0});var x=T(r);a=We(x,o),x.forEach(C),c=yt(p),h=X(p,"DIV",{});var _=T(h);u=We(_,l),_.forEach(C),m=yt(p),p.forEach(C),this.h()},h(){v(e,"class","project-image svelte-1b7n42e"),M(r,"font-weight","700"),v(t,"class","project-card svelte-1b7n42e")},m(f,p){st(f,t,p),I(t,e),Vt(s,e,null),I(t,n),I(t,r),I(r,a),I(t,c),I(t,h),I(h,u),I(t,m),d=!0},p(f,p){const y={};p&16&&(y.$$scope={dirty:p,ctx:f}),s.$set(y)},i(f){d||(K(s.$$.fragment,f),d=!0)},o(f){rt(s.$$.fragment,f),d=!1},d(f){f&&C(t),Mt(s)}}}function Vm(i){let t,e,s="Projects",n,r,o,a=Es(i[0]),c=[];for(let l=0;l<a.length;l+=1)c[l]=ll(cl(i,a,l));const h=l=>rt(c[l],1,1,()=>{c[l]=null});return{c(){t=J("div"),e=J("h3"),e.textContent=s,n=bt(),r=J("div");for(let l=0;l<c.length;l+=1)c[l].c();this.h()},l(l){t=X(l,"DIV",{class:!0});var u=T(t);e=X(u,"H3",{"data-svelte-h":!0}),gs(e)!=="svelte-dmvsri"&&(e.textContent=s),n=yt(u),r=X(u,"DIV",{class:!0});var m=T(r);for(let d=0;d<c.length;d+=1)c[d].l(m);m.forEach(C),u.forEach(C),this.h()},h(){v(r,"class","project-flex svelte-1b7n42e"),v(t,"class","project-container svelte-1b7n42e")},m(l,u){st(l,t,u),I(t,e),I(t,n),I(t,r);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(r,null);o=!0},p(l,[u]){if(u&1){a=Es(l[0]);let m;for(m=0;m<a.length;m+=1){const d=cl(l,a,m);c[m]?(c[m].p(d,u),K(c[m],1)):(c[m]=ll(d),c[m].c(),K(c[m],1),c[m].m(r,null))}for(ss(),m=a.length;m<c.length;m+=1)h(m);is()}},i(l){if(!o){for(let u=0;u<a.length;u+=1)K(c[u]);o=!0}},o(l){c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)rt(c[u]);o=!1},d(l){l&&C(t),Yh(c,l)}}}function Mm(i){return[[{imageUrl:"./assets/images/projects/FCH.png",name:"First Class Healthcare",tech:"Next + Express"},{imageUrl:"./assets/images/projects/DTUCA.png",name:"DriveThru Urgent Care Admin",tech:"Next + Express"},{imageUrl:"./assets/images/projects/DTUCP.png",name:"DriveThru Urgent Care Patient",tech:"Next + Express"},{imageUrl:"./assets/images/projects/PT.png",name:"Prospecting Tool",tech:"React + Express"},{imageUrl:"./assets/images/projects/Carbonteq.png",name:"Carbonteq.com",tech:"Webflow"}]]}class Pm extends Lt{constructor(t){super(),Gt(this,t,Mm,Vm,Dt,{})}}function Im(i){let t,e,s,n="x",r,o,a,c;const h=i[3].default,l=xs(h,i,i[2],null);return{c(){t=J("dialog"),e=J("div"),s=J("button"),s.textContent=n,r=bt(),l&&l.c(),this.h()},l(u){t=X(u,"DIALOG",{class:!0});var m=T(t);e=X(m,"DIV",{class:!0});var d=T(e);s=X(d,"BUTTON",{class:!0,"data-svelte-h":!0}),gs(s)!=="svelte-1czjx4c"&&(s.textContent=n),d.forEach(C),r=yt(m),l&&l.l(m),m.forEach(C),this.h()},h(){v(s,"class","modal-close svelte-1dk5gif"),v(e,"class","modal-header"),v(t,"class","modal-body svelte-1dk5gif")},m(u,m){st(u,t,m),I(t,e),I(e,s),I(t,r),l&&l.m(t,null),i[5](t),o=!0,a||(c=[Be(s,"click",i[4]),Be(t,"close",i[6])],a=!0)},p(u,[m]){l&&l.p&&(!o||m&4)&&vs(l,h,u,u[2],o?ws(h,u[2],m,null):As(u[2]),null)},i(u){o||(K(l,u),o=!0)},o(u){rt(l,u),o=!1},d(u){u&&C(t),l&&l.d(u),i[5](null),a=!1,Xn(c)}}}function Tm(i,t,e){let{$$slots:s={},$$scope:n}=t,{showModal:r}=t,o;const a=()=>o.close();function c(l){Ee[l?"unshift":"push"](()=>{o=l,e(1,o)})}const h=()=>e(0,r=!1);return i.$$set=l=>{"showModal"in l&&e(0,r=l.showModal),"$$scope"in l&&e(2,n=l.$$scope)},i.$$.update=()=>{i.$$.dirty&3&&o&&r&&o.showModal()},[r,o,n,s,a,c,h]}class km extends Lt{constructor(t){super(),Gt(this,t,Tm,Im,Dt,{showModal:0})}}function Em(i){let t,e;return{c(){t=O("svg"),e=O("path"),this.h()},l(s){t=$(s,"svg",{width:!0,style:!0,fill:!0,viewBox:!0,xmlns:!0});var n=T(t);e=$(n,"path",{d:!0}),T(e).forEach(C),n.forEach(C),this.h()},h(){v(e,"d","M256.977 22.395c-16.8 0-32.49 7.65-45.864 20.177-13.372 12.53-24.82 29.98-34.363 51.117-2 4.428-3.91 9.03-5.736 13.777-5.035-.793-9.986-1.442-14.83-1.926-5.77-.575-11.4-.932-16.87-1.06-16.42-.39-31.427 1.275-44.58 5.262-17.536 5.317-32.006 15.083-40.406 29.63-8.4 14.55-9.62 31.964-5.457 49.81 4.165 17.845 13.552 36.484 27.087 55.318 2.84 3.95 5.874 7.912 9.076 11.873-3.198 3.957-6.228 7.913-9.064 11.86-13.536 18.833-22.923 37.472-27.087 55.318-4.164 17.846-2.943 35.26 5.457 49.807 8.4 14.55 22.87 24.315 40.406 29.63 17.537 5.318 38.373 6.507 61.45 4.202 4.838-.484 9.78-1.13 14.808-1.922 1.83 4.755 3.743 9.366 5.746 13.802 9.543 21.14 20.99 38.587 34.363 51.116 13.373 12.528 29.065 20.18 45.864 20.18 16.798 0 32.49-7.652 45.863-20.18 13.372-12.53 24.82-29.977 34.363-51.116 2.003-4.436 3.916-9.045 5.746-13.8 5.022.79 9.96 1.437 14.794 1.92 23.078 2.304 43.915 1.115 61.45-4.202 17.538-5.316 32.008-15.082 40.408-29.63 8.4-14.55 9.62-31.962 5.457-49.807-4.165-17.845-13.553-36.484-27.087-55.318-2.837-3.946-5.867-7.902-9.065-11.86 3.202-3.96 6.237-7.92 9.076-11.872 13.535-18.834 22.922-37.473 27.086-55.318 4.164-17.846 2.943-35.26-5.457-49.81-8.4-14.547-22.87-24.313-40.406-29.63-13.152-3.987-28.16-5.652-44.578-5.263-5.474.128-11.105.485-16.874 1.06-4.84.484-9.787 1.133-14.817 1.925-1.828-4.746-3.738-9.347-5.737-13.776-9.543-21.14-20.99-38.59-34.363-51.118-13.373-12.528-29.065-20.177-45.863-20.177zm0 18.687c11.205 0 22.192 4.923 33.086 15.13 10.893 10.205 21.297 25.653 30.107 45.167 1.404 3.11 2.765 6.334 4.086 9.643-21.417 4.762-44.1 12.068-67.285 21.83-23.18-9.76-45.86-17.064-67.273-21.826 1.322-3.31 2.68-6.536 4.086-9.648 8.81-19.515 19.214-34.963 30.108-45.17 10.894-10.205 21.88-15.128 33.087-15.128zm-123.59 82.057c1.804-.018 3.637-.006 5.498.036 4.96.11 10.117.43 15.443.963 3.406.34 6.887.775 10.424 1.288-6.586 20.927-11.6 44.222-14.742 69.18-20.048 15.2-37.718 31.194-52.55 47.363-2.212-2.805-4.33-5.6-6.327-8.378-12.495-17.386-20.67-34.12-24.063-48.658-3.392-14.538-2.16-26.513 3.442-36.217 5.602-9.704 15.36-16.757 29.644-21.088 9.375-2.843 20.6-4.375 33.23-4.49zm247.168 0c12.63.115 23.855 1.647 33.23 4.49 14.286 4.33 24.04 11.383 29.643 21.087 5.602 9.704 6.835 21.68 3.443 36.217-3.39 14.537-11.57 31.272-24.063 48.658-1.997 2.778-4.113 5.573-6.325 8.38-14.83-16.167-32.495-32.157-52.537-47.355-3.14-24.962-8.16-48.26-14.746-69.19 3.533-.513 7.01-.95 10.413-1.288 5.326-.533 10.483-.853 15.444-.964 1.86-.042 3.693-.054 5.498-.037zm-49.92 5.64c4.97 15.438 9.085 32.472 12.156 50.7-9.716-6.567-19.876-12.932-30.446-19.035-10.565-6.1-21.15-11.713-31.69-16.843 17.32-6.455 34.127-11.407 49.98-14.82zm-147.317.003c15.85 3.414 32.655 8.366 49.97 14.82-10.54 5.13-21.125 10.743-31.69 16.842-10.566 6.1-20.72 12.462-30.434 19.024 3.07-18.223 7.184-35.253 12.154-50.687zm73.653 24.46c15.207 6.708 30.643 14.504 46.03 23.388 15.393 8.888 29.87 18.36 43.285 28.18 1.796 16.527 2.762 33.798 2.762 51.57 0 17.762-.963 35.026-2.758 51.546-13.415 9.818-27.89 19.288-43.278 28.174-15.39 8.885-30.83 16.684-46.04 23.392-15.212-6.708-30.652-14.507-46.042-23.392-15.385-8.883-29.854-18.35-43.264-28.164-1.795-16.523-2.76-33.79-2.76-51.557 0-17.775.965-35.048 2.762-51.577 13.413-9.817 27.885-19.288 43.273-28.172 15.388-8.883 30.824-16.68 46.03-23.386zm1.264 28.116l-53.502 33.017 53.502 33.02 53.502-33.02-53.502-33.018zm-110.76 39.134c-.827 11.698-1.257 23.68-1.257 35.885 0 12.198.43 24.172 1.258 35.864-14.25-11.77-26.943-23.85-37.827-35.873 10.884-12.022 23.577-24.104 37.827-35.876zm219.005.01c14.243 11.77 26.933 23.847 37.813 35.867-10.88 12.02-23.57 24.097-37.813 35.864.826-11.688 1.256-23.66 1.256-35.855 0-12.204-.43-24.18-1.257-35.876zm-173.8 8.394v65.198l56.19 34.677v-65.195l-56.19-34.68zm131.058.034l-56.177 34.67v65.164l56.178-34.67v-65.164zm-226.28 41.84c14.834 16.17 32.502 32.16 52.548 47.36 3.14 24.955 8.156 48.248 14.74 69.175-3.53.51-7.006.947-10.406 1.287-21.304 2.127-39.887.84-54.172-3.49-14.286-4.33-24.04-11.386-29.643-21.09-5.602-9.705-6.835-21.68-3.443-36.217 3.392-14.537 11.568-31.272 24.063-48.658 1.993-2.775 4.107-5.566 6.314-8.367zm319.024.003c2.207 2.8 4.32 5.59 6.313 8.364 12.494 17.385 20.67 34.12 24.062 48.657 3.392 14.537 2.162 26.512-3.44 36.217-5.604 9.704-15.36 16.76-29.646 21.09-14.284 4.33-32.864 5.617-54.168 3.49-3.397-.34-6.868-.775-10.395-1.285 6.585-20.932 11.6-44.23 14.74-69.19 20.04-15.196 37.706-31.182 52.535-47.345zm-73.687 62.483c-3.07 18.226-7.184 35.26-12.154 50.697-15.854-3.413-32.663-8.368-49.984-14.822 10.542-5.132 21.13-10.746 31.7-16.848 10.567-6.1 20.724-12.464 30.44-19.027zm-171.635.01c9.71 6.56 19.862 12.92 30.424 19.017 10.57 6.102 21.16 11.716 31.7 16.848-17.316 6.453-34.12 11.407-49.973 14.82-4.97-15.434-9.08-32.464-12.15-50.685zm86.37.85l.68.42.677-.42h-1.356zm-.56 45.767c23.19 9.76 45.874 17.065 67.294 21.826-1.324 3.32-2.686 6.55-4.094 9.67-8.81 19.513-19.214 34.96-30.108 45.167-10.893 10.206-21.88 15.13-33.085 15.13-11.206 0-22.193-4.924-33.086-15.13-10.893-10.206-21.297-25.654-30.107-45.168-1.408-3.12-2.77-6.352-4.095-9.67 21.416-4.762 44.098-12.066 67.283-21.825z"),v(t,"width","100%"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"fill","#424466"),v(t,"viewBox","0 0 512 512"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(s,n){st(s,t,n),I(t,e)},p:ot,i:ot,o:ot,d(s){s&&C(t)}}}class Dm extends Lt{constructor(t){super(),Gt(this,t,null,Em,Dt,{})}}function Lm(i){let t,e,s,n,r,o;return{c(){t=O("svg"),e=O("g"),s=O("g"),n=O("path"),r=O("path"),o=O("path"),this.h()},l(a){t=$(a,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,width:!0,style:!0,viewBox:!0,"xml:space":!0,fill:!0});var c=T(t);e=$(c,"g",{});var h=T(e);s=$(h,"g",{});var l=T(s);n=$(l,"path",{d:!0}),T(n).forEach(C),r=$(l,"path",{d:!0}),T(r).forEach(C),o=$(l,"path",{d:!0}),T(o).forEach(C),l.forEach(C),h.forEach(C),c.forEach(C),this.h()},h(){v(n,"d",`M363.061,50.904c-17.052-25.867-44.2-42.01-80.69-47.98C270.513,0.985,258.701,0,247.261,0
			C187.198,0,134.355,26.518,94.447,76.686c-25.912,32.574-44.91,73.506-54.938,118.371c-9.581,42.863-10.104,87.063-1.475,124.459
			l0.068,0.285c7.519,30.072,34.704,72.422,71.603,72.422c11.282,0,28.049-4.225,43.876-24.332
			c6.559-8.203,11.931-16.471,16.672-23.766c12.632-19.436,18.416-26.779,29.127-26.779c2.522,0,5.394,0.387,8.565,1.148
			c8.888-26.43,17.542-51.732,20.466-58.869c2.947-7.197,8.42-17.166,16.255-29.627c-0.605-1.576-1.156-3.18-1.608-4.822
			c-3.976-14.438-2.146-31.67,5.291-49.83c7.28-17.773,18.703-32.693,33.033-43.152c12.951-9.451,27.58-14.744,41.19-14.906h0.208
			c2.38,0,4.7,0.455,6.899,1.357c3.811,1.559,7.007,4.4,9.006,7.998c3.247,5.824,3.037,12.961-0.557,18.604
			c-2.049,3.223-1.73,5.375,2.444,16.436c4.753,12.588,11.261,29.826,3.183,51.977c-9.528,26.123-24.521,37.445-35.494,42.348
			c-3.169,14.441-6.261,25.398-9.192,32.559c-0.872,2.129-2.524,5.787-4.733,10.529c13.363-10.164,26.267-23.42,38.113-39.41
			c27.22-36.742,45.494-83.537,48.884-125.18C383.98,101.959,377.663,73.051,363.061,50.904z M102.218,244.771
			c-16.567,0-29.998-13.432-29.998-29.998c0-16.567,13.431-30,29.998-30c16.568,0,29.999,13.432,29.999,30
			C132.217,231.34,118.787,244.771,102.218,244.771z M135.55,164.774c-16.567,0-29.998-13.43-29.998-29.998
			s13.431-29.998,29.998-29.998c16.568,0,29.999,13.43,29.999,29.998S152.119,164.774,135.55,164.774z M195.547,104.777
			c-16.567,0-29.998-13.432-29.998-29.998c0-16.568,13.431-30,29.998-30c16.567,0,29.999,13.432,29.999,30
			C225.546,91.346,212.115,104.777,195.547,104.777z M288.252,98.274c-16.566,0-29.997-13.43-29.997-29.998
			s13.431-29.998,29.997-29.998c16.569,0,30,13.43,30,29.998S304.822,98.274,288.252,98.274z`),v(r,"d",`M324.867,133.924c-0.357-0.643-0.919-1.129-1.577-1.398c-0.389-0.16-0.812-0.242-1.245-0.238
			c-19.627,0.232-46.938,15.584-60.522,48.744c-6.168,15.061-7.797,28.951-4.708,40.166c0.806,2.927,1.934,5.64,3.338,8.119
			l35.878,14.896c1.779-0.468,3.544-1.076,5.276-1.84c8.324-3.681,19.879-12.541,27.652-33.854
			c6.171-16.92,1.233-29.998-3.123-41.539c-4.164-11.029-7.453-19.742-1.063-29.791
			C325.401,136.199,325.437,134.947,324.867,133.924z M319.285,203.299c-0.033,0.648-1.007,16.012-17.269,26.248
			c-0.3,0.188-0.613,0.352-0.936,0.486c-2.887,1.209-6.193,0.164-7.861-2.486c-0.906-1.441-1.198-3.15-0.82-4.812
			c0.378-1.66,1.381-3.076,2.821-3.984c10.514-6.615,11.297-15.762,11.326-16.148c0.121-2.393,1.656-4.574,3.904-5.516
			c0.197-0.084,0.401-0.156,0.609-0.221c0.705-0.213,1.438-0.303,2.181-0.266C316.754,196.781,319.465,199.787,319.285,203.299z`),v(o,"d",`M241.585,265.311c-6.348,15.496-42.263,124.465-43.788,129.099c-2.431,7.379,1.259,15.383,8.449,18.328
			c7.189,2.944,15.435-0.173,18.878-7.138c2.165-4.379,53.083-107.402,59.355-122.719c3.137-7.658,6.188-19.807,8.596-30.863
			l-35.88-14.895C251.148,246.697,244.766,257.545,241.585,265.311z`),v(t,"version","1.1"),v(t,"id","Capa_1"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(t,"width","100%"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"viewBox","0 0 413.844 413.844"),v(t,"xml:space","preserve"),v(t,"fill","#578a86")},m(a,c){st(a,t,c),I(t,e),I(e,s),I(s,n),I(s,r),I(s,o)},p:ot,i:ot,o:ot,d(a){a&&C(t)}}}class Gm extends Lt{constructor(t){super(),Gt(this,t,null,Lm,Dt,{})}}function Rm(i){let t,e,s,n,r,o,a,c;return{c(){t=O("svg"),e=O("g"),s=O("path"),n=O("g"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),this.h()},l(h){t=$(h,"svg",{style:!0,width:!0,version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,viewBox:!0,"xml:space":!0,fill:!0});var l=T(t);e=$(l,"g",{});var u=T(e);s=$(u,"path",{d:!0}),T(s).forEach(C),u.forEach(C),n=$(l,"g",{});var m=T(n);r=$(m,"path",{d:!0}),T(r).forEach(C),o=$(m,"path",{d:!0}),T(o).forEach(C),a=$(m,"path",{d:!0}),T(a).forEach(C),m.forEach(C),c=$(l,"path",{d:!0}),T(c).forEach(C),l.forEach(C),this.h()},h(){v(s,"d",`M22,31H10c-0.4,0-0.7-0.2-0.9-0.5s-0.2-0.7,0-1l2-3c0.2-0.3,0.5-0.4,0.8-0.4h8c0.3,0,0.6,0.2,0.8,0.4l2,3
		c0.2,0.3,0.2,0.7,0,1S22.4,31,22,31z`),v(r,"d","M17,10.6v9l7.4-3.6c0.3-0.2,0.6-0.5,0.6-0.9V6.6L17,10.6z"),v(o,"d","M16,8.9l8.1-4l-7.6-3.7c-0.3-0.1-0.6-0.1-0.9,0L7.9,4.8L16,8.9z"),v(a,"d","M15,10.6l-8-4v8.5c0,0.4,0.2,0.7,0.6,0.9l7.4,3.6V10.6z"),v(c,"d",`M29,4h-2.7C26.7,4.5,27,5.2,27,5.9v9.2c0,1.1-0.7,2.2-1.7,2.7l-8,3.9C16.9,21.9,16.5,22,16,22s-0.9-0.1-1.3-0.3l-8-3.9
	c-1-0.5-1.7-1.6-1.7-2.7V5.9C5,5.2,5.3,4.5,5.7,4H3C2.4,4,2,4.4,2,5v19c0,0.6,0.4,1,1,1h26c0.6,0,1-0.4,1-1V5C30,4.4,29.6,4,29,4z`),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"width","100%"),v(t,"version","1.1"),v(t,"id","Icons"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(t,"viewBox","0 0 32 32"),v(t,"xml:space","preserve"),v(t,"fill","#8a577d")},m(h,l){st(h,t,l),I(t,e),I(e,s),I(t,n),I(n,r),I(n,o),I(n,a),I(t,c)},p:ot,i:ot,o:ot,d(h){h&&C(t)}}}class Fm extends Lt{constructor(t){super(),Gt(this,t,null,Rm,Dt,{})}}function zm(i){let t,e,s="Also...",n,r,o,a='<div class="misc-bullets svelte-1nn0zwm">I like science, especially solid state chemistry!</div> <div class="misc-bullets svelte-1nn0zwm">I do digital art follow my instagram: <a href="https://www.instagram.com/mamber2403/" target="_blank" class="ig-text svelte-1nn0zwm">@mamber2403</a></div>',c,h,l,u,m,d,f,p,y,x,_;return u=new Gm({}),f=new Dm({}),x=new Fm({}),{c(){t=J("div"),e=J("h3"),e.textContent=s,n=bt(),r=J("div"),o=J("div"),o.innerHTML=a,c=bt(),h=J("div"),l=J("div"),Bt(u.$$.fragment),m=bt(),d=J("div"),Bt(f.$$.fragment),p=bt(),y=J("div"),Bt(x.$$.fragment),this.h()},l(b){t=X(b,"DIV",{class:!0});var g=T(t);e=X(g,"H3",{class:!0,"data-svelte-h":!0}),gs(e)!=="svelte-x1h0vx"&&(e.textContent=s),n=yt(g),r=X(g,"DIV",{class:!0});var A=T(r);o=X(A,"DIV",{"data-svelte-h":!0}),gs(o)!=="svelte-bbnlq2"&&(o.innerHTML=a),c=yt(A),h=X(A,"DIV",{class:!0});var B=T(h);l=X(B,"DIV",{class:!0,style:!0});var w=T(l);It(u.$$.fragment,w),w.forEach(C),m=yt(B),d=X(B,"DIV",{class:!0,style:!0});var P=T(d);It(f.$$.fragment,P),P.forEach(C),p=yt(B),y=X(B,"DIV",{class:!0,style:!0});var V=T(y);It(x.$$.fragment,V),V.forEach(C),B.forEach(C),A.forEach(C),g.forEach(C),this.h()},h(){v(e,"class","misc-heading svelte-1nn0zwm"),v(l,"class","logo-container svelte-1nn0zwm"),v(l,"style",""),v(d,"class","logo-container l2 svelte-1nn0zwm"),v(d,"style",";"),v(y,"class","logo-container l3 svelte-1nn0zwm"),v(y,"style",""),v(h,"class","misc-icons-container svelte-1nn0zwm"),v(r,"class","misc-flex svelte-1nn0zwm"),v(t,"class","misc-container svelte-1nn0zwm")},m(b,g){st(b,t,g),I(t,e),I(t,n),I(t,r),I(r,o),I(r,c),I(r,h),I(h,l),Vt(u,l,null),I(h,m),I(h,d),Vt(f,d,null),I(h,p),I(h,y),Vt(x,y,null),_=!0},p:ot,i(b){_||(K(u.$$.fragment,b),K(f.$$.fragment,b),K(x.$$.fragment,b),_=!0)},o(b){rt(u.$$.fragment,b),rt(f.$$.fragment,b),rt(x.$$.fragment,b),_=!1},d(b){b&&C(t),Mt(u),Mt(f),Mt(x)}}}class Om extends Lt{constructor(t){super(),Gt(this,t,null,zm,Dt,{})}}function hl(i,t,e){const s=i.slice();return s[16]=t[e],s[18]=e,s}function $m(i){let t,e="",s;return{c(){t=J("iframe"),t.innerHTML=e,this.h()},l(n){t=X(n,"IFRAME",{class:!0,title:!0,src:!0,"data-svelte-h":!0}),gs(t)!=="svelte-1cyk4mi"&&(t.innerHTML=e),this.h()},h(){v(t,"class","resume-content svelte-1nxygxj"),v(t,"title","Resume"),Zh(t.src,s="./Mohammad Ahmad CV.pdf")||v(t,"src",s)},m(n,r){st(n,t,r)},p:ot,d(n){n&&C(t)}}}function ul(i){let t,e="View Resume",s,n;return{c(){t=J("button"),t.textContent=e,this.h()},l(r){t=X(r,"BUTTON",{class:!0,"data-svelte-h":!0}),gs(t)!=="svelte-1xxgz0"&&(t.textContent=e),this.h()},h(){v(t,"class","big-round-button resume-button svelte-1nxygxj")},m(r,o){st(r,t,o),s||(n=Be(t,"click",i[9]),s=!0)},p:ot,d(r){r&&C(t),s=!1,n()}}}function ml(i){let t,e,s,n;function r(){return i[14](i[18])}return{c(){t=J("button"),this.h()},l(o){t=X(o,"BUTTON",{class:!0}),T(t).forEach(C),this.h()},h(){v(t,"class",e="dot-button "+(i[18]===i[2]?"dot-button-selected":"")+" svelte-1nxygxj")},m(o,a){st(o,t,a),s||(n=Be(t,"click",r),s=!0)},p(o,a){i=o,a&4&&e!==(e="dot-button "+(i[18]===i[2]?"dot-button-selected":"")+" svelte-1nxygxj")&&v(t,"class",e)},d(o){o&&C(t),s=!1,n()}}}function jm(i){let t,e,s,n,r,o,a="<",c,h,l,u,m,d,f,p,y,x,_,b,g,A,B,w=">",P,V,S,D,L,k;function E(G){i[8](G)}let R={$$slots:{default:[$m]},$$scope:{ctx:i}};i[4]!==void 0&&(R.showModal=i[4]),t=new km({props:R}),Ee.push(()=>ca(t,"showModal",E));let z=!i[3]&&ul(i);d=new Pm({});function U(G){i[12](G)}let at={};i[5]!==void 0&&(at.timeLineAnimation=i[5]),y=new U0({props:at}),Ee.push(()=>ca(y,"timeLineAnimation",U)),g=new Om({});let N=Es(i[1]),j=[];for(let G=0;G<N.length;G+=1)j[G]=ml(hl(i,N,G));return{c(){Bt(t.$$.fragment),s=bt(),z&&z.c(),n=bt(),r=J("div"),o=J("button"),c=Ue(a),h=bt(),l=J("div"),u=J("div"),m=J("div"),Bt(d.$$.fragment),f=bt(),p=J("div"),Bt(y.$$.fragment),_=bt(),b=J("div"),Bt(g.$$.fragment),A=bt(),B=J("button"),P=Ue(w),V=bt(),S=J("div");for(let G=0;G<j.length;G+=1)j[G].c();this.h()},l(G){It(t.$$.fragment,G),s=yt(G),z&&z.l(G),n=yt(G),r=X(G,"DIV",{class:!0});var W=T(r);o=X(W,"BUTTON",{class:!0});var ht=T(o);c=We(ht,a),ht.forEach(C),h=yt(W),l=X(W,"DIV",{class:!0});var xt=T(l);u=X(xt,"DIV",{class:!0});var ut=T(u);m=X(ut,"DIV",{class:!0});var Rt=T(m);It(d.$$.fragment,Rt),Rt.forEach(C),f=yt(ut),p=X(ut,"DIV",{class:!0});var dt=T(p);It(y.$$.fragment,dt),dt.forEach(C),_=yt(ut),b=X(ut,"DIV",{class:!0});var lt=T(b);It(g.$$.fragment,lt),lt.forEach(C),ut.forEach(C),xt.forEach(C),A=yt(W),B=X(W,"BUTTON",{class:!0});var it=T(B);P=We(it,w),it.forEach(C),W.forEach(C),V=yt(G),S=X(G,"DIV",{class:!0});var nt=T(S);for(let pt=0;pt<j.length;pt+=1)j[pt].l(nt);nt.forEach(C),this.h()},h(){v(o,"class","button-style button-left svelte-1nxygxj"),v(m,"class","embla__slide svelte-1nxygxj"),v(p,"class","embla__slide svelte-1nxygxj"),v(b,"class","embla__slide svelte-1nxygxj"),v(u,"class","embla__container svelte-1nxygxj"),v(l,"class","embla svelte-1nxygxj"),v(B,"class","button-style button-right svelte-1nxygxj"),v(r,"class","carousal-container svelte-1nxygxj"),v(S,"class","dot-button-container svelte-1nxygxj")},m(G,W){Vt(t,G,W),st(G,s,W),z&&z.m(G,W),st(G,n,W),st(G,r,W),I(r,o),I(o,c),i[11](o),I(r,h),I(r,l),I(l,u),I(u,m),Vt(d,m,null),I(u,f),I(u,p),Vt(y,p,null),I(u,_),I(u,b),Vt(g,b,null),I(r,A),I(r,B),I(B,P),st(G,V,W),st(G,S,W);for(let ht=0;ht<j.length;ht+=1)j[ht]&&j[ht].m(S,null);D=!0,L||(k=[Be(o,"click",i[10]),c1(cc.call(null,l)),Be(l,"emblaInit",i[7]),Be(B,"click",i[13])],L=!0)},p(G,[W]){const ht={};W&524288&&(ht.$$scope={dirty:W,ctx:G}),!e&&W&16&&(e=!0,ht.showModal=G[4],ra(()=>e=!1)),t.$set(ht),G[3]?z&&(z.d(1),z=null):z?z.p(G,W):(z=ul(G),z.c(),z.m(n.parentNode,n));const xt={};if(!x&&W&32&&(x=!0,xt.timeLineAnimation=G[5],ra(()=>x=!1)),y.$set(xt),W&7){N=Es(G[1]);let ut;for(ut=0;ut<N.length;ut+=1){const Rt=hl(G,N,ut);j[ut]?j[ut].p(Rt,W):(j[ut]=ml(Rt),j[ut].c(),j[ut].m(S,null))}for(;ut<j.length;ut+=1)j[ut].d(1);j.length=N.length}},i(G){D||(K(t.$$.fragment,G),K(d.$$.fragment,G),K(y.$$.fragment,G),K(g.$$.fragment,G),D=!0)},o(G){rt(t.$$.fragment,G),rt(d.$$.fragment,G),rt(y.$$.fragment,G),rt(g.$$.fragment,G),D=!1},d(G){G&&(C(s),C(n),C(r),C(V),C(S)),Mt(t,G),z&&z.d(G),i[11](null),Mt(d),Mt(y),Mt(g),Yh(j,G),L=!1,Xn(k)}}}function Nm(i,t,e){let s,n=[],r=0,o;function a(b){l(b.slidesInView().join("")!=="1"),b.scrollProgress(),b.slidesInView().length===1&&e(2,r=b.slidesInView()[0])}const c=b=>{e(0,s=b.detail),s.on("slidesInView",a),e(1,n=s.scrollSnapList())};let h=!1,l,u;Xs(()=>{const b=navigator.userAgent;(/android/i.test(b)||/iphone/i.test(b))&&e(3,o=!0)});function m(b){h=b,e(4,h)}const d=()=>{e(4,h=!0)},f=()=>{s.scrollPrev(),r>0&&e(2,r--,r)};function p(b){Ee[b?"unshift":"push"](()=>{u=b,e(6,u)})}function y(b){l=b,e(5,l)}return[s,n,r,o,h,l,u,c,m,d,f,p,y,()=>{s.scrollNext(),r<2&&e(2,r++,r)},b=>{b!==r&&s.scrollTo(b)}]}class qm extends Lt{constructor(t){super(),Gt(this,t,Nm,jm,Dt,{})}}function Hm(i){let t,e,s;return{c(){t=O("svg"),e=O("path"),s=O("path"),this.h()},l(n){t=$(n,"svg",{xmlns:!0,width:!0,viewBox:!0,style:!0});var r=T(t);e=$(r,"path",{fill:!0,d:!0}),T(e).forEach(C),s=$(r,"path",{d:!0,fill:!0}),T(s).forEach(C),r.forEach(C),this.h()},h(){v(e,"fill","#f0db4f"),v(e,"d","M0 0h1052v1052H0z"),v(s,"d","M965.9 801.1c-7.7-48-39-88.3-131.7-125.9-32.2-14.8-68.1-25.399-78.8-49.8-3.8-14.2-4.3-22.2-1.9-30.8 6.9-27.9 40.2-36.6 66.6-28.6 17 5.7 33.1 18.801 42.8 39.7 45.4-29.399 45.3-29.2 77-49.399-11.6-18-17.8-26.301-25.4-34-27.3-30.5-64.5-46.2-124-45-10.3 1.3-20.699 2.699-31 4-29.699 7.5-58 23.1-74.6 44-49.8 56.5-35.6 155.399 25 196.1 59.7 44.8 147.4 55 158.6 96.9 10.9 51.3-37.699 67.899-86 62-35.6-7.4-55.399-25.5-76.8-58.4-39.399 22.8-39.399 22.8-79.899 46.1 9.6 21 19.699 30.5 35.8 48.7 76.2 77.3 266.899 73.5 301.1-43.5 1.399-4.001 10.6-30.801 3.199-72.101zm-394-317.6h-98.4c0 85-.399 169.4-.399 254.4 0 54.1 2.8 103.7-6 118.9-14.4 29.899-51.7 26.2-68.7 20.399-17.3-8.5-26.1-20.6-36.3-37.699-2.8-4.9-4.9-8.7-5.601-9-26.699 16.3-53.3 32.699-80 49 13.301 27.3 32.9 51 58 66.399 37.5 22.5 87.9 29.4 140.601 17.3 34.3-10 63.899-30.699 79.399-62.199 22.4-41.3 17.6-91.3 17.4-146.6.5-90.2 0-180.4 0-270.9z"),v(s,"fill","#323330"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"width","100%"),v(t,"viewBox","0 0 1052 1052"),M(t,"height","auto"),M(t,"max-height","100%")},m(n,r){st(n,t,r),I(t,e),I(t,s)},p:ot,i:ot,o:ot,d(n){n&&C(t)}}}class Um extends Lt{constructor(t){super(),Gt(this,t,null,Hm,Dt,{})}}function Wm(i){let t,e,s,n;return{c(){t=O("svg"),e=O("g"),s=O("path"),n=O("circle"),this.h()},l(r){t=$(r,"svg",{viewBox:!0,width:!0,xmlns:!0,style:!0});var o=T(t);e=$(o,"g",{fill:!0});var a=T(e);s=$(a,"path",{d:!0}),T(s).forEach(C),n=$(a,"circle",{cx:!0,cy:!0,r:!0}),T(n).forEach(C),a.forEach(C),o.forEach(C),this.h()},h(){v(s,"d","m666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9v-22.3c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6v-22.3c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zm-101.4 106.7c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24s9.5 15.8 14.4 23.4zm73.9-208.1c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6s22.9-35.6 58.3-50.6c8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zm53.8 142.9c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6z"),v(n,"cx","420.9"),v(n,"cy","296.5"),v(n,"r","45.7"),v(e,"fill","#61dafb"),v(t,"viewBox","175.7 78 490.6 436.9"),v(t,"width","100%"),v(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"height","auto"),M(t,"max-height","100%")},m(r,o){st(r,t,o),I(t,e),I(e,s),I(e,n)},p:ot,i:ot,o:ot,d(r){r&&C(t)}}}class Jm extends Lt{constructor(t){super(),Gt(this,t,null,Wm,Dt,{})}}function Xm(i){let t,e;return{c(){t=O("svg"),e=O("path"),this.h()},l(s){t=$(s,"svg",{width:!0,viewBox:!0,style:!0,xmlns:!0,preserveAspectRatio:!0});var n=T(t);e=$(n,"path",{d:!0}),T(e).forEach(C),n.forEach(C),this.h()},h(){v(e,"d","M254.251 124.862l-10.747-6.653a145.81 145.81 0 0 0-.306-3.13l9.236-8.615a3.686 3.686 0 0 0 1.105-3.427 3.685 3.685 0 0 0-2.33-2.744l-11.807-4.415a137.355 137.355 0 0 0-.925-3.048l7.365-10.229a3.698 3.698 0 0 0-2.407-5.814l-12.45-2.025c-.484-.944-.988-1.874-1.496-2.796l5.231-11.483a3.683 3.683 0 0 0-.288-3.59 3.678 3.678 0 0 0-3.204-1.642l-12.636.44a99.848 99.848 0 0 0-1.996-2.421l2.904-12.308a3.694 3.694 0 0 0-.986-3.466 3.698 3.698 0 0 0-3.464-.986l-12.305 2.901a106.192 106.192 0 0 0-2.426-1.996l.442-12.635a3.684 3.684 0 0 0-1.64-3.205 3.693 3.693 0 0 0-3.59-.29l-11.48 5.234a133.235 133.235 0 0 0-2.796-1.5l-2.03-12.452a3.7 3.7 0 0 0-5.812-2.407l-10.236 7.365c-1.007-.32-2.02-.629-3.042-.922L155.72 4.794a3.69 3.69 0 0 0-2.745-2.336 3.707 3.707 0 0 0-3.424 1.106l-8.615 9.243a111.11 111.11 0 0 0-3.13-.306l-6.653-10.75a3.698 3.698 0 0 0-6.289 0l-6.653 10.75a110.4 110.4 0 0 0-3.133.306l-8.617-9.243a3.695 3.695 0 0 0-6.169 1.23l-4.414 11.809c-1.023.293-2.035.604-3.045.922L82.599 10.16a3.687 3.687 0 0 0-3.579-.415 3.705 3.705 0 0 0-2.235 2.822l-2.03 12.452c-.94.487-1.869.988-2.796 1.5l-11.481-5.235a3.686 3.686 0 0 0-3.588.291 3.684 3.684 0 0 0-1.642 3.205l.44 12.635a118.03 118.03 0 0 0-2.426 1.996l-12.305-2.9a3.71 3.71 0 0 0-3.466.985 3.694 3.694 0 0 0-.986 3.466l2.899 12.308c-.673.797-1.338 1.604-1.991 2.421l-12.636-.44a3.721 3.721 0 0 0-3.204 1.641 3.696 3.696 0 0 0-.291 3.59l5.234 11.484c-.509.922-1.012 1.852-1.5 2.796l-12.449 2.025a3.7 3.7 0 0 0-2.407 5.814l7.365 10.23c-.32 1.01-.631 2.024-.925 3.047l-11.808 4.415a3.702 3.702 0 0 0-1.225 6.171l9.237 8.614c-.115 1.04-.217 2.087-.305 3.131L1.75 124.862A3.695 3.695 0 0 0 0 128.007c0 1.284.663 2.473 1.751 3.143l10.748 6.653c.088 1.047.19 2.092.305 3.131l-9.238 8.617a3.697 3.697 0 0 0 1.226 6.169l11.808 4.415c.294 1.022.605 2.037.925 3.047l-7.365 10.231a3.696 3.696 0 0 0 2.41 5.812l12.447 2.025c.487.944.986 1.874 1.5 2.8l-5.235 11.48a3.691 3.691 0 0 0 .291 3.59 3.684 3.684 0 0 0 3.204 1.641l12.63-.442c.659.821 1.322 1.626 1.997 2.426l-2.899 12.31a3.682 3.682 0 0 0 .986 3.459 3.683 3.683 0 0 0 3.466.983l12.305-2.898c.8.68 1.61 1.34 2.427 1.99l-.44 12.639a3.694 3.694 0 0 0 5.229 3.492l11.481-5.231a105.49 105.49 0 0 0 2.796 1.499l2.03 12.445a3.692 3.692 0 0 0 2.235 2.825 3.706 3.706 0 0 0 3.579-.413l10.229-7.37c1.01.32 2.025.633 3.047.927l4.415 11.804a3.685 3.685 0 0 0 2.744 2.331 3.677 3.677 0 0 0 3.425-1.106l8.617-9.238c1.04.12 2.086.22 3.133.313l6.653 10.748a3.702 3.702 0 0 0 3.143 1.75 3.703 3.703 0 0 0 3.145-1.75l6.653-10.748c1.047-.093 2.092-.193 3.131-.313l8.615 9.238a3.68 3.68 0 0 0 3.424 1.106 3.69 3.69 0 0 0 2.744-2.331l4.415-11.804c1.022-.294 2.038-.607 3.048-.927l10.231 7.37a3.7 3.7 0 0 0 5.812-2.412l2.03-12.445c.939-.487 1.868-.993 2.795-1.5l11.481 5.232a3.692 3.692 0 0 0 5.23-3.492l-.44-12.638a98.76 98.76 0 0 0 2.423-1.991l12.306 2.898c1.25.294 2.56-.07 3.463-.983a3.682 3.682 0 0 0 .986-3.459l-2.898-12.31c.675-.8 1.34-1.605 1.99-2.426l12.636.442a3.681 3.681 0 0 0 3.204-1.64 3.685 3.685 0 0 0 .289-3.592l-5.232-11.478c.511-.927 1.013-1.857 1.497-2.8l12.45-2.026a3.682 3.682 0 0 0 2.822-2.236 3.696 3.696 0 0 0-.415-3.576l-7.365-10.23c.318-1.011.629-2.026.925-3.048l11.806-4.415a3.684 3.684 0 0 0 2.331-2.745 3.677 3.677 0 0 0-1.106-3.424l-9.235-8.617c.112-1.04.215-2.086.305-3.13l10.748-6.654a3.69 3.69 0 0 0 1.751-3.143c0-1.281-.66-2.472-1.749-3.145zm-71.932 89.156c-4.104-.885-6.714-4.93-5.833-9.047.878-4.112 4.92-6.729 9.023-5.844 4.104.879 6.718 4.931 5.838 9.04-.88 4.11-4.926 6.73-9.028 5.851zm-3.652-24.699a6.929 6.929 0 0 0-8.23 5.332l-3.816 17.807c-11.775 5.344-24.85 8.313-38.621 8.313-14.086 0-27.446-3.116-39.43-8.688l-3.814-17.806c-.802-3.747-4.486-6.134-8.228-5.33l-15.72 3.376a93.272 93.272 0 0 1-8.128-9.58h76.49c.865 0 1.442-.157 1.442-.945v-27.057c0-.787-.577-.944-1.443-.944H106.8v-17.15h24.195c2.208 0 11.809.63 14.878 12.902.962 3.774 3.072 16.05 4.516 19.98 1.438 4.408 7.293 13.213 13.533 13.213h38.115c.433 0 .895-.049 1.382-.137a93.92 93.92 0 0 1-8.669 10.17l-16.082-3.456zm-105.79 24.327c-4.105.886-8.146-1.731-9.029-5.843-.878-4.119 1.732-8.162 5.836-9.047 4.105-.878 8.148 1.739 9.028 5.85.878 4.11-1.734 8.16-5.836 9.04zM43.86 95.986c1.703 3.842-.03 8.345-3.867 10.045-3.837 1.705-8.328-.03-10.03-3.875-1.703-3.845.029-8.34 3.867-10.045a7.598 7.598 0 0 1 10.03 3.874zm-8.918 21.14l16.376-7.277a6.942 6.942 0 0 0 3.524-9.158l-3.372-7.626h13.264v59.788H37.973a93.7 93.7 0 0 1-3.566-25.672c0-3.398.183-6.756.535-10.056zm71.862-5.807V93.696h31.586c1.632 0 11.52 1.886 11.52 9.28 0 6.139-7.584 8.34-13.821 8.34h-29.285v.003zm114.792 15.862c0 2.338-.086 4.652-.257 6.948h-9.603c-.961 0-1.348.632-1.348 1.573v4.41c0 10.38-5.853 12.638-10.982 13.213-4.884.55-10.3-2.045-10.967-5.034-2.882-16.206-7.683-19.667-15.265-25.648 9.41-5.975 19.2-14.79 19.2-26.59 0-12.74-8.734-20.765-14.688-24.7-8.352-5.506-17.6-6.61-20.095-6.61H58.279c13.467-15.03 31.719-25.677 52.362-29.551l11.706 12.28a6.923 6.923 0 0 0 9.799.226l13.098-12.528c27.445 5.11 50.682 22.194 64.073 45.633l-8.967 20.253c-1.548 3.505.032 7.604 3.527 9.157l17.264 7.668c.298 3.065.455 6.161.455 9.3zM122.352 24.745c3.033-2.905 7.844-2.79 10.748.247 2.898 3.046 2.788 7.862-.252 10.765-3.033 2.906-7.844 2.793-10.748-.25a7.621 7.621 0 0 1 .252-10.762zm88.983 71.61a7.594 7.594 0 0 1 10.028-3.872c3.838 1.702 5.57 6.203 3.867 10.045a7.595 7.595 0 0 1-10.03 3.875c-3.833-1.703-5.565-6.2-3.865-10.048z"),v(t,"width","100%"),v(t,"viewBox","0 0 256 256"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"preserveAspectRatio","xMidYMid")},m(s,n){st(s,t,n),I(t,e)},p:ot,i:ot,o:ot,d(s){s&&C(t)}}}class Ym extends Lt{constructor(t){super(),Gt(this,t,null,Xm,Dt,{})}}function Zm(i){let t,e,s;return{c(){t=O("svg"),e=O("path"),s=O("path"),this.h()},l(n){t=$(n,"svg",{viewBox:!0,width:!0,xmlns:!0,style:!0});var r=T(t);e=$(r,"path",{d:!0,fill:!0}),T(e).forEach(C),s=$(r,"path",{d:!0,fill:!0}),T(s).forEach(C),r.forEach(C),this.h()},h(){v(e,"d","m466.95 79.52c-55.66-79.62-165.6-103.22-245.08-52.6l-139.58 88.93c-9.39 5.9-18.15 12.76-26.12 20.47-7.98 7.71-15.13 16.23-21.34 25.42s-11.45 19-15.64 29.27a160.478 160.478 0 0 0 -9.26 31.87c-1.65 9.15-2.55 18.43-2.67 27.73-.13 9.31.52 18.61 1.93 27.8 1.41 9.2 3.58 18.27 6.48 27.11s6.53 17.42 10.85 25.66a161.68 161.68 0 0 0 -8.22 13.97c-2.51 4.79-4.77 9.71-6.78 14.73s-3.76 10.14-5.25 15.34-2.71 10.47-3.67 15.79a170.365 170.365 0 0 0 1.55 67.48c2.5 11.05 6.09 21.83 10.73 32.17s10.29 20.2 16.89 29.42c55.66 79.62 165.59 103.22 245.07 52.6l139.58-88.56c9.39-5.91 18.13-12.78 26.1-20.5a160.58 160.58 0 0 0 21.33-25.42c6.21-9.18 11.45-18.99 15.64-29.26 4.19-10.26 7.3-20.94 9.29-31.85 1.65-9.15 2.54-18.42 2.66-27.72s-.53-18.6-1.95-27.79c-1.41-9.19-3.58-18.25-6.49-27.09-2.91-8.83-6.54-17.41-10.86-25.65 2.97-4.51 5.72-9.18 8.23-13.97 2.5-4.79 4.77-9.71 6.78-14.73s3.77-10.14 5.27-15.34c1.49-5.19 2.73-10.46 3.7-15.78 1.98-11.16 2.84-22.49 2.58-33.82s-1.65-22.6-4.15-33.66c-2.5-11.05-6.09-21.83-10.73-32.17a170.906 170.906 0 0 0 -16.87-29.42"),v(e,"fill","#ff3e00"),v(s,"d","m208.23 527.78a110.876 110.876 0 0 1 -33.49 3.42c-11.27-.58-22.39-2.86-32.97-6.79a111.06 111.06 0 0 1 -29.42-16.35 111.108 111.108 0 0 1 -23.15-24.42c-3.97-5.55-7.37-11.47-10.15-17.69a102.38 102.38 0 0 1 -6.45-19.34c-1.49-6.65-2.33-13.43-2.48-20.24s.38-13.62 1.58-20.33c.19-1.09.41-2.18.65-3.26.23-1.09.49-2.17.77-3.24.27-1.08.57-2.15.89-3.22.31-1.06.65-2.12 1-3.17l2.63-8.03 7.17 5.35c4.11 3 8.35 5.83 12.7 8.47 4.35 2.65 8.81 5.11 13.37 7.37 4.55 2.27 9.21 4.35 13.94 6.22 4.73 1.88 9.54 3.55 14.42 5.02l5.35 1.55-.48 5.35a31.395 31.395 0 0 0 1.12 10.81c.49 1.76 1.14 3.46 1.93 5.1s1.72 3.21 2.78 4.69a33.4 33.4 0 0 0 6.99 7.35c2.68 2.08 5.67 3.74 8.86 4.92s6.53 1.86 9.93 2.03c3.39.18 6.79-.17 10.08-1.03.76-.2 1.5-.43 2.24-.69s1.47-.54 2.18-.86c.72-.31 1.42-.65 2.12-1.02.69-.36 1.36-.75 2.02-1.17l139.37-88.94a28.96 28.96 0 0 0 4.75-3.72c1.45-1.41 2.74-2.96 3.87-4.63s2.07-3.46 2.83-5.33c.75-1.87 1.31-3.81 1.67-5.79.35-2.03.5-4.08.45-6.14-.05-2.05-.31-4.09-.77-6.1-.45-2-1.11-3.95-1.96-5.83-.84-1.87-1.88-3.65-3.08-5.32-1.94-2.79-4.29-5.26-6.98-7.34s-5.68-3.74-8.86-4.92a33.464 33.464 0 0 0 -9.93-2.04c-3.4-.17-6.8.18-10.09 1.03-.75.2-1.5.43-2.24.69s-1.46.54-2.18.85c-.72.32-1.42.66-2.11 1.03-.69.36-1.37.76-2.03 1.18l-53.52 33.98c-2.18 1.38-4.42 2.68-6.7 3.9-2.29 1.21-4.61 2.34-6.98 3.38s-4.78 1.99-7.22 2.84c-2.44.86-4.91 1.62-7.41 2.29-10.91 2.82-22.18 3.96-33.43 3.38s-22.34-2.87-32.9-6.78c-10.56-3.92-20.46-9.43-29.36-16.33s-16.7-15.11-23.13-24.36c-3.95-5.55-7.34-11.48-10.11-17.7-2.78-6.22-4.93-12.7-6.42-19.34-1.49-6.65-2.31-13.43-2.45-20.24-.15-6.8.38-13.61 1.59-20.31a96.419 96.419 0 0 1 14.94-36.86 96.283 96.283 0 0 1 28.57-27.68l139.8-88.93c2.17-1.38 4.39-2.68 6.66-3.9 2.27-1.21 4.59-2.34 6.94-3.38a98.21 98.21 0 0 1 7.18-2.84c2.42-.86 4.88-1.63 7.37-2.3 10.92-2.83 22.21-3.99 33.47-3.42 11.27.58 22.38 2.86 32.96 6.79 10.58 3.92 20.49 9.44 29.41 16.35a111.11 111.11 0 0 1 23.14 24.43c3.96 5.54 7.37 11.46 10.16 17.68s4.95 12.69 6.46 19.34c1.5 6.65 2.34 13.43 2.49 20.24.16 6.81-.36 13.62-1.56 20.33-.21 1.1-.43 2.2-.68 3.29-.24 1.09-.5 2.18-.78 3.26-.27 1.09-.57 2.17-.88 3.24-.31 1.08-.63 2.15-.98 3.21l-2.67 8.03-7.12-5.35c-4.12-3.03-8.37-5.87-12.73-8.54-4.36-2.66-8.84-5.14-13.41-7.43a182.39 182.39 0 0 0 -28.45-11.32l-5.36-1.55.49-5.35c.15-1.83.14-3.67-.03-5.49-.16-1.82-.49-3.63-.97-5.4-.49-1.76-1.12-3.49-1.91-5.14-.78-1.66-1.71-3.24-2.77-4.74a33.153 33.153 0 0 0 -6.99-7.2 32.991 32.991 0 0 0 -8.82-4.8 33.244 33.244 0 0 0 -19.83-.89c-.76.2-1.51.43-2.24.68-.74.26-1.47.55-2.19.86-.71.31-1.42.66-2.11 1.02-.69.37-1.37.76-2.03 1.18l-139.63 88.78c-1.7 1.07-3.29 2.32-4.73 3.72s-2.74 2.95-3.87 4.61a29.724 29.724 0 0 0 -2.83 5.31c-.76 1.87-1.32 3.8-1.68 5.78-.35 2.03-.5 4.09-.45 6.15a31.547 31.547 0 0 0 2.73 11.95 31.84 31.84 0 0 0 3.07 5.34c1.93 2.76 4.27 5.22 6.94 7.28a33.26 33.26 0 0 0 8.79 4.9 33.533 33.533 0 0 0 19.86 1.09c.75-.21 1.5-.44 2.24-.7.73-.26 1.46-.55 2.18-.86a29.2 29.2 0 0 0 2.11-1.02c.69-.36 1.37-.75 2.03-1.17l53.52-33.92c2.19-1.4 4.42-2.72 6.71-3.94 2.28-1.23 4.61-2.36 6.99-3.41a99.39 99.39 0 0 1 7.23-2.84c2.45-.86 4.93-1.62 7.44-2.28 10.92-2.84 22.2-4 33.47-3.44 11.27.57 22.38 2.85 32.96 6.77 10.57 3.92 20.49 9.43 29.4 16.35 8.92 6.91 16.72 15.14 23.15 24.41 3.96 5.55 7.36 11.47 10.15 17.69a102.65 102.65 0 0 1 6.46 19.34c1.5 6.64 2.34 13.42 2.5 20.23.16 6.82-.37 13.63-1.56 20.33a96.419 96.419 0 0 1 -5.55 19.21 95.753 95.753 0 0 1 -9.4 17.65c-3.73 5.54-8.03 10.68-12.83 15.33s-10.07 8.79-15.73 12.35l-139.64 88.93c-2.19 1.39-4.43 2.7-6.71 3.92-2.29 1.22-4.62 2.35-7 3.39-2.37 1.05-4.78 2-7.23 2.86-2.44.86-4.92 1.63-7.42 2.3"),v(s,"fill","#fff"),v(t,"viewBox","-23.04085003 -23.7 545.4320132 647"),v(t,"width","100%"),v(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"height","auto"),M(t,"max-height","100%")},m(n,r){st(n,t,r),I(t,e),I(t,s)},p:ot,i:ot,o:ot,d(n){n&&C(t)}}}class Km extends Lt{constructor(t){super(),Gt(this,t,null,Zm,Dt,{})}}function Qm(i){let t,e,s,n,r;return{c(){t=O("svg"),e=O("style"),s=Ue(`.st0 {
			fill: #007acc;
		}
		.st1 {
			fill: #fff;
		}
	`),n=O("path"),r=O("path"),this.h()},l(o){t=$(o,"svg",{id:!0,xmlns:!0,viewBox:!0,width:!0,style:!0});var a=T(t);e=$(a,"style",{});var c=T(e);s=We(c,`.st0 {
			fill: #007acc;
		}
		.st1 {
			fill: #fff;
		}
	`),c.forEach(C),n=$(a,"path",{class:!0,d:!0}),T(n).forEach(C),r=$(a,"path",{class:!0,d:!0}),T(r).forEach(C),a.forEach(C),this.h()},h(){v(n,"class","st0"),v(n,"d","M0 200V0h400v400H0"),v(r,"class","st1"),v(r,"d","M87.7 200.7V217h52v148h36.9V217h52v-16c0-9 0-16.3-.4-16.5 0-.3-31.7-.4-70.2-.4l-70 .3v16.4l-.3-.1zM321.4 184c10.2 2.4 18 7 25 14.3 3.7 4 9.2 11 9.6 12.8 0 .6-17.3 12.3-27.8 18.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20 5.5-20 16 0 3.2.6 5 1.8 7.6 2.7 5.5 7.7 8.8 23.2 15.6 28.6 12.3 41 20.4 48.5 32 8.5 13 10.4 33.4 4.7 48.7-6.4 16.7-22 28-44.3 31.7-7 1.2-23 1-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4 15-8.7 11.3-6.6 2.6 3.5c3.3 5.2 10.7 12.2 15 14.6 13 6.7 30.4 5.8 39-2 3.7-3.4 5.3-7 5.3-12 0-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7 4.3-20 19.4-34 41-38 7-1.4 23.5-.8 30.4 1l-.2.2z"),v(t,"id","Layer_1"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"viewBox","0 0 400 400"),v(t,"width","100%"),M(t,"height","auto"),M(t,"max-height","100%")},m(o,a){st(o,t,a),I(t,e),I(e,s),I(t,n),I(t,r)},p:ot,i:ot,o:ot,d(o){o&&C(t)}}}class td extends Lt{constructor(t){super(),Gt(this,t,null,Qm,Dt,{})}}function ed(i){let t,e;return{c(){t=O("svg"),e=O("path"),this.h()},l(s){t=$(s,"svg",{viewBox:!0,width:!0,xmlns:!0,style:!0});var n=T(t);e=$(n,"path",{d:!0,fill:!0,"fill-rule":!0}),T(e).forEach(C),n.forEach(C),this.h()},h(){v(e,"d","m153.338 4.24c-1.809 0-3.489.388-5.04.905 3.296 2.197 5.105 5.105 6.01 8.4.065.453.194.776.258 1.228.065.388.13.775.13 1.163.258 5.687-1.487 6.397-2.715 9.758-1.874 4.33-1.357 8.982.905 12.73.194.452.452.969.776 1.421-2.456-16.348 11.179-18.804 13.699-23.909.194-4.459-3.49-7.431-6.397-9.499-2.78-1.68-5.3-2.197-7.626-2.197zm20.55 3.683c-.26 1.487-.065 1.099-.13 1.874-.064.517-.064 1.163-.129 1.68-.129.517-.258 1.034-.452 1.551-.13.517-.323 1.034-.517 1.551-.259.517-.452.97-.71 1.486-.195.259-.324.517-.518.776l-.388.581c-.323.453-.646.905-.969 1.293-.388.388-.71.84-1.163 1.163v.065c-.388.323-.775.71-1.228 1.034-1.357 1.033-2.908 1.809-4.33 2.778-.452.323-.904.582-1.292.97-.452.323-.84.646-1.227 1.033-.453.388-.776.776-1.164 1.228-.323.388-.71.84-.969 1.293-.323.452-.646.904-.905 1.357-.258.517-.452.969-.71 1.486-.194.517-.388.97-.517 1.486a20.921 20.921 0 0 0 -.453 1.616c-.064.258-.064.581-.129.84-.065.258-.065.517-.129.775 0 .517-.065 1.099-.065 1.616 0 .387 0 .775.065 1.163 0 .517.065 1.034.194 1.615.065.517.194 1.034.323 1.551.194.517.323 1.034.517 1.55.13.324.323.647.452.906l-14.862-5.752c-2.52-.71-4.976-1.357-7.496-1.938l-4.071-.97a119.971 119.971 0 0 0 -11.76-1.744c-.13 0-.195-.065-.324-.065-3.877-.388-7.69-.581-11.567-.581-2.843 0-5.686.129-8.465.323-3.942.258-7.884.775-11.825 1.421-.97.13-1.94.323-2.908.517-2.004.388-3.942.84-5.816 1.293l-2.908.775c-.97.388-1.874.84-2.779 1.228l-2.132.97c-.13.064-.259.064-.323.128-.646.323-1.228.582-1.81.905-.193.065-.323.13-.452.194-.71.323-1.421.71-2.003 1.034-.452.194-.905.452-1.292.646-.194.13-.453.259-.582.323-.582.323-1.163.646-1.68.97-.582.322-1.099.646-1.551.969s-.905.581-1.292.904c-.065.065-.13.065-.194.13-.388.258-.84.581-1.228.904l-.13.13-.968.775c-.13.064-.26.194-.388.258-.323.259-.646.582-.97.84-.064.13-.193.194-.258.259-.388.388-.775.71-1.163 1.098-.065 0-.065.065-.13.13-.387.323-.775.71-1.163 1.098-.064.065-.064.13-.129.13a15.16 15.16 0 0 0 -.969 1.033c-.13.13-.323.259-.452.388-.323.388-.711.775-1.099 1.163-.065.13-.194.194-.258.323-.517.517-.97 1.034-1.487 1.551l-.193.194c-1.034 1.098-2.133 2.197-3.296 3.166a36.732 36.732 0 0 1 -3.619 2.843 48.856 48.856 0 0 1 -3.877 2.456 39.382 39.382 0 0 1 -4.071 1.939 46.55 46.55 0 0 1 -4.2 1.55c-2.714.582-5.493 1.68-7.884 1.874-.517 0-1.098.13-1.615.194-.582.13-1.099.259-1.616.388l-1.55.582c-.518.193-1.035.452-1.552.71-.452.323-.969.582-1.421.905-.453.323-.905.71-1.293 1.099-.452.323-.904.775-1.292 1.163-.388.452-.775.84-1.099 1.292-.323.517-.71.97-.969 1.486-.323.453-.646.97-.904 1.487-.26.581-.517 1.098-.711 1.68a49.803 49.803 0 0 0 -.582 1.68c-.129.517-.258 1.034-.323 1.55 0 .066-.065.13-.065.195-.129.581-.129 1.357-.194 1.744-.064.453-.129.84-.129 1.293 0 .258 0 .581.065.84.065.452.13.84.259 1.228.129.387.258.775.452 1.163v.064c.194.388.452.776.71 1.164.26.387.518.775.84 1.163.324.323.712.71 1.1 1.034.387.387.775.71 1.227 1.034 1.551 1.357 1.939 1.809 3.942 2.843.323.194.646.323 1.034.517.065 0 .129.064.194.064 0 .13 0 .194.064.324.065.517.194 1.034.324 1.55a8.71 8.71 0 0 0 .516 1.551c.194.388.324.776.517 1.164.065.129.13.258.194.323.259.517.517.969.776 1.421l.969 1.357c.323.388.71.84 1.099 1.228.387.388.775.71 1.227 1.099 0 0 .065.064.13.064.387.323.775.647 1.163.905.452.323.904.582 1.421.84.453.259.97.517 1.487.71.387.195.84.324 1.292.453.065.065.129.065.258.13.26.064.582.129.84.193-.193 3.49-.258 6.785.26 7.948.58 1.293 3.424-2.649 6.267-7.172-.388 4.458-.646 9.693 0 11.243.711 1.616 4.588-3.424 7.948-8.982 45.816-10.597 87.625 21.067 92.019 65.783-.84-6.979-9.435-10.856-13.377-9.887-1.938 4.782-5.234 10.921-10.533 14.734a41.434 41.434 0 0 0 -.646-12.924c-1.421 5.945-4.2 11.502-8.013 16.284-6.138.452-12.277-2.52-15.508-6.98-.259-.193-.323-.58-.517-.84-.194-.452-.388-.904-.517-1.356a5.365 5.365 0 0 1 -.388-1.357c-.065-.453-.065-.905-.065-1.422v-.97c.065-.452.194-.904.323-1.356.13-.453.259-.905.453-1.357.258-.453.452-.905.775-1.357 1.099-3.102 1.099-5.622-.904-7.108a7.36 7.36 0 0 0 -1.228-.647c-.259-.064-.582-.193-.84-.258-.194-.065-.323-.13-.517-.194-.453-.13-.905-.259-1.357-.323a4.923 4.923 0 0 0 -1.357-.194c-.453-.065-.97-.13-1.422-.13-.323 0-.646.066-.97.066-.516 0-.968.064-1.42.193-.453.065-.905.13-1.358.259-.452.13-.905.259-1.357.452-.452.194-.84.388-1.292.582-.388.194-.776.452-1.228.646-15.056 9.822-6.074 32.827 4.2 39.483-3.877.71-7.819 1.55-8.917 2.39l-.13.13c2.78 1.68 5.687 3.102 8.724 4.33 4.136 1.356 8.53 2.584 10.469 3.101v.065a62.516 62.516 0 0 0 16.284 1.163c28.626-2.003 52.083-23.78 56.348-52.471.13.581.259 1.098.388 1.68.194 1.163.452 2.39.581 3.619v.064c.13.582.194 1.164.259 1.68v.26c.065.58.13 1.162.13 1.68.064.71.128 1.42.128 2.132v1.034c0 .323.065.71.065 1.033 0 .388-.065.776-.065 1.164v.904c0 .453-.065.84-.065 1.293 0 .258 0 .517-.064.84 0 .452-.065.904-.065 1.421-.065.194-.065.388-.065.582-.064.517-.129.97-.194 1.486 0 .194 0 .388-.064.582-.065.646-.194 1.228-.259 1.874v.129c-.129.582-.258 1.228-.388 1.81v.193l-.387 1.745c0 .065-.065.194-.065.259-.13.581-.259 1.163-.452 1.744v.194c-.194.647-.388 1.228-.517 1.81-.065.064-.065.129-.065.129l-.582 1.938c-.258.647-.452 1.228-.71 1.874-.259.647-.453 1.293-.711 1.874-.259.647-.517 1.228-.776 1.874h-.064c-.26.582-.517 1.228-.84 1.81-.065.194-.13.323-.194.452-.065.065-.065.13-.13.194-4.2 8.465-10.403 15.896-18.158 21.712-.517.323-1.034.71-1.55 1.099-.13.129-.324.193-.453.323-.452.323-.905.646-1.421.969l.193.388h.065l2.714-.388h.065c1.68-.259 3.36-.582 5.04-.905.452-.065.97-.194 1.422-.323.323-.065.581-.129.904-.194.453-.064.905-.194 1.357-.258.388-.13.776-.194 1.164-.323 6.462-1.551 12.73-3.684 18.74-6.204-10.275 14.023-24.04 25.331-40.13 32.762 7.432-.517 14.863-1.744 22.036-3.812 26.042-7.69 47.948-25.202 61.065-48.788a103.145 103.145 0 0 1 -17.382 41.55 101.732 101.732 0 0 0 17.253-14.345c14.475-15.121 23.974-34.313 27.205-54.927a102.9 102.9 0 0 1 1.874 31.147c46.655-65.072 3.877-132.535-14.023-150.305-.064-.13-.129-.194-.129-.323-.064.064-.064.064-.064.129 0-.065 0-.065-.065-.13 0 .776-.065 1.551-.13 2.327-.193 1.486-.387 2.908-.646 4.33-.323 1.421-.71 2.843-1.098 4.264a53.747 53.747 0 0 1 -1.55 4.136 55.49 55.49 0 0 1 -1.94 3.942c-.71 1.227-1.486 2.52-2.326 3.683a49.368 49.368 0 0 1 -2.65 3.49c-.969 1.163-2.002 2.197-3.036 3.23a41.646 41.646 0 0 1 -1.874 1.616c-.517.452-.97.84-1.487 1.292-1.163.905-2.326 1.745-3.618 2.52-1.228.776-2.52 1.551-3.813 2.198-1.357.646-2.714 1.227-4.07 1.809-1.358.517-2.78.97-4.201 1.357a52.05 52.05 0 0 1 -4.33.97c-1.486.258-2.972.387-4.394.516-1.034.065-2.068.13-3.102.13-1.486 0-2.972-.13-4.394-.26-1.486-.128-2.972-.322-4.394-.645-1.486-.26-2.908-.647-4.33-1.099h-.064c1.422-.13 2.843-.259 4.265-.517a46.84 46.84 0 0 0 4.33-.97 45.495 45.495 0 0 0 4.2-1.356c1.421-.517 2.778-1.163 4.07-1.81 1.358-.646 2.586-1.357 3.878-2.132 1.228-.84 2.455-1.68 3.619-2.585a35.333 35.333 0 0 0 3.295-2.908c1.099-.97 2.068-2.068 3.037-3.166a63.86 63.86 0 0 0 2.714-3.49c.13-.193.259-.452.388-.646.646-1.034 1.292-2.068 1.874-3.102a44.537 44.537 0 0 0 1.939-3.941 45.28 45.28 0 0 0 1.55-4.136c.453-1.357.776-2.779 1.099-4.2.259-1.486.517-2.908.646-4.33.13-1.486.259-2.972.259-4.394 0-1.034-.065-2.068-.13-3.102-.128-1.486-.322-2.907-.516-4.33a46.844 46.844 0 0 0 -.97-4.329c-.452-1.357-.904-2.778-1.421-4.135s-1.163-2.714-1.81-4.007c-.71-1.292-1.421-2.584-2.197-3.812a71.347 71.347 0 0 0 -2.584-3.554 136.72 136.72 0 0 0 -2.973-3.296 40.422 40.422 0 0 0 -1.68-1.615 118.979 118.979 0 0 0 -8.982-6.333c-.452-.259-.84-.452-1.293-.646-2.132-1.357-4.135-2.068-6.138-2.714z"),v(e,"fill","#e0234e"),v(e,"fill-rule","evenodd"),v(t,"viewBox","6.006 4.24 275.796 249.238"),v(t,"width","100%"),v(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"height","auto"),M(t,"max-height","100%")},m(s,n){st(s,t,n),I(t,e)},p:ot,i:ot,o:ot,d(s){s&&C(t)}}}class sd extends Lt{constructor(t){super(),Gt(this,t,null,ed,Dt,{})}}function id(i){let t,e,s;return{c(){t=O("svg"),e=O("g"),s=O("path"),this.h()},l(n){t=$(n,"svg",{width:!0,viewBox:!0,version:!0,xmlns:!0,"xmlns:xlink":!0,preserveAspectRatio:!0});var r=T(t);e=$(r,"g",{});var o=T(e);s=$(o,"path",{d:!0,fill:!0});var a=T(s);a.forEach(C),o.forEach(C),r.forEach(C),this.h()},h(){v(s,"d","M119.616813,0.0688905149 C119.066276,0.118932037 117.314565,0.294077364 115.738025,0.419181169 C79.3775171,3.69690087 45.3192571,23.3131775 23.7481916,53.4631946 C11.7364614,70.2271045 4.05395894,89.2428829 1.15112414,109.384595 C0.12512219,116.415429 0,118.492153 0,128.025062 C0,137.557972 0.12512219,139.634696 1.15112414,146.665529 C8.10791789,194.730411 42.3163245,235.11392 88.7116325,250.076335 C97.0197458,252.753556 105.778299,254.580072 115.738025,255.680985 C119.616813,256.106338 136.383187,256.106338 140.261975,255.680985 C157.453763,253.779407 172.017986,249.525878 186.382014,242.194795 C188.584164,241.068861 189.00958,240.768612 188.709286,240.518404 C188.509091,240.36828 179.124927,227.782837 167.86393,212.570214 L147.393939,184.922273 L121.743891,146.965779 C107.630108,126.098464 96.0187683,109.034305 95.9186706,109.034305 C95.8185728,109.009284 95.7184751,125.873277 95.6684262,146.465363 C95.5933529,182.52028 95.5683284,183.971484 95.1178886,184.82219 C94.4672532,186.048207 93.9667644,186.548623 92.915738,187.099079 C92.114956,187.499411 91.4142717,187.574474 87.6355816,187.574474 L83.3063539,187.574474 L82.1552297,186.848872 C81.4044966,186.373477 80.8539589,185.747958 80.4785924,185.022356 L79.9530792,183.896422 L80.0031281,133.729796 L80.0782014,83.5381493 L80.8539589,82.5623397 C81.25435,82.0369037 82.1051808,81.3613431 82.7057674,81.0360732 C83.7317693,80.535658 84.1321603,80.4856165 88.4613881,80.4856165 C93.5663734,80.4856165 94.4172043,80.6857826 95.7434995,82.1369867 C96.1188661,82.5373189 110.007429,103.454675 126.623656,128.650581 C143.239883,153.846488 165.962072,188.250034 177.122972,205.139048 L197.392766,235.839522 L198.418768,235.163961 C207.502639,229.259062 217.112023,220.852086 224.719453,212.09482 C240.910264,193.504394 251.345455,170.835585 254.848876,146.665529 C255.874878,139.634696 256,137.557972 256,128.025062 C256,118.492153 255.874878,116.415429 254.848876,109.384595 C247.892082,61.3197135 213.683675,20.9362052 167.288368,5.97379012 C159.105376,3.32158945 150.396872,1.49507389 140.637341,0.394160408 C138.234995,0.143952798 121.693842,-0.131275573 119.616813,0.0688905149 L119.616813,0.0688905149 Z M172.017986,77.4831252 C173.219159,78.0836234 174.195112,79.2345784 174.545455,80.435575 C174.74565,81.0861148 174.795699,94.9976579 174.74565,126.348671 L174.670577,171.336 L166.73783,159.17591 L158.780059,147.01582 L158.780059,114.313685 C158.780059,93.1711423 158.880156,81.2862808 159.030303,80.7108033 C159.430694,79.3096407 160.306549,78.2087272 161.507722,77.5581875 C162.533724,77.0327515 162.909091,76.98271 166.837928,76.98271 C170.541544,76.98271 171.19218,77.0327515 172.017986,77.4831252 Z"),v(s,"fill","#000000"),v(t,"width","100%"),v(t,"viewBox","0 0 256 256"),v(t,"version","1.1"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(t,"preserveAspectRatio","xMidYMid")},m(n,r){st(n,t,r),I(t,e),I(e,s)},p:ot,i:ot,o:ot,d(n){n&&C(t)}}}class nd extends Lt{constructor(t){super(),Gt(this,t,null,id,Dt,{})}}function rd(i){let t,e,s,n,r,o,a,c,h,l;return{c(){t=O("svg"),e=O("defs"),s=O("linearGradient"),n=O("stop"),r=O("stop"),o=O("linearGradient"),a=O("stop"),c=O("stop"),h=O("path"),l=O("path"),this.h()},l(u){t=$(u,"svg",{width:!0,viewBox:!0,xmlns:!0,style:!0,preserveAspectRatio:!0});var m=T(t);e=$(m,"defs",{});var d=T(e);s=$(d,"linearGradient",{x1:!0,y1:!0,x2:!0,y2:!0,id:!0});var f=T(s);n=$(f,"stop",{"stop-color":!0,offset:!0}),T(n).forEach(C),r=$(f,"stop",{"stop-color":!0,offset:!0}),T(r).forEach(C),f.forEach(C),o=$(d,"linearGradient",{x1:!0,y1:!0,x2:!0,y2:!0,id:!0});var p=T(o);a=$(p,"stop",{"stop-color":!0,offset:!0}),T(a).forEach(C),c=$(p,"stop",{"stop-color":!0,offset:!0}),T(c).forEach(C),p.forEach(C),d.forEach(C),h=$(m,"path",{d:!0,fill:!0}),T(h).forEach(C),l=$(m,"path",{d:!0,fill:!0}),T(l).forEach(C),m.forEach(C),this.h()},h(){v(n,"stop-color","#387EB8"),v(n,"offset","0%"),v(r,"stop-color","#366994"),v(r,"offset","100%"),v(s,"x1","12.959%"),v(s,"y1","12.039%"),v(s,"x2","79.639%"),v(s,"y2","78.201%"),v(s,"id","a"),v(a,"stop-color","#FFE052"),v(a,"offset","0%"),v(c,"stop-color","#FFC331"),v(c,"offset","100%"),v(o,"x1","19.128%"),v(o,"y1","20.579%"),v(o,"x2","90.742%"),v(o,"y2","88.429%"),v(o,"id","b"),v(h,"d","M126.916.072c-64.832 0-60.784 28.115-60.784 28.115l.072 29.128h61.868v8.745H41.631S.145 61.355.145 126.77c0 65.417 36.21 63.097 36.21 63.097h21.61v-30.356s-1.165-36.21 35.632-36.21h61.362s34.475.557 34.475-33.319V33.97S194.67.072 126.916.072zM92.802 19.66a11.12 11.12 0 0 1 11.13 11.13 11.12 11.12 0 0 1-11.13 11.13 11.12 11.12 0 0 1-11.13-11.13 11.12 11.12 0 0 1 11.13-11.13z"),v(h,"fill","url(#a)"),v(l,"d","M128.757 254.126c64.832 0 60.784-28.115 60.784-28.115l-.072-29.127H127.6v-8.745h86.441s41.486 4.705 41.486-60.712c0-65.416-36.21-63.096-36.21-63.096h-21.61v30.355s1.165 36.21-35.632 36.21h-61.362s-34.475-.557-34.475 33.32v56.013s-5.235 33.897 62.518 33.897zm34.114-19.586a11.12 11.12 0 0 1-11.13-11.13 11.12 11.12 0 0 1 11.13-11.131 11.12 11.12 0 0 1 11.13 11.13 11.12 11.12 0 0 1-11.13 11.13z"),v(l,"fill","url(#b)"),v(t,"width","100%"),v(t,"viewBox","0 0 256 255"),v(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"preserveAspectRatio","xMinYMin meet")},m(u,m){st(u,t,m),I(t,e),I(e,s),I(s,n),I(s,r),I(e,o),I(o,a),I(o,c),I(t,h),I(t,l)},p:ot,i:ot,o:ot,d(u){u&&C(t)}}}class od extends Lt{constructor(t){super(),Gt(this,t,null,rd,Dt,{})}}function ad(i){let t,e,s,n,r;return{c(){t=O("svg"),e=O("g"),s=O("path"),n=O("path"),r=O("path"),this.h()},l(o){t=$(o,"svg",{xmlns:!0,width:!0,viewBox:!0,style:!0,preserveAspectRatio:!0});var a=T(t);e=$(a,"g",{transform:!0});var c=T(e);s=$(c,"path",{d:!0,fill:!0}),T(s).forEach(C),n=$(c,"path",{d:!0,fill:!0}),T(n).forEach(C),r=$(c,"path",{d:!0,fill:!0}),T(r).forEach(C),c.forEach(C),a.forEach(C),this.h()},h(){v(s,"d","M471.05 51.6c-1.245 0-2.455.257-3.526.863l-33.888 19.57c-2.193 1.263-3.526 3.65-3.526 6.188v39.07c0 2.537 1.333 4.92 3.526 6.187l8.85 5.1c4.3 2.12 5.886 2.086 7.843 2.086 6.366 0 10-3.863 10-10.577V81.542c0-.545-.472-.935-1.007-.935h-4.245c-.544 0-1.007.4-1.007.935v38.565c0 2.976-3.1 5.97-8.13 3.454l-9.2-5.396c-.325-.177-.576-.5-.576-.863v-39.07c0-.37.248-.748.576-.935l33.817-19.5c.317-.182.694-.182 1.007 0l33.817 19.5c.322.193.576.553.576.935v39.07c0 .373-.187.755-.504.935l-33.888 19.5c-.3.173-.7.173-1.007 0l-8.706-5.18c-.26-.152-.613-.14-.863 0-2.403 1.362-2.855 1.52-5.108 2.302-.555.193-1.4.494.288 1.44l11.368 6.7c1.082.626 2.288.935 3.526.935 1.255 0 2.443-.3 3.526-.935l33.888-19.5c2.193-1.276 3.526-3.65 3.526-6.187v-39.07c0-2.538-1.333-4.92-3.526-6.188l-33.888-19.57c-1.062-.606-2.28-.863-3.526-.863zm9.066 27.918c-9.65 0-15.397 4.107-15.397 10.936 0 7.4 5.704 9.444 14.966 10.36 11.08 1.085 11.944 2.712 11.944 4.893 0 3.783-3.016 5.396-10.145 5.396-8.956 0-10.925-2.236-11.584-6.7-.078-.478-.446-.863-.935-.863h-4.4a1.03 1.03 0 0 0-1.007 1.007c0 5.703 3.102 12.447 17.916 12.447 10.723 0 16.908-4.2 16.908-11.584 0-7.3-4.996-9.273-15.397-10.65-10.5-1.4-11.512-2.07-11.512-4.533 0-2.032.85-4.75 8.634-4.75 6.953 0 9.523 1.5 10.577 6.188.092.44.48.8.935.8h4.4c.27 0 .532-.166.72-.36.184-.207.314-.44.288-.72-.68-8.074-6.064-11.872-16.908-11.872z"),v(s,"fill","#83cd29"),v(n,"d","M271.82.383a2.18 2.18 0 0 0-1.079.288 2.18 2.18 0 0 0-1.079 1.871v55.042c0 .54-.252 1.024-.72 1.295a1.5 1.5 0 0 1-1.511 0l-8.994-5.18a4.31 4.31 0 0 0-4.317 0L218.218 74.42c-1.342.774-2.16 2.264-2.16 3.813v41.443a4.31 4.31 0 0 0 2.159 3.741l35.903 20.722a4.3 4.3 0 0 0 4.317 0l35.903-20.722a4.31 4.31 0 0 0 2.159-3.741V16.356c0-1.572-.858-3.047-2.23-3.813L272.9.598c-.336-.187-.708-.22-1.08-.216zM40.86 52.115c-.685.028-1.328.147-1.943.504L3.015 73.34a4.3 4.3 0 0 0-2.158 3.741L.93 132.7c0 .774.4 1.492 1.08 1.87.667.4 1.494.4 2.158 0l21.297-12.232c1.35-.8 2.23-2.196 2.23-3.74V92.623c0-1.55.815-2.97 2.16-3.74l9.066-5.252a4.25 4.25 0 0 1 2.158-.576 4.24 4.24 0 0 1 2.159.576L52.3 88.88c1.343.77 2.158 2.192 2.158 3.74v25.974c0 1.546.9 2.95 2.23 3.74l21.297 12.232c.67.4 1.495.4 2.158 0 .66-.38 1.08-1.097 1.08-1.87l.072-55.617a4.28 4.28 0 0 0-2.158-3.741L43.235 52.618c-.607-.356-1.253-.476-1.943-.504h-.43zm322.624.504a4.29 4.29 0 0 0-2.159.576l-35.903 20.722c-1.34.775-2.16 2.192-2.16 3.74V119.1c0 1.558.878 2.97 2.23 3.74l35.615 20.3c1.315.75 2.92.807 4.245.07l21.585-12.016c.685-.38 1.148-1.09 1.15-1.87s-.403-1.482-1.08-1.87l-36.12-20.722c-.676-.386-1.15-1.167-1.15-1.943V91.83c0-.774.48-1.484 1.15-1.87l11.224-6.476c.668-.386 1.488-.386 2.16 0L375.5 89.96a2.15 2.15 0 0 1 1.079 1.87v10.217a2.15 2.15 0 0 0 1.079 1.87c.673.388 1.488.39 2.16 0L401.33 91.4c1.335-.776 2.16-2.197 2.16-3.74v-10a4.32 4.32 0 0 0-2.159-3.741l-35.687-20.722a4.28 4.28 0 0 0-2.159-.576zm-107.35 30.94a1.21 1.21 0 0 1 .576.143l12.303 7.123c.334.193.576.55.576.935v14.246c0 .387-.24.743-.576.935l-12.303 7.123c-.335.19-.744.19-1.08 0l-12.303-7.123c-.335-.193-.576-.55-.576-.935V91.758c0-.386.242-.74.576-.935l12.303-7.122c.168-.097.316-.143.504-.143v-.001z"),v(n,"fill","#404137"),v(r,"d","M148.714 52.402a4.31 4.31 0 0 0-2.16.576l-35.903 20.65c-1.342.774-2.158 2.265-2.158 3.813v41.443a4.3 4.3 0 0 0 2.158 3.74l35.903 20.722a4.3 4.3 0 0 0 4.317 0l35.903-20.722a4.31 4.31 0 0 0 2.159-3.741V77.44c0-1.55-.816-3.04-2.16-3.813l-35.903-20.65a4.27 4.27 0 0 0-2.16-.576zm214.7 36.983c-.143 0-.302 0-.432.07l-6.907 4.03a.84.84 0 0 0-.432.719v7.915c0 .298.173.57.432.72l6.907 3.957a.75.75 0 0 0 .79 0l6.907-3.957c.256-.147.432-.422.432-.72v-7.915c0-.298-.175-.57-.432-.72l-6.907-4.03c-.128-.076-.216-.07-.36-.07z"),v(r,"fill","#83cd29"),v(e,"transform","matrix(.217946 0 0 .217946 4.120542 14.085548)"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"width","100%"),v(t,"viewBox","0 0 120 70"),M(t,"height","auto"),M(t,"max-height","100%"),v(t,"preserveAspectRatio","xMidYMid")},m(o,a){st(o,t,a),I(t,e),I(e,s),I(e,n),I(e,r)},p:ot,i:ot,o:ot,d(o){o&&C(t)}}}class cd extends Lt{constructor(t){super(),Gt(this,t,null,ad,Dt,{})}}function ld(i){let t,e,s,n,r,o,a,c,h,l,u,m,d,f,p;return{c(){t=O("svg"),e=O("path"),s=O("path"),n=O("path"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),h=O("path"),l=O("path"),u=O("path"),m=O("path"),d=O("path"),f=O("path"),p=O("path"),this.h()},l(y){t=$(y,"svg",{width:!0,viewBox:!0,fill:!0,xmlns:!0,style:!0});var x=T(t);e=$(x,"path",{d:!0,fill:!0}),T(e).forEach(C),s=$(x,"path",{d:!0,fill:!0}),T(s).forEach(C),n=$(x,"path",{d:!0,fill:!0}),T(n).forEach(C),r=$(x,"path",{d:!0,fill:!0}),T(r).forEach(C),o=$(x,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(o).forEach(C),a=$(x,"path",{d:!0,fill:!0}),T(a).forEach(C),c=$(x,"path",{d:!0,fill:!0}),T(c).forEach(C),h=$(x,"path",{d:!0,fill:!0}),T(h).forEach(C),l=$(x,"path",{d:!0,fill:!0}),T(l).forEach(C),u=$(x,"path",{d:!0,fill:!0}),T(u).forEach(C),m=$(x,"path",{d:!0,fill:!0}),T(m).forEach(C),d=$(x,"path",{d:!0,fill:!0}),T(d).forEach(C),f=$(x,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(f).forEach(C),p=$(x,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(p).forEach(C),x.forEach(C),this.h()},h(){v(e,"d","M384.167 143.033C383.348 142.139 382.477 141.246 381.606 140.405C380.735 139.563 379.916 138.617 379.045 137.776C378.174 136.935 377.354 135.989 376.483 135.147C375.613 134.306 374.793 133.36 373.922 132.519C373.051 131.678 372.232 130.731 371.361 129.89C370.49 129.049 369.67 128.103 368.799 127.262C367.929 126.421 367.109 125.474 366.238 124.633C391.647 150.26 406.204 185.123 406.758 221.68C406.758 308.791 320.596 379.657 214.66 379.657C155.34 379.657 102.269 357.419 66.9745 322.565L69.5358 325.193L72.0971 327.822L74.6584 330.45L77.2197 333.079L79.781 335.707L82.3424 338.336L84.9037 340.965C120.147 377.291 174.396 400.686 235.15 400.686C341.086 400.686 427.249 329.819 427.249 242.971C427.249 205.856 411.676 170.686 384.167 143.033Z"),v(e,"fill","black"),v(s,"d","M393.951 221.68C393.951 301.641 313.68 366.462 214.66 366.462C115.639 366.462 35.3678 301.641 35.3678 221.68C35.3678 172.105 66.1035 128.313 113.334 102.343C160.565 76.3726 189.969 49.7714 214.66 49.7714C239.351 49.7714 260.456 71.4834 315.985 102.343C363.216 128.313 393.951 172.105 393.951 221.68Z"),v(s,"fill","#FBF0DF"),v(n,"d","M393.951 221.68C393.926 211.408 392.548 201.187 389.853 191.294C375.868 366.356 167.788 374.768 85.9794 322.407C122.755 351.659 168.136 367.196 214.66 366.462C313.526 366.462 393.951 301.536 393.951 221.68Z"),v(n,"fill","#F6DECE"),v(r,"d","M145.658 92.7223C168.556 78.6332 198.984 52.1897 228.901 52.1372C224.298 50.6105 219.496 49.8127 214.66 49.7714C202.263 49.7714 189.047 56.3429 172.398 66.2263C166.609 69.696 160.616 73.5337 154.264 77.5292C142.328 85.0994 128.651 93.6686 113.283 102.238C64.5155 129.312 35.3678 173.945 35.3678 221.68C35.3678 223.783 35.3678 225.886 35.3678 227.936C66.4109 115.381 122.811 106.811 145.658 92.7223Z"),v(r,"fill","#FFFEFC"),v(o,"fill-rule","evenodd"),v(o,"clip-rule","evenodd"),v(o,"d","M199.906 63.072C199.978 75.4853 197.439 87.7682 192.461 99.0821C187.484 110.396 180.186 120.474 171.066 128.629C169.632 129.943 170.759 132.466 172.603 131.73C189.866 124.843 213.174 104.235 203.339 62.6514C202.929 60.2857 199.906 60.9166 199.906 63.072ZM211.535 63.072C217.803 73.5675 221.785 85.3299 223.208 97.5527C224.632 109.776 223.463 122.17 219.782 133.886C219.167 135.726 221.37 137.303 222.6 135.778C233.818 121.058 243.602 91.8286 214.301 60.2857C212.815 58.9189 210.51 61.0217 211.535 62.8617V63.072ZM225.673 62.1783C235.489 69.3099 243.7 78.5187 249.753 89.1837C255.807 99.8487 259.561 111.722 260.763 124.002C260.711 124.445 260.827 124.891 261.087 125.248C261.347 125.605 261.731 125.846 262.159 125.92C262.588 125.994 263.027 125.897 263.387 125.647C263.747 125.398 264 125.016 264.093 124.581C268.806 106.233 266.142 74.9531 227.364 58.7086C225.315 57.8674 223.983 60.7063 225.673 61.968V62.1783ZM131.11 116.853C142.785 113.273 153.596 107.209 162.837 99.0574C172.078 90.9054 179.542 80.8474 184.743 69.5383C185.666 67.6457 188.585 68.3817 188.124 70.4846C179.262 112.542 149.602 121.321 131.161 120.165C129.214 120.217 129.266 117.431 131.11 116.853Z"),v(o,"fill","#CCBEA7"),v(a,"d","M214.66 379.657C108.724 379.657 22.5613 308.791 22.5613 221.68C22.5613 169.109 54.2191 120.059 107.238 90.672C122.606 82.2606 135.771 73.7966 147.502 66.384C153.957 62.2834 160.052 58.4457 165.944 54.8709C183.924 43.936 199.292 36.6286 214.66 36.6286C230.028 36.6286 243.449 42.9371 260.251 53.136C265.374 56.1326 270.496 59.392 275.977 62.9669C288.733 71.0629 303.127 80.2103 322.081 90.672C375.1 120.059 406.758 169.056 406.758 221.68C406.758 308.791 320.596 379.657 214.66 379.657ZM214.66 49.7714C202.263 49.7714 189.047 56.3429 172.398 66.2263C166.609 69.696 160.616 73.5337 154.264 77.5292C142.328 85.0995 128.651 93.6686 113.283 102.238C64.5156 129.312 35.3678 173.945 35.3678 221.68C35.3678 301.536 115.793 366.515 214.66 366.515C313.526 366.515 393.951 301.536 393.951 221.68C393.951 173.945 364.804 129.312 315.985 102.343C296.622 91.8286 281.51 81.9452 269.267 74.1646C263.683 70.6423 258.561 67.3829 253.899 64.4914C238.377 55.0286 227.056 49.7714 214.66 49.7714Z"),v(a,"fill","black"),v(c,"d","M250.774 260.057C248.473 269.73 243.234 278.401 235.816 284.818C230.246 290.359 223.036 293.837 215.325 294.702C207.383 293.974 199.92 290.487 194.169 284.818C186.826 278.371 181.662 269.703 179.416 260.057C179.341 259.485 179.396 258.902 179.575 258.354C179.753 257.806 180.052 257.308 180.448 256.897C180.843 256.486 181.325 256.173 181.857 255.983C182.388 255.793 182.955 255.73 183.514 255.799H246.727C247.282 255.738 247.843 255.808 248.368 256.002C248.893 256.196 249.368 256.51 249.758 256.92C250.147 257.33 250.441 257.825 250.617 258.369C250.793 258.912 250.847 259.489 250.774 260.057V260.057Z"),v(c,"fill","#B71422"),v(h,"d","M194.169 285.239C199.908 290.911 207.344 294.431 215.274 295.227C223.186 294.419 230.603 290.901 236.328 285.239C238.16 283.487 239.871 281.607 241.451 279.614C238.295 275.94 234.44 272.967 230.124 270.879C225.807 268.79 221.12 267.63 216.35 267.47C211.246 267.594 206.249 268.989 201.787 271.535C197.325 274.081 193.533 277.701 190.737 282.085C191.915 283.189 192.94 284.24 194.169 285.239Z"),v(h,"fill","#FF6164"),v(l,"d","M194.989 281.086C197.528 277.717 200.779 274.982 204.497 273.088C208.215 271.195 212.302 270.19 216.453 270.151C224.124 270.383 231.433 273.552 236.943 279.035C238.121 277.721 239.248 276.354 240.324 274.987C233.807 268.618 225.195 264.996 216.196 264.841C211.388 264.884 206.648 266.018 202.317 268.163C197.986 270.308 194.171 273.411 191.147 277.248C192.358 278.598 193.641 279.88 194.989 281.086V281.086Z"),v(l,"fill","black"),v(u,"d","M215.121 297.856C206.585 297.089 198.552 293.383 192.325 287.342C184.395 280.459 178.814 271.158 176.394 260.793C176.22 259.871 176.25 258.92 176.48 258.01C176.71 257.101 177.136 256.255 177.726 255.536C178.428 254.666 179.314 253.972 180.317 253.508C181.321 253.043 182.414 252.82 183.514 252.855H246.727C247.826 252.831 248.916 253.06 249.917 253.524C250.919 253.987 251.806 254.675 252.516 255.536C253.1 256.258 253.518 257.105 253.74 258.015C253.961 258.925 253.981 259.875 253.796 260.793C251.376 271.158 245.795 280.459 237.865 287.342C231.652 293.373 223.639 297.077 215.121 297.856ZM183.514 258.953C182.694 258.953 182.49 259.321 182.438 259.426C184.604 268.414 189.502 276.461 196.423 282.4C201.484 287.517 208.064 290.755 215.121 291.6C222.159 290.764 228.732 287.567 233.818 282.505C240.718 276.556 245.597 268.511 247.752 259.532C247.64 259.363 247.485 259.23 247.304 259.147C247.124 259.063 246.924 259.033 246.727 259.058L183.514 258.953Z"),v(u,"fill","black"),v(m,"d","M292.626 263.317C309.177 263.317 322.593 255.22 322.593 245.232C322.593 235.244 309.177 227.147 292.626 227.147C276.076 227.147 262.659 235.244 262.659 245.232C262.659 255.22 276.076 263.317 292.626 263.317Z"),v(m,"fill","#FEBBD0"),v(d,"d","M137.564 263.317C154.115 263.317 167.532 255.22 167.532 245.232C167.532 235.244 154.115 227.147 137.564 227.147C121.014 227.147 107.597 235.244 107.597 245.232C107.597 255.22 121.014 263.317 137.564 263.317Z"),v(d,"fill","#FEBBD0"),v(f,"fill-rule","evenodd"),v(f,"clip-rule","evenodd"),v(f,"d","M151.651 237.977C157.236 237.988 162.698 236.298 167.347 233.121C171.995 229.944 175.621 225.424 177.765 220.132C179.909 214.84 180.476 209.014 179.392 203.391C178.309 197.769 175.625 192.603 171.679 188.546C167.734 184.49 162.705 181.726 157.228 180.604C151.751 179.482 146.074 180.053 140.913 182.243C135.753 184.434 131.341 188.147 128.238 192.912C125.134 197.676 123.477 203.279 123.477 209.01C123.477 216.684 126.444 224.044 131.726 229.474C137.008 234.905 144.174 237.963 151.651 237.977V237.977ZM278.539 237.977C284.13 238.019 289.607 236.355 294.276 233.198C298.944 230.04 302.594 225.531 304.762 220.242C306.929 214.953 307.518 209.122 306.452 203.489C305.386 197.856 302.714 192.675 298.775 188.603C294.836 184.531 289.807 181.751 284.326 180.616C278.845 179.482 273.16 180.043 267.99 182.229C262.821 184.415 258.4 188.128 255.29 192.896C252.179 197.664 250.518 203.272 250.518 209.01C250.504 216.661 253.446 224.005 258.698 229.434C263.95 234.864 271.084 237.935 278.539 237.977V237.977Z"),v(f,"fill","black"),v(p,"fill-rule","evenodd"),v(p,"clip-rule","evenodd"),v(p,"d","M142.943 210.85C145.042 210.861 147.098 210.231 148.848 209.042C150.599 207.852 151.966 206.157 152.776 204.169C153.587 202.182 153.804 199.992 153.401 197.877C152.997 195.763 151.991 193.819 150.51 192.292C149.029 190.765 147.14 189.723 145.082 189.299C143.023 188.875 140.889 189.087 138.948 189.909C137.008 190.731 135.349 192.126 134.181 193.917C133.014 195.707 132.39 197.813 132.39 199.968C132.39 202.845 133.5 205.605 135.478 207.644C137.456 209.684 140.14 210.836 142.943 210.85ZM269.83 210.85C271.93 210.861 273.985 210.231 275.735 209.042C277.486 207.852 278.853 206.157 279.664 204.169C280.474 202.182 280.691 199.992 280.288 197.877C279.885 195.763 278.879 193.819 277.398 192.292C275.917 190.765 274.028 189.723 271.969 189.299C269.911 188.875 267.776 189.087 265.836 189.909C263.895 190.731 262.236 192.126 261.068 193.917C259.901 195.707 259.278 197.813 259.278 199.968C259.278 202.827 260.374 205.571 262.329 207.608C264.285 209.644 266.942 210.809 269.728 210.85H269.83Z"),v(p,"fill","white"),v(t,"width","100%"),v(t,"viewBox","0 0 435 435"),v(t,"fill","none"),v(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"height","auto"),M(t,"max-height","100%")},m(y,x){st(y,t,x),I(t,e),I(t,s),I(t,n),I(t,r),I(t,o),I(t,a),I(t,c),I(t,h),I(t,l),I(t,u),I(t,m),I(t,d),I(t,f),I(t,p)},p:ot,i:ot,o:ot,d(y){y&&C(t)}}}class hd extends Lt{constructor(t){super(),Gt(this,t,null,ld,Dt,{})}}const ud=i=>i.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),md=(i,t)=>{const s=i.getBoundingClientRect().width+2,n=window.getComputedStyle(i),r=parseInt(n.getPropertyValue("padding-left"),10),o=parseInt(n.getPropertyValue("padding-right"),10),a=r+o,c=s-a;return Math.round(Math.min(t,c||t))},dd=(i,t=null,e)=>{const s=i.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;let o=s.bottom>0&&s.top<r&&s.right>0&&s.left<n;if(t){const a=t.getBoundingClientRect();return e==="top"||e==="bottom"?o=a.bottom+a.height<r&&a.top<r:o=a.right+a.width<n&&a.left<n,o}return o},Co=(i,t,e,s)=>{if(!i||!t)return s;const n=t.getBoundingClientRect(),r=i.getBoundingClientRect(),o=window.getComputedStyle(i).position;window.getComputedStyle(i);let a=0,c=0,h=0,l=0,u=0,m=i;for(;m&&m!==document.body;){const p=window.getComputedStyle(m),y=p.position,x=m.getBoundingClientRect();y==="fixed"?(h+=x.top+window.scrollY,u+=x.left+window.scrollX):y==="sticky"?(l+=x.top,u+=x.left+window.scrollX):(y==="absolute"||y==="relative")&&(y==="absolute"&&(a-=parseFloat(p.top)||0,c-=parseFloat(p.left)||0),y==="relative"&&(a-=m.offsetTop,c-=m.offsetLeft,e==="bottom"&&(a+=r.height),e==="right"&&(c-=r.width),o==="absolute"&&e==="right"&&(c+=r.width)));const _=p.transform;if(_&&_!=="none"){const b=new DOMMatrix(_);y==="relative"||y==="absolute"?(a-=b.m42,c-=b.m41):(a-=m.offsetTop+b.m42,c-=m.offsetLeft+b.m41)}m=m.parentElement}let d=r.top+a+l-h,f=r.left+c-u;switch(e){case"top":s.top=d,s.left=f+r.width/2;break;case"bottom":s.top=d-n.height,s.left=f+r.width/2;break;case"left":s.left=f,s.top=d+r.height/2;break;case"right":s.left=f+r.width-n.width,s.top=d+r.height/2;break}return s.top+=window.scrollY,s.left+=window.scrollX,s},_d={left:"right",right:"left",top:"bottom",bottom:"top"};function fd(i){let t;const e=i[22].default,s=xs(e,i,i[21],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),t=!0},p(n,r){s&&s.p&&(!t||r[0]&2097152)&&vs(s,e,n,n[21],t?ws(e,n[21],r,null):As(n[21]),null)},i(n){t||(K(s,n),t=!0)},o(n){rt(s,n),t=!1},d(n){s&&s.d(n)}}}function pd(i){let t,e,s,n,r;const o=i[22].default,a=xs(o,i,i[21],null);let c=!i[12]&&dl(i);return{c(){t=J("span"),a&&a.c(),e=bt(),s=J("div"),c&&c.c(),this.h()},l(h){t=X(h,"SPAN",{class:!0});var l=T(t);a&&a.l(l),l.forEach(C),e=yt(h),s=X(h,"DIV",{class:!0,style:!0});var u=T(s);c&&c.l(u),u.forEach(C),this.h()},h(){v(t,"class","tooltip-container"),v(s,"class",n="tooltip animation-"+i[9]+" "+i[0]+" "+i[4]+" svelte-1xktviv"),M(s,"bottom","auto"),M(s,"right","auto"),M(s,"left",i[11].left+"px"),M(s,"min-width",i[8]+"px"),M(s,"max-width",i[3]+"px"),M(s,"text-align",i[2]),M(s,"top",i[11].top+"px"),jt(s,"arrowless",!i[5]),jt(s,"show",i[10])},m(h,l){st(h,t,l),a&&a.m(t,null),i[23](t),st(h,e,l),st(h,s,l),c&&c.m(s,null),i[24](s),r=!0},p(h,l){a&&a.p&&(!r||l[0]&2097152)&&vs(a,o,h,h[21],r?ws(o,h[21],l,null):As(h[21]),null),h[12]?c&&(c.d(1),c=null):c?c.p(h,l):(c=dl(h),c.c(),c.m(s,null)),(!r||l[0]&529&&n!==(n="tooltip animation-"+h[9]+" "+h[0]+" "+h[4]+" svelte-1xktviv"))&&v(s,"class",n),(!r||l[0]&2048)&&M(s,"left",h[11].left+"px"),(!r||l[0]&256)&&M(s,"min-width",h[8]+"px"),(!r||l[0]&8)&&M(s,"max-width",h[3]+"px"),(!r||l[0]&4)&&M(s,"text-align",h[2]),(!r||l[0]&2048)&&M(s,"top",h[11].top+"px"),(!r||l[0]&561)&&jt(s,"arrowless",!h[5]),(!r||l[0]&1553)&&jt(s,"show",h[10])},i(h){r||(K(a,h),r=!0)},o(h){rt(a,h),r=!1},d(h){h&&(C(t),C(e),C(s)),a&&a.d(h),i[23](null),c&&c.d(),i[24](null)}}}function dl(i){let t,e;return{c(){t=new oa(!1),e=ks(),this.h()},l(s){t=aa(s,!1),e=ks(),this.h()},h(){t.a=e},m(s,n){t.m(i[1],s,n),st(s,e,n)},p(s,n){n[0]&2&&t.p(s[1])},d(s){s&&(C(e),t.d())}}}function bd(i){let t,e,s,n,r,o;const a=[pd,fd],c=[];function h(l,u){return l[1]?0:1}return t=h(i),e=c[t]=a[t](i),{c(){e.c(),s=ks()},l(l){e.l(l),s=ks()},m(l,u){c[t].m(l,u),st(l,s,u),n=!0,r||(o=Be(window,"resize",i[13]),r=!0)},p(l,u){let m=t;t=h(l),t===m?c[t].p(l,u):(ss(),rt(c[m],1,1,()=>{c[m]=null}),is(),e=c[t],e?e.p(l,u):(e=c[t]=a[t](l),e.c()),K(e,1),e.m(s.parentNode,s))},i(l){n||(K(e),n=!0)},o(l){rt(e),n=!1},d(l){l&&C(s),c[t].d(l),r=!1,o()}}}function yd(i,t,e){let s,{$$slots:n={},$$scope:r}=t,{action:o="hover"}=t,{content:a=""}=t,{align:c="left"}=t,{position:h="top"}=t,{maxWidth:l=200}=t,{style:u=null}=t,{theme:m=""}=t,{animation:d=""}=t,{hideOnClickOutside:f=!1}=t,{delay:p=200}=t,{arrow:y=!0}=t,{autoPosition:x=!1}=t,{show:_=!1}=t,b=null,g=null,A=0,B=null,w=h,P=null,V=null,S=!1,D={bottom:0,top:0,right:0,left:0};const L=({target:G})=>{f&&b!==G&&g!==G&&!(b!=null&&b.parentNode.contains(G))&&!(g!=null&&g.contains(G))&&R()},k=()=>{S?R():E()},E=()=>{const G=d?p:0;x&&!dd(b,g,h)&&e(0,h=_d[h]),e(11,D=Co(b,g,h,D)),d&&e(9,P=d),V=setTimeout(()=>e(10,S=!0),G)},R=()=>{e(10,S=!1),e(0,h=w),e(9,P=null),V&&(clearTimeout(V),V=null)},z=()=>{b!==null&&(U(),o==="click"&&(b.addEventListener("click",k),f&&document.addEventListener("click",L,{passive:!0,capture:!0})),o==="hover"&&(b.addEventListener("mouseenter",E),b.addEventListener("mouseleave",R)))},U=()=>{f&&document.removeEventListener("click",L),b!==null&&(b.removeEventListener("click",k),b.removeEventListener("mouseenter",E),b.removeEventListener("mouseleave",R))};Xs(()=>{if(z(),Co(),g!==null&&(s&&!B&&(B=new a.component({target:g,props:a.props})),e(8,A=md(g,l)),u&&typeof u=="object"))for(let G in u){const W=ud(G),ht=u[G];g.style.setProperty(`--tooltip-${W}`,ht)}}),sc(()=>{B&&(B.$destroy(),B=null),U()});const at=()=>{S&&e(11,D=Co(b,g,h,D))};function N(G){Ee[G?"unshift":"push"](()=>{b=G,e(7,b)})}function j(G){Ee[G?"unshift":"push"](()=>{g=G,e(6,g)})}return i.$$set=G=>{"action"in G&&e(14,o=G.action),"content"in G&&e(1,a=G.content),"align"in G&&e(2,c=G.align),"position"in G&&e(0,h=G.position),"maxWidth"in G&&e(3,l=G.maxWidth),"style"in G&&e(15,u=G.style),"theme"in G&&e(4,m=G.theme),"animation"in G&&e(16,d=G.animation),"hideOnClickOutside"in G&&e(17,f=G.hideOnClickOutside),"delay"in G&&e(18,p=G.delay),"arrow"in G&&e(5,y=G.arrow),"autoPosition"in G&&e(19,x=G.autoPosition),"show"in G&&e(20,_=G.show),"$$scope"in G&&e(21,r=G.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&2&&e(12,s=typeof a=="object"),i.$$.dirty[0]&16384&&z(),i.$$.dirty[0]&1048640&&setTimeout(g&&_?E:R,0)},[h,a,c,l,m,y,g,b,A,P,S,D,s,at,o,u,d,f,p,x,_,r,n,N,j]}class Bs extends Lt{constructor(t){super(),Gt(this,t,yd,bd,Dt,{action:14,content:1,align:2,position:0,maxWidth:3,style:15,theme:4,animation:16,hideOnClickOutside:17,delay:18,arrow:5,autoPosition:19,show:20},null,[-1,-1])}}function gd(i){let t,e,s,n,r,o,a,c,h,l,u,m,d,f,p,y,x,_,b,g,A;return{c(){t=O("svg"),e=O("defs"),s=O("g"),n=O("path"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),h=O("path"),l=O("path"),u=O("path"),m=O("path"),d=O("path"),f=O("path"),p=O("path"),y=O("path"),x=O("path"),_=O("path"),b=O("circle"),g=O("path"),A=O("path"),this.h()},l(B){t=$(B,"svg",{version:!0,id:!0,width:!0,style:!0,viewBox:!0,xmlns:!0});var w=T(t);e=$(w,"defs",{id:!0}),T(e).forEach(C),s=$(w,"g",{id:!0,transform:!0,style:!0});var P=T(s);n=$(P,"path",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,rx:!0,ry:!0,transform:!0,d:!0}),T(n).forEach(C),r=$(P,"path",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,rx:!0,ry:!0,transform:!0,d:!0}),T(r).forEach(C),o=$(P,"path",{style:!0,id:!0,d:!0}),T(o).forEach(C),P.forEach(C),a=$(w,"path",{d:!0,style:!0,id:!0}),T(a).forEach(C),c=$(w,"path",{d:!0,style:!0,id:!0}),T(c).forEach(C),h=$(w,"path",{d:!0,style:!0,id:!0}),T(h).forEach(C),l=$(w,"path",{d:!0,style:!0,id:!0}),T(l).forEach(C),u=$(w,"path",{d:!0,style:!0,id:!0}),T(u).forEach(C),m=$(w,"path",{d:!0,style:!0,id:!0}),T(m).forEach(C),d=$(w,"path",{d:!0,style:!0,id:!0}),T(d).forEach(C),f=$(w,"path",{d:!0,style:!0,id:!0}),T(f).forEach(C),p=$(w,"path",{d:!0,style:!0,id:!0}),T(p).forEach(C),y=$(w,"path",{d:!0,style:!0,id:!0}),T(y).forEach(C),x=$(w,"path",{d:!0,style:!0,id:!0}),T(x).forEach(C),_=$(w,"path",{d:!0,style:!0,id:!0}),T(_).forEach(C),b=$(w,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),T(b).forEach(C),g=$(w,"path",{d:!0,style:!0,id:!0}),T(g).forEach(C),A=$(w,"path",{style:!0,id:!0,d:!0}),T(A).forEach(C),w.forEach(C),this.h()},h(){v(e,"id","defs1"),M(n,"fill","none"),M(n,"stroke","#575a8a"),M(n,"stroke-width","12"),M(n,"stroke-dasharray","none"),M(n,"stroke-opacity","1"),v(n,"id","rect1"),v(n,"width","206.55002"),v(n,"height","137.69992"),v(n,"x","295.64999"),v(n,"y","460.35001"),v(n,"rx","0"),v(n,"ry","0"),v(n,"transform","translate(2.7,12.15)"),v(n,"d","M 310.59568,460.35001 H 478.98002 A 23.219992,23.219992 45 0 1 502.20001,483.57 v 6.07493 a 108.405,108.405 135 0 1 -108.405,108.405 h -37.12502 a 61.019992,61.019992 45 0 1 -61.02,-61.02 v -61.73424 a 14.945686,14.945686 135 0 1 14.94569,-14.94568 z"),M(r,"fill","none"),M(r,"stroke","#575a8a"),M(r,"stroke-width","12"),M(r,"stroke-dasharray","none"),M(r,"stroke-opacity","1"),v(r,"id","rect1-5"),v(r,"width","206.55002"),v(r,"height","137.69992"),v(r,"x","295.64999"),v(r,"y","460.35001"),v(r,"rx","0"),v(r,"ry","0"),v(r,"transform","matrix(-1,0,0,1,1053,10.800034)"),v(r,"d","M 310.59568,460.35001 H 478.98002 A 23.219992,23.219992 45 0 1 502.20001,483.57 v 6.07493 a 108.405,108.405 135 0 1 -108.405,108.405 h -37.12502 a 61.019992,61.019992 45 0 1 -61.02,-61.02 v -61.73424 a 14.945686,14.945686 135 0 1 14.94569,-14.94568 z"),M(o,"fill","none"),M(o,"stroke","#575a8a"),M(o,"stroke-width","12.9"),M(o,"stroke-linecap","round"),M(o,"stroke-linejoin","miter"),M(o,"stroke-dasharray","none"),M(o,"stroke-opacity","1"),M(o,"paint-order","normal"),v(o,"id","path2"),v(o,"d","m 499.52559,536.17519 a 30.194157,28.685228 0 0 1 28.36922,-18.89691 30.194157,28.685228 0 0 1 28.38589,18.8743"),v(s,"id","g8"),v(s,"transform","matrix(0.99951457,0,0,1.0383375,12.348761,-22.981396)"),M(s,"display","inline"),v(a,"d","m 689.48437,696.87109 c 3.44323,5.73501 6.46038,11.67274 9.03125,17.77344 2.80597,-19.49332 6.28126,-35.18555 6.28125,-35.18555 l 2.4668,-10.43164 -10.51758,4.47657 a 206.55,206.55 0 0 1 -9.9082,10.18945 l 6.22461,0.0371 c -1.08173,3.44835 -2.35183,7.87539 -3.57813,13.14062 z"),M(a,"display","inline"),M(a,"stroke-linecap","round"),M(a,"fill","#575a8a"),v(a,"id","path58"),v(c,"d","m 696.21484,780.47461 c 3.65219,3.55282 6.78066,6.55309 10.48828,10.14844 a 161.32642,146.5302 0 0 0 1.5254,-14.0625 c -11.30862,-15.61415 -12.69755,-38.11092 -10.37305,-57.86914 0.16912,-1.43753 0.4592,-2.65083 0.66015,-4.04688 a 161.32642,146.5302 0 0 0 -9.03125,-17.77344 c -1.32655,5.6957 -2.60234,12.39142 -3.54687,20.41993 -2.36018,20.06148 -1.77149,44.2314 10.27734,63.18359 z"),M(c,"display","inline"),M(c,"stroke-linecap","round"),M(c,"fill","#575a8a"),v(c,"id","path57"),v(h,"d","m 820.93164,849.08984 c -1.0736,-0.44951 -2.13579,-0.96372 -3.22266,-1.33789 -57.81676,-19.90413 -74.14649,-32.06394 -106.35937,-67.11914 -1.1651,-1.2679 -2.11847,-2.6879 -3.12109,-4.07226 a 161.32642,146.5302 0 0 1 -1.5254,14.0625 c 12.71491,12.32985 25.09021,24.07529 37.72266,36.15039 17.26743,11.93493 37.59842,21.38406 69.37695,32.32422 3.71164,1.27778 7.56557,3.49787 11.4668,6.16992 -1.54234,-5.22501 -2.99928,-10.59293 -4.33789,-16.17774 z"),M(h,"display","inline"),M(h,"stroke-linecap","round"),M(h,"fill","#575a8a"),v(h,"id","path56"),v(l,"d","m 825.26953,865.26758 c -3.90123,-2.67205 -7.75516,-4.89214 -11.4668,-6.16992 -31.77853,-10.94016 -52.10952,-20.38929 -69.37695,-32.32422 57.15876,54.63687 108.2819,101.54887 99.43555,84.86328 -7.42689,-14.00826 -13.55213,-29.2962 -18.5918,-46.36914 z"),M(l,"display","inline"),M(l,"stroke-linecap","round"),M(l,"fill","#575a8a"),v(l,"id","path55"),v(u,"d","m 825.26953,865.26758 c 0.48342,18.42294 4.41491,26.28588 11.8418,40.29414 8.84635,16.68559 -30.12679,-26.68266 -87.28555,-81.31953 -13.26331,-9.16736 -28.14212,-25.16289 -41.3457,-39.26133 C 694.6959,854.71089 625.93622,913.42845 547.9375,913.54687 470.94976,912.83206 405.24712,862.8045 391.0332,794.07617 310.85533,861.48962 237.12056,924.851 253.92143,896.60339 c 7.18575,-12.08155 4.09081,-21.61366 8.42427,-33.84362 -9.51246,6.32275 -19.42001,16.47619 -28.84765,29.60156 -13.03815,18.152 -29.95593,40.15943 -40.08047,64.94101 -20.15048,49.32186 -27.12134,106.13516 -23.30821,136.34416 l 747.11329,-5.6367 c 1.3667,-31.3017 -7.1953,-81.8771 -25.80586,-127.42972 -10.12455,-24.78158 -21.47357,-48.98473 -34.51172,-67.13672 -9.1801,-12.78074 -22.35268,-21.81772 -31.63555,-28.17578 z"),M(u,"display","inline"),M(u,"stroke-linecap","round"),M(u,"fill","#575a8a"),v(u,"id","path54"),v(m,"d","m 820.93164,849.08984 c 1.33861,5.58481 2.79555,10.95273 4.33789,16.17774 9.28287,6.35806 18.9117,16.23879 28.0918,29.01953 13.03815,18.15199 25.23092,41.51139 35.35547,66.29297 18.61056,45.55262 29.87256,96.12802 28.50586,127.42972 l -747.11329,5.6367 c -3.81313,-30.209 7.88273,-85.6723 28.03321,-134.99416 10.12454,-24.78158 22.31732,-48.13901 35.35547,-66.29101 9.42764,-13.12537 19.33519,-23.27881 28.84765,-29.60156 1.90878,-5.38697 3.61794,-10.78766 5.04883,-16.20704 -15.87293,6.10925 -30.3262,20.26924 -43.64258,38.8086 -13.80981,19.22632 -26.31755,43.29997 -36.71679,68.7539 -20.79846,50.90777 -33.39953,106.78657 -28.79297,141.59177 a 6,6 0 0 0 0.92968,1.6075 6,6 0 0 0 -0.98242,2.4218 6,6 0 0 0 6.04492,5.9551 l 753.54297,-5.6855 a 6,6 0 0 0 4.10547,2.7871 6,6 0 0 0 6.73633,-5.1602 c 0.07,-0.5284 0.0512,-1.1611 0.11328,-1.6992 a 6,6 0 0 0 0.35938,-2.0137 6,6 0 0 0 -0.19336,-0.457 c 3.21233,-34.9854 -9.04881,-88.4111 -29.07227,-137.42188 -10.39923,-25.45392 -22.90698,-49.52759 -36.7168,-68.75391 -12.90403,-17.96529 -26.88177,-31.79288 -42.17773,-38.19727 z"),M(m,"display","inline"),M(m,"stroke-linecap","round"),M(m,"fill","#575a8a"),v(m,"id","path53"),v(d,"d","m 388.2168,781.82617 a 161.32642,146.5302 0 0 1 -1.60547,-14.81055 161.32642,146.5302 0 0 1 1.75,-16.14648 c -1.96446,10.50063 -5.90133,20.2744 -12.85156,27.83789 -32.21288,35.0552 -48.54261,47.21305 -106.35938,67.11719 -0.59212,0.20384 -1.16769,0.50214 -1.75586,0.72851 -1.43089,5.41938 -3.14005,10.82007 -5.04883,16.20704 3.643,-2.42144 7.23745,-4.39406 10.71094,-5.58985 58.64371,-20.18882 78.58954,-34.75897 111.28906,-70.34375 1.45549,-1.58391 2.62754,-3.30974 3.8711,-5 z"),M(d,"display","inline"),M(d,"stroke-linecap","round"),M(d,"fill","#575a8a"),v(d,"id","path52"),v(f,"d","m 388.2168,781.82617 c -1.24356,1.69026 -2.41561,3.41609 -3.8711,5 -32.69952,35.58478 -206.43735,100.73096 -144.9385,108.76616 3.97182,0.51895 26.58154,-35.254 22.9385,-32.83256 -4.33346,12.22996 -9.82987,24.3872 -17.01562,36.46875 -16.80087,28.24761 85.81038,-22.94269 145.70312,-105.15235 -1.13043,-4.04504 -2.07009,-8.1321 -2.8164,-12.25 z"),M(f,"display","inline"),M(f,"stroke-linecap","round"),M(f,"fill","#575a8a"),v(f,"id","path51"),v(p,"d","m 619.74805,245.58594 c -23.23629,0.96533 -48.20622,9.0886 -74.67383,26.47265 -25.56859,-8.55026 -148.60776,-34.30238 -246.28711,136.50782 -95.02848,166.17467 3.19938,306.9728 -31.39258,437.98632 0.58817,-0.22637 1.16374,-0.52467 1.75586,-0.72851 57.81677,-19.90414 74.1465,-32.06199 106.35938,-67.11719 6.95023,-7.56349 10.8871,-17.33726 12.85156,-27.83789 0.77046,-4.11835 1.18612,-6.32947 1.40429,-12.60156 0.52352,-15.05071 -0.12561,-27.74861 -1.26796,-34.66446 C 382.33845,666.3148 333.92442,588.15303 333.44922,540 333.44879,425.92498 425.92498,333.44879 540,333.44922 654.07502,333.44879 746.55121,425.92498 746.55078,540 c -0.24013,49.00019 -17.89283,96.31911 -49.80469,133.50391 l 10.51758,-4.47657 -2.4668,10.43164 c 10e-6,0 -3.47528,15.69223 -6.28125,35.18555 -0.20095,1.39605 -0.49103,2.60935 -0.66015,4.04688 -2.3245,19.75822 -0.93557,42.25499 10.37305,57.86914 1.00262,1.38436 1.95599,2.80436 3.12109,4.07226 32.21288,35.0552 48.54261,47.21501 106.35937,67.11914 1.08687,0.37417 2.14906,0.88838 3.22266,1.33789 -16.98389,-70.85849 -17.95205,-172.03345 -12.39062,-338.38281 2.89504,-86.59455 -66.34331,-259.96713 -178.94141,-265.10351 -3.24802,-0.14817 -6.53209,-0.15549 -9.85156,-0.0176 z"),M(p,"display","inline"),M(p,"fill","none"),M(p,"stroke","#575a8a"),M(p,"stroke-width","12"),M(p,"stroke-linecap","round"),v(p,"id","path50"),v(y,"d","m 685.69531,683.68555 8.53203,-9.39683 c 0.82991,-1.1858 -6.31919,8.99495 -4.07968,5.64532 l 2.79336,-4.16016 c 33.28452,-37.21284 51.48773,-85.81119 51.79726,-135.73672 7.7e-4,-113.08062 -91.66938,-204.75077 -204.75,-204.75 -113.07986,3.1e-4 -204.74882,91.67014 -204.74805,204.75 0.35778,47.73669 17.38463,93.84793 48.13672,130.36133 0.0636,-0.052 63.94182,74.30483 156.61133,74.38674 54.78751,-0.0518 107.26883,-22.05889 145.70703,-61.09961 z"),M(y,"display","inline"),M(y,"fill","none"),M(y,"stroke","#575a8a"),M(y,"stroke-width","11.1418"),M(y,"stroke-linecap","round"),v(y,"id","path49"),v(x,"d","m 395.13867,686.66016 c -4.51751,-4.88173 -6.68721,-1.79444 -10.71288,-7.08906 0.65349,-5.30475 2.0475,15.68455 4.57808,37.19452 0.81901,6.96155 1.11552,14.26676 0.76171,21.50196 2.27833,-10.038 5.70988,-19.83119 10.23829,-29.21875 -1.43224,-9.47713 -4.8652,-22.38867 -4.8652,-22.38867 z"),M(x,"display","inline"),M(x,"stroke-linecap","round"),M(x,"fill","#575a8a"),v(x,"id","path47"),v(_,"d","m 400.00391,709.04883 a 161.32642,146.5302 0 0 0 -10.23829,29.21875 c -0.20828,4.25959 -0.63383,8.48321 -1.40429,12.60156 a 161.32642,146.5302 0 0 0 -1.75,16.14648 161.32642,146.5302 0 0 0 1.60547,14.81055 c 14.26372,-19.38734 15.20667,-45.19943 12.70507,-66.46289 -0.2667,-2.26698 -0.60437,-4.23942 -0.91796,-6.31445 z"),M(_,"display","inline"),M(_,"stroke-linecap","round"),M(_,"fill","#575a8a"),v(_,"id","path46"),M(b,"fill","none"),M(b,"fill-opacity","1"),M(b,"stroke","#575a8a"),M(b,"stroke-width","11.905"),M(b,"stroke-linecap","round"),M(b,"stroke-linejoin","miter"),M(b,"stroke-dasharray","none"),M(b,"stroke-opacity","1"),M(b,"paint-order","normal"),v(b,"id","path68"),v(b,"cx","540.77759"),v(b,"cy","613.32678"),v(b,"r","49.309662"),v(g,"d","m 588.12187,598.49831 a 49.309662,49.309662 0 0 1 2.43555,15.2168 49.309662,49.309662 0 0 1 -49.31055,49.31055 49.309662,49.309662 0 0 1 -49.30859,-49.31055 49.309662,49.309662 0 0 1 2.07422,-13.36719 c -0.21253,10e-4 -0.28065,0.003 -0.49414,0.004 0,0 -62.62125,42.98948 -130.30274,28.16016 -27.60229,-6.04779 12.63659,44.88683 62.84375,79.9414 37.05174,25.86946 81.48933,38.30805 98.00586,37.47266 66.57686,-3.36738 162.18684,-42.91557 187.09961,-98.79883 21.05195,-47.22286 10.50315,30.02523 -123.04297,-48.62891 z"),M(g,"fill","#575a8a"),M(g,"fill-opacity","1"),M(g,"stroke","#575a8a"),M(g,"stroke-width","1.505"),M(g,"stroke-linecap","round"),v(g,"id","path72"),M(A,"fill","none"),M(A,"stroke","#575a8a"),M(A,"stroke-width","5.81859"),M(A,"stroke-linecap","round"),v(A,"id","path1"),v(A,"d","m 561.6843,606.69723 a 20.916996,20.916996 0 0 1 -18.72845,11.42068 20.916996,20.916996 0 0 1 -18.62807,-11.58368"),v(t,"version","1.1"),v(t,"id","svg1"),v(t,"width","100%"),M(t,"height","auto",1),M(t,"max-height","100%"),v(t,"viewBox","0 0 1080 1080"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(B,w){st(B,t,w),I(t,e),I(t,s),I(s,n),I(s,r),I(s,o),I(t,a),I(t,c),I(t,h),I(t,l),I(t,u),I(t,m),I(t,d),I(t,f),I(t,p),I(t,y),I(t,x),I(t,_),I(t,b),I(t,g),I(t,A)},p:ot,i:ot,o:ot,d(B){B&&C(t)}}}class xd extends Lt{constructor(t){super(),Gt(this,t,null,gd,Dt,{})}}function vd(i){let t,e,s,n,r,o,a,c,h,l,u,m,d,f,p,y,x,_,b,g,A,B,w,P,V,S,D,L,k,E;return{c(){t=O("svg"),e=O("defs"),s=O("g"),n=O("path"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),h=O("path"),l=O("path"),u=O("path"),m=O("path"),d=O("path"),f=O("path"),p=O("path"),y=O("path"),x=O("path"),_=O("path"),b=O("circle"),g=O("path"),A=O("path"),B=O("text"),w=O("tspan"),P=Ue(">"),V=O("text"),S=O("tspan"),D=Ue(">"),L=O("text"),k=O("tspan"),E=Ue(">"),this.h()},l(R){t=$(R,"svg",{version:!0,id:!0,width:!0,style:!0,viewBox:!0,xmlns:!0});var z=T(t);e=$(z,"defs",{id:!0}),T(e).forEach(C),s=$(z,"g",{id:!0,transform:!0,style:!0});var U=T(s);n=$(U,"path",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,rx:!0,ry:!0,transform:!0,d:!0}),T(n).forEach(C),r=$(U,"path",{style:!0,id:!0,width:!0,height:!0,x:!0,y:!0,rx:!0,ry:!0,transform:!0,d:!0}),T(r).forEach(C),o=$(U,"path",{style:!0,id:!0,d:!0}),T(o).forEach(C),U.forEach(C),a=$(z,"path",{d:!0,style:!0,id:!0}),T(a).forEach(C),c=$(z,"path",{d:!0,style:!0,id:!0}),T(c).forEach(C),h=$(z,"path",{d:!0,style:!0,id:!0}),T(h).forEach(C),l=$(z,"path",{d:!0,style:!0,id:!0}),T(l).forEach(C),u=$(z,"path",{d:!0,style:!0,id:!0}),T(u).forEach(C),m=$(z,"path",{d:!0,style:!0,id:!0}),T(m).forEach(C),d=$(z,"path",{d:!0,style:!0,id:!0}),T(d).forEach(C),f=$(z,"path",{d:!0,style:!0,id:!0}),T(f).forEach(C),p=$(z,"path",{d:!0,style:!0,id:!0}),T(p).forEach(C),y=$(z,"path",{d:!0,style:!0,id:!0}),T(y).forEach(C),x=$(z,"path",{d:!0,style:!0,id:!0}),T(x).forEach(C),_=$(z,"path",{d:!0,style:!0,id:!0}),T(_).forEach(C),b=$(z,"circle",{style:!0,id:!0,cx:!0,cy:!0,r:!0}),T(b).forEach(C),g=$(z,"path",{d:!0,style:!0,id:!0}),T(g).forEach(C),A=$(z,"path",{style:!0,id:!0,d:!0}),T(A).forEach(C),B=$(z,"text",{"xml:space":!0,style:!0,x:!0,y:!0,id:!0,transform:!0});var at=T(B);w=$(at,"tspan",{id:!0,x:!0,y:!0,style:!0});var N=T(w);P=We(N,">"),N.forEach(C),at.forEach(C),V=$(z,"text",{"xml:space":!0,style:!0,x:!0,y:!0,id:!0,transform:!0});var j=T(V);S=$(j,"tspan",{id:!0,x:!0,y:!0,style:!0});var G=T(S);D=We(G,">"),G.forEach(C),j.forEach(C),L=$(z,"text",{"xml:space":!0,style:!0,x:!0,y:!0,id:!0,transform:!0});var W=T(L);k=$(W,"tspan",{id:!0,x:!0,y:!0,style:!0});var ht=T(k);E=We(ht,">"),ht.forEach(C),W.forEach(C),z.forEach(C),this.h()},h(){v(e,"id","defs1"),M(n,"fill","none"),M(n,"stroke","#575a8a"),M(n,"stroke-width","12"),M(n,"stroke-dasharray","none"),M(n,"stroke-opacity","1"),v(n,"id","rect1"),v(n,"width","206.55002"),v(n,"height","137.69992"),v(n,"x","295.64999"),v(n,"y","460.35001"),v(n,"rx","0"),v(n,"ry","0"),v(n,"transform","translate(2.7,12.15)"),v(n,"d","M 310.59568,460.35001 H 478.98002 A 23.219992,23.219992 45 0 1 502.20001,483.57 v 6.07493 a 108.405,108.405 135 0 1 -108.405,108.405 h -37.12502 a 61.019992,61.019992 45 0 1 -61.02,-61.02 v -61.73424 a 14.945686,14.945686 135 0 1 14.94569,-14.94568 z"),M(r,"fill","none"),M(r,"stroke","#575a8a"),M(r,"stroke-width","12"),M(r,"stroke-dasharray","none"),M(r,"stroke-opacity","1"),v(r,"id","rect1-5"),v(r,"width","206.55002"),v(r,"height","137.69992"),v(r,"x","295.64999"),v(r,"y","460.35001"),v(r,"rx","0"),v(r,"ry","0"),v(r,"transform","matrix(-1,0,0,1,1053,10.800034)"),v(r,"d","M 310.59568,460.35001 H 478.98002 A 23.219992,23.219992 45 0 1 502.20001,483.57 v 6.07493 a 108.405,108.405 135 0 1 -108.405,108.405 h -37.12502 a 61.019992,61.019992 45 0 1 -61.02,-61.02 v -61.73424 a 14.945686,14.945686 135 0 1 14.94569,-14.94568 z"),M(o,"fill","none"),M(o,"stroke","#575a8a"),M(o,"stroke-width","12.9"),M(o,"stroke-linecap","round"),M(o,"stroke-linejoin","miter"),M(o,"stroke-dasharray","none"),M(o,"stroke-opacity","1"),M(o,"paint-order","normal"),v(o,"id","path2"),v(o,"d","m 499.52559,536.17519 a 30.194157,28.685228 0 0 1 28.36922,-18.89691 30.194157,28.685228 0 0 1 28.38589,18.8743"),v(s,"id","g8"),v(s,"transform","matrix(0.99951457,0,0,1.0383375,12.348761,-22.981396)"),M(s,"display","inline"),v(a,"d","m 689.48437,696.87109 c 3.44323,5.73501 6.46038,11.67274 9.03125,17.77344 2.80597,-19.49332 6.28126,-35.18555 6.28125,-35.18555 l 2.4668,-10.43164 -10.51758,4.47657 a 206.55,206.55 0 0 1 -9.9082,10.18945 l 6.22461,0.0371 c -1.08173,3.44835 -2.35183,7.87539 -3.57813,13.14062 z"),M(a,"display","inline"),M(a,"stroke-linecap","round"),M(a,"fill","#575a8a"),v(a,"id","path58"),v(c,"d","m 696.21484,780.47461 c 3.65219,3.55282 6.78066,6.55309 10.48828,10.14844 a 161.32642,146.5302 0 0 0 1.5254,-14.0625 c -11.30862,-15.61415 -12.69755,-38.11092 -10.37305,-57.86914 0.16912,-1.43753 0.4592,-2.65083 0.66015,-4.04688 a 161.32642,146.5302 0 0 0 -9.03125,-17.77344 c -1.32655,5.6957 -2.60234,12.39142 -3.54687,20.41993 -2.36018,20.06148 -1.77149,44.2314 10.27734,63.18359 z"),M(c,"display","inline"),M(c,"stroke-linecap","round"),M(c,"fill","#575a8a"),v(c,"id","path57"),v(h,"d","m 820.93164,849.08984 c -1.0736,-0.44951 -2.13579,-0.96372 -3.22266,-1.33789 -57.81676,-19.90413 -74.14649,-32.06394 -106.35937,-67.11914 -1.1651,-1.2679 -2.11847,-2.6879 -3.12109,-4.07226 a 161.32642,146.5302 0 0 1 -1.5254,14.0625 c 12.71491,12.32985 25.09021,24.07529 37.72266,36.15039 17.26743,11.93493 37.59842,21.38406 69.37695,32.32422 3.71164,1.27778 7.56557,3.49787 11.4668,6.16992 -1.54234,-5.22501 -2.99928,-10.59293 -4.33789,-16.17774 z"),M(h,"display","inline"),M(h,"stroke-linecap","round"),M(h,"fill","#575a8a"),v(h,"id","path56"),v(l,"d","m 825.26953,865.26758 c -3.90123,-2.67205 -7.75516,-4.89214 -11.4668,-6.16992 -31.77853,-10.94016 -52.10952,-20.38929 -69.37695,-32.32422 57.15876,54.63687 108.2819,101.54887 99.43555,84.86328 -7.42689,-14.00826 -13.55213,-29.2962 -18.5918,-46.36914 z"),M(l,"display","inline"),M(l,"stroke-linecap","round"),M(l,"fill","#575a8a"),v(l,"id","path55"),v(u,"d","m 825.26953,865.26758 c 0.48342,18.42294 4.41491,26.28588 11.8418,40.29414 8.84635,16.68559 -30.12679,-26.68266 -87.28555,-81.31953 -13.26331,-9.16736 -28.14212,-25.16289 -41.3457,-39.26133 C 694.6959,854.71089 625.93622,913.42845 547.9375,913.54687 470.94976,912.83206 405.24712,862.8045 391.0332,794.07617 310.85533,861.48962 237.12056,924.851 253.92143,896.60339 c 7.18575,-12.08155 4.09081,-21.61366 8.42427,-33.84362 -9.51246,6.32275 -19.42001,16.47619 -28.84765,29.60156 -13.03815,18.152 -29.95593,40.15943 -40.08047,64.94101 -20.15048,49.32186 -27.12134,106.13516 -23.30821,136.34416 l 747.11329,-5.6367 c 1.3667,-31.3017 -7.1953,-81.8771 -25.80586,-127.42972 -10.12455,-24.78158 -21.47357,-48.98473 -34.51172,-67.13672 -9.1801,-12.78074 -22.35268,-21.81772 -31.63555,-28.17578 z"),M(u,"display","inline"),M(u,"stroke-linecap","round"),M(u,"fill","#575a8a"),v(u,"id","path54"),v(m,"d","m 820.93164,849.08984 c 1.33861,5.58481 2.79555,10.95273 4.33789,16.17774 9.28287,6.35806 18.9117,16.23879 28.0918,29.01953 13.03815,18.15199 25.23092,41.51139 35.35547,66.29297 18.61056,45.55262 29.87256,96.12802 28.50586,127.42972 l -747.11329,5.6367 c -3.81313,-30.209 7.88273,-85.6723 28.03321,-134.99416 10.12454,-24.78158 22.31732,-48.13901 35.35547,-66.29101 9.42764,-13.12537 19.33519,-23.27881 28.84765,-29.60156 1.90878,-5.38697 3.61794,-10.78766 5.04883,-16.20704 -15.87293,6.10925 -30.3262,20.26924 -43.64258,38.8086 -13.80981,19.22632 -26.31755,43.29997 -36.71679,68.7539 -20.79846,50.90777 -33.39953,106.78657 -28.79297,141.59177 a 6,6 0 0 0 0.92968,1.6075 6,6 0 0 0 -0.98242,2.4218 6,6 0 0 0 6.04492,5.9551 l 753.54297,-5.6855 a 6,6 0 0 0 4.10547,2.7871 6,6 0 0 0 6.73633,-5.1602 c 0.07,-0.5284 0.0512,-1.1611 0.11328,-1.6992 a 6,6 0 0 0 0.35938,-2.0137 6,6 0 0 0 -0.19336,-0.457 c 3.21233,-34.9854 -9.04881,-88.4111 -29.07227,-137.42188 -10.39923,-25.45392 -22.90698,-49.52759 -36.7168,-68.75391 -12.90403,-17.96529 -26.88177,-31.79288 -42.17773,-38.19727 z"),M(m,"display","inline"),M(m,"stroke-linecap","round"),M(m,"fill","#575a8a"),v(m,"id","path53"),v(d,"d","m 388.2168,781.82617 a 161.32642,146.5302 0 0 1 -1.60547,-14.81055 161.32642,146.5302 0 0 1 1.75,-16.14648 c -1.96446,10.50063 -5.90133,20.2744 -12.85156,27.83789 -32.21288,35.0552 -48.54261,47.21305 -106.35938,67.11719 -0.59212,0.20384 -1.16769,0.50214 -1.75586,0.72851 -1.43089,5.41938 -3.14005,10.82007 -5.04883,16.20704 3.643,-2.42144 7.23745,-4.39406 10.71094,-5.58985 58.64371,-20.18882 78.58954,-34.75897 111.28906,-70.34375 1.45549,-1.58391 2.62754,-3.30974 3.8711,-5 z"),M(d,"display","inline"),M(d,"stroke-linecap","round"),M(d,"fill","#575a8a"),v(d,"id","path52"),v(f,"d","m 388.2168,781.82617 c -1.24356,1.69026 -2.41561,3.41609 -3.8711,5 -32.69952,35.58478 -206.43735,100.73096 -144.9385,108.76616 3.97182,0.51895 26.58154,-35.254 22.9385,-32.83256 -4.33346,12.22996 -9.82987,24.3872 -17.01562,36.46875 -16.80087,28.24761 85.81038,-22.94269 145.70312,-105.15235 -1.13043,-4.04504 -2.07009,-8.1321 -2.8164,-12.25 z"),M(f,"display","inline"),M(f,"stroke-linecap","round"),M(f,"fill","#575a8a"),v(f,"id","path51"),v(p,"d","m 619.74805,245.58594 c -23.23629,0.96533 -48.20622,9.0886 -74.67383,26.47265 -25.56859,-8.55026 -148.60776,-34.30238 -246.28711,136.50782 -95.02848,166.17467 3.19938,306.9728 -31.39258,437.98632 0.58817,-0.22637 1.16374,-0.52467 1.75586,-0.72851 57.81677,-19.90414 74.1465,-32.06199 106.35938,-67.11719 6.95023,-7.56349 10.8871,-17.33726 12.85156,-27.83789 0.77046,-4.11835 1.18612,-6.32947 1.40429,-12.60156 0.52352,-15.05071 -0.12561,-27.74861 -1.26796,-34.66446 C 382.33845,666.3148 333.92442,588.15303 333.44922,540 333.44879,425.92498 425.92498,333.44879 540,333.44922 654.07502,333.44879 746.55121,425.92498 746.55078,540 c -0.24013,49.00019 -17.89283,96.31911 -49.80469,133.50391 l 10.51758,-4.47657 -2.4668,10.43164 c 10e-6,0 -3.47528,15.69223 -6.28125,35.18555 -0.20095,1.39605 -0.49103,2.60935 -0.66015,4.04688 -2.3245,19.75822 -0.93557,42.25499 10.37305,57.86914 1.00262,1.38436 1.95599,2.80436 3.12109,4.07226 32.21288,35.0552 48.54261,47.21501 106.35937,67.11914 1.08687,0.37417 2.14906,0.88838 3.22266,1.33789 -16.98389,-70.85849 -17.95205,-172.03345 -12.39062,-338.38281 2.89504,-86.59455 -66.34331,-259.96713 -178.94141,-265.10351 -3.24802,-0.14817 -6.53209,-0.15549 -9.85156,-0.0176 z"),M(p,"display","inline"),M(p,"fill","none"),M(p,"stroke","#575a8a"),M(p,"stroke-width","12"),M(p,"stroke-linecap","round"),v(p,"id","path50"),v(y,"d","m 685.69531,683.68555 8.53203,-9.39683 c 0.82991,-1.1858 -6.31919,8.99495 -4.07968,5.64532 l 2.79336,-4.16016 c 33.28452,-37.21284 51.48773,-85.81119 51.79726,-135.73672 7.7e-4,-113.08062 -91.66938,-204.75077 -204.75,-204.75 -113.07986,3.1e-4 -204.74882,91.67014 -204.74805,204.75 0.35778,47.73669 17.38463,93.84793 48.13672,130.36133 0.0636,-0.052 63.94182,74.30483 156.61133,74.38674 54.78751,-0.0518 107.26883,-22.05889 145.70703,-61.09961 z"),M(y,"display","inline"),M(y,"fill","none"),M(y,"stroke","#575a8a"),M(y,"stroke-width","11.1418"),M(y,"stroke-linecap","round"),v(y,"id","path49"),v(x,"d","m 395.13867,686.66016 c -4.51751,-4.88173 -6.68721,-1.79444 -10.71288,-7.08906 0.65349,-5.30475 2.0475,15.68455 4.57808,37.19452 0.81901,6.96155 1.11552,14.26676 0.76171,21.50196 2.27833,-10.038 5.70988,-19.83119 10.23829,-29.21875 -1.43224,-9.47713 -4.8652,-22.38867 -4.8652,-22.38867 z"),M(x,"display","inline"),M(x,"stroke-linecap","round"),M(x,"fill","#575a8a"),v(x,"id","path47"),v(_,"d","m 400.00391,709.04883 a 161.32642,146.5302 0 0 0 -10.23829,29.21875 c -0.20828,4.25959 -0.63383,8.48321 -1.40429,12.60156 a 161.32642,146.5302 0 0 0 -1.75,16.14648 161.32642,146.5302 0 0 0 1.60547,14.81055 c 14.26372,-19.38734 15.20667,-45.19943 12.70507,-66.46289 -0.2667,-2.26698 -0.60437,-4.23942 -0.91796,-6.31445 z"),M(_,"display","inline"),M(_,"stroke-linecap","round"),M(_,"fill","#575a8a"),v(_,"id","path46"),M(b,"fill","none"),M(b,"fill-opacity","1"),M(b,"stroke","#575a8a"),M(b,"stroke-width","11.905"),M(b,"stroke-linecap","round"),M(b,"stroke-linejoin","miter"),M(b,"stroke-dasharray","none"),M(b,"stroke-opacity","1"),M(b,"paint-order","normal"),v(b,"id","path68"),v(b,"cx","540.77759"),v(b,"cy","613.32678"),v(b,"r","49.309662"),v(g,"d","m 588.12187,598.49831 a 49.309662,49.309662 0 0 1 2.43555,15.2168 49.309662,49.309662 0 0 1 -49.31055,49.31055 49.309662,49.309662 0 0 1 -49.30859,-49.31055 49.309662,49.309662 0 0 1 2.07422,-13.36719 c -0.21253,10e-4 -0.28065,0.003 -0.49414,0.004 0,0 -62.62125,42.98948 -130.30274,28.16016 -27.60229,-6.04779 12.63659,44.88683 62.84375,79.9414 37.05174,25.86946 81.48933,38.30805 98.00586,37.47266 66.57686,-3.36738 162.18684,-42.91557 187.09961,-98.79883 21.05195,-47.22286 10.50315,30.02523 -123.04297,-48.62891 z"),M(g,"fill","#575a8a"),M(g,"fill-opacity","1"),M(g,"stroke","#575a8a"),M(g,"stroke-width","1.505"),M(g,"stroke-linecap","round"),v(g,"id","path72"),M(A,"fill","#575a8a"),M(A,"fill-opacity","1"),M(A,"stroke","#575a8a"),M(A,"stroke-width","6.72126"),M(A,"stroke-linecap","round"),M(A,"stroke-dasharray","none"),v(A,"id","path1"),v(A,"d","m 573.31859,601.79535 a 32.057178,32.057178 0 0 1 -31.83338,32.0564 32.057178,32.057178 0 0 1 -32.27785,-31.60881 l 32.05405,-0.44759 z"),v(w,"id","tspan1"),v(w,"x","343.32687"),v(w,"y","648.28894"),M(w,"stroke-width","13.2889"),M(w,"stroke-dasharray","none"),v(B,"xml:space","preserve"),M(B,"font-size","142.696px"),M(B,"text-align","start"),M(B,"writing-mode","lr-tb"),M(B,"direction","ltr"),M(B,"text-anchor","start"),M(B,"fill","none"),M(B,"fill-opacity","1"),M(B,"stroke","#575a8a"),M(B,"stroke-width","13.2889"),M(B,"stroke-linecap","round"),M(B,"stroke-dasharray","none"),v(B,"x","343.32687"),v(B,"y","648.28894"),v(B,"id","text1"),v(B,"transform","scale(1.127561,0.88686998)"),v(S,"id","tspan2"),v(S,"x","343.32687"),v(S,"y","648.28894"),M(S,"stroke-width","13.2889"),M(S,"stroke-dasharray","none"),v(V,"xml:space","preserve"),M(V,"font-size","142.696px"),M(V,"text-align","start"),M(V,"writing-mode","lr-tb"),M(V,"direction","ltr"),M(V,"text-anchor","start"),M(V,"fill","none"),M(V,"fill-opacity","1"),M(V,"stroke","#575a8a"),M(V,"stroke-width","13.2889"),M(V,"stroke-linecap","round"),M(V,"stroke-dasharray","none"),v(V,"x","343.32687"),v(V,"y","648.28894"),v(V,"id","text2"),v(V,"transform","scale(1.127561,0.88686998)"),v(k,"id","tspan2-3"),v(k,"x","-614.35693"),v(k,"y","645.67975"),M(k,"stroke-width","13.2889"),M(k,"stroke-dasharray","none"),v(L,"xml:space","preserve"),M(L,"font-size","142.696px"),M(L,"text-align","start"),M(L,"writing-mode","lr-tb"),M(L,"direction","ltr"),M(L,"text-anchor","start"),M(L,"fill","none"),M(L,"fill-opacity","1"),M(L,"stroke","#575a8a"),M(L,"stroke-width","13.2889"),M(L,"stroke-linecap","round"),M(L,"stroke-dasharray","none"),v(L,"x","-614.35693"),v(L,"y","645.67975"),v(L,"id","text2-5"),v(L,"transform","scale(-1.127561,0.88686998)"),v(t,"version","1.1"),v(t,"id","svg1"),v(t,"width","100%"),M(t,"height","auto",1),M(t,"max-height","100%"),v(t,"viewBox","0 0 1080 1080"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(R,z){st(R,t,z),I(t,e),I(t,s),I(s,n),I(s,r),I(s,o),I(t,a),I(t,c),I(t,h),I(t,l),I(t,u),I(t,m),I(t,d),I(t,f),I(t,p),I(t,y),I(t,x),I(t,_),I(t,b),I(t,g),I(t,A),I(t,B),I(B,w),I(w,P),I(t,V),I(V,S),I(S,D),I(t,L),I(L,k),I(k,E)},p:ot,i:ot,o:ot,d(R){R&&C(t)}}}class Ad extends Lt{constructor(t){super(),Gt(this,t,null,vd,Dt,{})}}function _l(i){let t,e;return t=new xd({}),{c(){Bt(t.$$.fragment)},l(s){It(t.$$.fragment,s)},m(s,n){Vt(t,s,n),e=!0},i(s){e||(K(t.$$.fragment,s),e=!0)},o(s){rt(t.$$.fragment,s),e=!1},d(s){Mt(t,s)}}}function fl(i){let t,e;return t=new Ad({}),{c(){Bt(t.$$.fragment)},l(s){It(t.$$.fragment,s)},m(s,n){Vt(t,s,n),e=!0},i(s){e||(K(t.$$.fragment,s),e=!0)},o(s){rt(t.$$.fragment,s),e=!1},d(s){Mt(t,s)}}}function wd(i){let t,e,s;return e=new Um({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Cd(i){let t,e,s;return e=new td({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Sd(i){let t,e,s;return e=new Jm({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Bd(i){let t,e,s;return e=new Km({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Vd(i){let t,e,s;return e=new Ym({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Md(i){let t,e,s;return e=new sd({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Pd(i){let t,e,s;return e=new nd({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Id(i){let t,e,s;return e=new od({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Td(i){let t,e,s;return e=new cd({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo logo-node svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function kd(i){let t,e,s;return e=new hd({}),{c(){t=J("div"),Bt(e.$$.fragment),this.h()},l(n){t=X(n,"DIV",{class:!0});var r=T(t);It(e.$$.fragment,r),r.forEach(C),this.h()},h(){v(t,"class","logo svelte-y3ldnd")},m(n,r){st(n,t,r),Vt(e,t,null),s=!0},p:ot,i(n){s||(K(e.$$.fragment,n),s=!0)},o(n){rt(e.$$.fragment,n),s=!1},d(n){n&&C(t),Mt(e)}}}function Ed(i){let t,e,s,n=`<h1 class="remove-margin svelte-y3ldnd">Hello,</h1> <h2 class="remove-margin svelte-y3ldnd">I am Mohammad Ahmad!</h2> <h3 class="remove-margin svelte-y3ldnd">Software Engineer</h3> <div class="desc-text svelte-y3ldnd">I develop high quality clean, polished and stunning web applications, moreover I like to try
				quirky stuff in the web using stuff like Web Assembly or Rust.</div>`,r,o,a,c,h,l,u,m,d,f,p,y,x,_="Top Skills:",b,g,A,B,w,P,V,S,D,L,k,E,R,z,U,at,N,j,G,W,ht,xt,ut,Rt,dt=!i[4]&&_l(),lt=i[4]&&fl();return A=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Javascript",$$slots:{default:[wd]},$$scope:{ctx:i}}}),w=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Typescript",$$slots:{default:[Cd]},$$scope:{ctx:i}}}),V=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"React",$$slots:{default:[Sd]},$$scope:{ctx:i}}}),D=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Svelte",$$slots:{default:[Bd]},$$scope:{ctx:i}}}),k=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Rust",$$slots:{default:[Vd]},$$scope:{ctx:i}}}),R=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Nest.js",$$slots:{default:[Md]},$$scope:{ctx:i}}}),U=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Next.js",$$slots:{default:[Pd]},$$scope:{ctx:i}}}),N=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Python",$$slots:{default:[Id]},$$scope:{ctx:i}}}),G=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Nodejs",$$slots:{default:[Td]},$$scope:{ctx:i}}}),ht=new Bs({props:{style:{backgroundColor:"white",color:"black"},arrow:!1,content:"Bun",$$slots:{default:[kd]},$$scope:{ctx:i}}}),{c(){t=J("div"),e=J("div"),s=J("div"),s.innerHTML=n,r=bt(),o=J("div"),a=J("div"),c=J("div"),h=J("div"),l=bt(),u=J("div"),m=J("div"),f=bt(),dt&&dt.c(),p=bt(),lt&&lt.c(),y=bt(),x=J("p"),x.textContent=_,b=bt(),g=J("div"),Bt(A.$$.fragment),B=bt(),Bt(w.$$.fragment),P=bt(),Bt(V.$$.fragment),S=bt(),Bt(D.$$.fragment),L=bt(),Bt(k.$$.fragment),E=bt(),Bt(R.$$.fragment),z=bt(),Bt(U.$$.fragment),at=bt(),Bt(N.$$.fragment),j=bt(),Bt(G.$$.fragment),W=bt(),Bt(ht.$$.fragment),this.h()},l(it){t=X(it,"DIV",{class:!0});var nt=T(t);e=X(nt,"DIV",{class:!0});var pt=T(e);s=X(pt,"DIV",{"data-svelte-h":!0}),gs(s)!=="svelte-16f525m"&&(s.innerHTML=n),r=yt(pt),o=X(pt,"DIV",{role:!0,tabindex:!0,class:!0});var Q=T(o);a=X(Q,"DIV",{class:!0});var Ct=T(a);c=X(Ct,"DIV",{class:!0});var kt=T(c);h=X(kt,"DIV",{class:!0,style:!0}),T(h).forEach(C),kt.forEach(C),l=yt(Ct),u=X(Ct,"DIV",{class:!0});var Pt=T(u);m=X(Pt,"DIV",{class:!0,style:!0}),T(m).forEach(C),Pt.forEach(C),Ct.forEach(C),f=yt(Q),dt&&dt.l(Q),p=yt(Q),lt&&lt.l(Q),Q.forEach(C),pt.forEach(C),y=yt(nt),x=X(nt,"P",{class:!0,"data-svelte-h":!0}),gs(x)!=="svelte-1dqleep"&&(x.textContent=_),b=yt(nt),g=X(nt,"DIV",{class:!0});var St=T(g);It(A.$$.fragment,St),B=yt(St),It(w.$$.fragment,St),P=yt(St),It(V.$$.fragment,St),S=yt(St),It(D.$$.fragment,St),L=yt(St),It(k.$$.fragment,St),E=yt(St),It(R.$$.fragment,St),z=yt(St),It(U.$$.fragment,St),at=yt(St),It(N.$$.fragment,St),j=yt(St),It(G.$$.fragment,St),W=yt(St),It(ht.$$.fragment,St),St.forEach(C),nt.forEach(C),this.h()},h(){v(h,"class","pupil svelte-y3ldnd"),M(h,"transform",i[2]),v(c,"class","eye svelte-y3ldnd"),v(m,"class","pupil svelte-y3ldnd"),M(m,"transform",i[3]),v(u,"class","eye svelte-y3ldnd"),v(a,"class",d=(i[4]?"eye-container-hide":"")+" eye-container svelte-y3ldnd"),v(o,"role","button"),v(o,"tabindex",100),v(o,"class","char-container svelte-y3ldnd"),v(e,"class","intro-section svelte-y3ldnd"),v(x,"class","remove-margin svelte-y3ldnd"),v(g,"class","logo-container svelte-y3ldnd"),v(t,"class","intro-padding svelte-y3ldnd")},m(it,nt){st(it,t,nt),I(t,e),I(e,s),I(e,r),I(e,o),I(o,a),I(a,c),I(c,h),i[7](c),I(a,l),I(a,u),I(u,m),i[8](u),I(o,f),dt&&dt.m(o,null),I(o,p),lt&&lt.m(o,null),I(t,y),I(t,x),I(t,b),I(t,g),Vt(A,g,null),I(g,B),Vt(w,g,null),I(g,P),Vt(V,g,null),I(g,S),Vt(D,g,null),I(g,L),Vt(k,g,null),I(g,E),Vt(R,g,null),I(g,z),Vt(U,g,null),I(g,at),Vt(N,g,null),I(g,j),Vt(G,g,null),I(g,W),Vt(ht,g,null),xt=!0,ut||(Rt=[Be(o,"mousedown",i[9]),Be(o,"mouseup",i[10])],ut=!0)},p(it,[nt]){(!xt||nt&4)&&M(h,"transform",it[2]),(!xt||nt&8)&&M(m,"transform",it[3]),(!xt||nt&16&&d!==(d=(it[4]?"eye-container-hide":"")+" eye-container svelte-y3ldnd"))&&v(a,"class",d),it[4]?dt&&(ss(),rt(dt,1,1,()=>{dt=null}),is()):dt?nt&16&&K(dt,1):(dt=_l(),dt.c(),K(dt,1),dt.m(o,p)),it[4]?lt?nt&16&&K(lt,1):(lt=fl(),lt.c(),K(lt,1),lt.m(o,null)):lt&&(ss(),rt(lt,1,1,()=>{lt=null}),is());const pt={};nt&4096&&(pt.$$scope={dirty:nt,ctx:it}),A.$set(pt);const Q={};nt&4096&&(Q.$$scope={dirty:nt,ctx:it}),w.$set(Q);const Ct={};nt&4096&&(Ct.$$scope={dirty:nt,ctx:it}),V.$set(Ct);const kt={};nt&4096&&(kt.$$scope={dirty:nt,ctx:it}),D.$set(kt);const Pt={};nt&4096&&(Pt.$$scope={dirty:nt,ctx:it}),k.$set(Pt);const St={};nt&4096&&(St.$$scope={dirty:nt,ctx:it}),R.$set(St);const Ot={};nt&4096&&(Ot.$$scope={dirty:nt,ctx:it}),U.$set(Ot);const ne={};nt&4096&&(ne.$$scope={dirty:nt,ctx:it}),N.$set(ne);const _e={};nt&4096&&(_e.$$scope={dirty:nt,ctx:it}),G.$set(_e);const ce={};nt&4096&&(ce.$$scope={dirty:nt,ctx:it}),ht.$set(ce)},i(it){xt||(K(dt),K(lt),K(A.$$.fragment,it),K(w.$$.fragment,it),K(V.$$.fragment,it),K(D.$$.fragment,it),K(k.$$.fragment,it),K(R.$$.fragment,it),K(U.$$.fragment,it),K(N.$$.fragment,it),K(G.$$.fragment,it),K(ht.$$.fragment,it),xt=!0)},o(it){rt(dt),rt(lt),rt(A.$$.fragment,it),rt(w.$$.fragment,it),rt(V.$$.fragment,it),rt(D.$$.fragment,it),rt(k.$$.fragment,it),rt(R.$$.fragment,it),rt(U.$$.fragment,it),rt(N.$$.fragment,it),rt(G.$$.fragment,it),rt(ht.$$.fragment,it),xt=!1},d(it){it&&C(t),i[7](null),i[8](null),dt&&dt.d(),lt&&lt.d(),Mt(A),Mt(w),Mt(V),Mt(D),Mt(k),Mt(R),Mt(U),Mt(N),Mt(G),Mt(ht),ut=!1,Xn(Rt)}}}function pl(i,t,e){if(i){const s=i.getBoundingClientRect(),n=s.left+s.width/2,r=s.top+s.height/2,o=t-n,a=e-r,c=Math.sqrt(o*o+a*a),h=s.width/3,l=Math.min(c/100,1),u=o/c*h*l,m=a/c*h*l;return`translate(${u}px, ${m}px)`}return""}function Dd(i,t,e){let s=0,n=0,r,o;const a=p=>{e(5,s=p.clientX),e(6,n=p.clientY)};Xs(()=>(window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)));let c="",h="",l=!1;function u(p){Ee[p?"unshift":"push"](()=>{r=p,e(0,r)})}function m(p){Ee[p?"unshift":"push"](()=>{o=p,e(1,o)})}const d=()=>{e(4,l=!0)},f=()=>{e(4,l=!1)};return i.$$.update=()=>{i.$$.dirty&97&&e(2,c=pl(r,s,n)),i.$$.dirty&98&&e(3,h=pl(o,s,n))},[r,o,c,h,l,s,n,u,m,d,f]}class Ld extends Lt{constructor(t){super(),Gt(this,t,Dd,Ed,Dt,{})}}var wt=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(wt||{});const da=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},or=(i,t)=>da(i).priority??t,Fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(da).forEach(t=>{t.type.forEach(e=>{var s,n;return(n=(s=this._removeHandlers)[e])==null?void 0:n.call(s,t)})}),this},add(...i){return i.map(da).forEach(t=>{t.type.forEach(e=>{var r,o;const s=this._addHandlers,n=this._queue;s[e]?(o=s[e])==null||o.call(s,t):(n[e]=n[e]||[],(r=n[e])==null||r.push(t))})}),this},handle(i,t,e){var o;const s=this._addHandlers,n=this._removeHandlers;if(s[i]||n[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=t,n[i]=e;const r=this._queue;return r[i]&&((o=r[i])==null||o.forEach(a=>t(a)),delete r[i]),this},handleByMap(i,t){return this.handle(i,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(i,t,e=-1){return this.handle(i,s=>{t.findIndex(r=>r.name===s.name)>=0||(t.push({name:s.name,value:s.ref}),t.sort((r,o)=>or(o.value,e)-or(r.value,e)))},s=>{const n=t.findIndex(r=>r.name===s.name);n!==-1&&t.splice(n,1)})},handleByList(i,t,e=-1){return this.handle(i,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((n,r)=>or(r,e)-or(n,e)))},s=>{const n=t.indexOf(s.ref);n!==-1&&t.splice(n,1)})}},Gd={extension:{type:wt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Mr(()=>import("./browserAll.DYCelIxU.js"),__vite__mapDeps([0,1,2]),import.meta.url)}},Rd={extension:{type:wt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Mr(()=>import("./webworkerAll.Cv7BtcPJ.js"),__vite__mapDeps([1,2]),import.meta.url)}};class je{constructor(t,e,s){this._x=e||0,this._y=s||0,this._observer=t}clone(t){return new je(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _2={exports:{}};(function(i){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function n(c,h,l){this.fn=c,this.context=h,this.once=l||!1}function r(c,h,l,u,m){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new n(l,u||c,m),f=e?e+h:h;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],d]:c._events[f].push(d):(c._events[f]=d,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new s:delete c._events[h]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],l,u;if(this._eventsCount===0)return h;for(u in l=this._events)t.call(l,u)&&h.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(l)):h},a.prototype.listeners=function(h){var l=e?e+h:h,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,d=u.length,f=new Array(d);m<d;m++)f[m]=u[m].fn;return f},a.prototype.listenerCount=function(h){var l=e?e+h:h,u=this._events[l];return u?u.fn?1:u.length:0},a.prototype.emit=function(h,l,u,m,d,f){var p=e?e+h:h;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,l),!0;case 3:return y.fn.call(y.context,l,u),!0;case 4:return y.fn.call(y.context,l,u,m),!0;case 5:return y.fn.call(y.context,l,u,m,d),!0;case 6:return y.fn.call(y.context,l,u,m,d,f),!0}for(b=1,_=new Array(x-1);b<x;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var g=y.length,A;for(b=0;b<g;b++)switch(y[b].once&&this.removeListener(h,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,l);break;case 3:y[b].fn.call(y[b].context,l,u);break;case 4:y[b].fn.call(y[b].context,l,u,m);break;default:if(!_)for(A=1,_=new Array(x-1);A<x;A++)_[A-1]=arguments[A];y[b].fn.apply(y[b].context,_)}}return!0},a.prototype.on=function(h,l,u){return r(this,h,l,u,!1)},a.prototype.once=function(h,l,u){return r(this,h,l,u,!0)},a.prototype.removeListener=function(h,l,u,m){var d=e?e+h:h;if(!this._events[d])return this;if(!l)return o(this,d),this;var f=this._events[d];if(f.fn)f.fn===l&&(!m||f.once)&&(!u||f.context===u)&&o(this,d);else{for(var p=0,y=[],x=f.length;p<x;p++)(f[p].fn!==l||m&&!f[p].once||u&&f[p].context!==u)&&y.push(f[p]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},a.prototype.removeAllListeners=function(h){var l;return h?(l=e?e+h:h,this._events[l]&&o(this,l)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,i.exports=a})(_2);var Fd=_2.exports;const Cs=mc(Fd),zd=Math.PI*2,Od=180/Math.PI,$d=Math.PI/180;class De{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new De(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return So.x=0,So.y=0,So}}const So=new De;class Yt{constructor(t=1,e=0,s=0,n=1,r=0,o=0){this.array=null,this.a=t,this.b=e,this.c=s,this.d=n,this.tx=r,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,s,n,r,o){return this.a=t,this.b=e,this.c=s,this.d=n,this.tx=r,this.ty=o,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const s=e||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,e){e=e||new De;const s=t.x,n=t.y;return e.x=this.a*s+this.c*n+this.tx,e.y=this.b*s+this.d*n+this.ty,e}applyInverse(t,e){e=e||new De;const s=this.a,n=this.b,r=this.c,o=this.d,a=this.tx,c=this.ty,h=1/(s*o+r*-n),l=t.x,u=t.y;return e.x=o*h*l+-r*h*u+(c*r-a*o)*h,e.y=s*h*u+-n*h*l+(-c*s+a*n)*h,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),s=Math.sin(t),n=this.a,r=this.c,o=this.tx;return this.a=n*e-this.b*s,this.b=n*s+this.b*e,this.c=r*e-this.d*s,this.d=r*s+this.d*e,this.tx=o*e-this.ty*s,this.ty=o*s+this.ty*e,this}append(t){const e=this.a,s=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*s+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*s+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*s+t.ty*r+this.ty,this}appendFrom(t,e){const s=t.a,n=t.b,r=t.c,o=t.d,a=t.tx,c=t.ty,h=e.a,l=e.b,u=e.c,m=e.d;return this.a=s*h+n*u,this.b=s*l+n*m,this.c=r*h+o*u,this.d=r*l+o*m,this.tx=a*h+c*u+e.tx,this.ty=a*l+c*m+e.ty,this}setTransform(t,e,s,n,r,o,a,c,h){return this.a=Math.cos(a+h)*r,this.b=Math.sin(a+h)*r,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=t-(s*this.a+n*this.c),this.ty=e-(s*this.b+n*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,n=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,s=this.b,n=this.c,r=this.d,o=t.pivot,a=-Math.atan2(-n,r),c=Math.atan2(s,e),h=Math.abs(a+c);return h<1e-5||Math.abs(zd-h)<1e-5?(t.rotation=c,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=c),t.scale.x=Math.sqrt(e*e+s*s),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*s+o.y*r),t}invert(){const t=this.a,e=this.b,s=this.c,n=this.d,r=this.tx,o=t*n-e*s;return this.a=n/o,this.b=-e/o,this.c=-s/o,this.d=t/o,this.tx=(s*this.ty-n*r)/o,this.ty=-(t*this.ty-e*r)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Yt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Nd.identity()}static get shared(){return jd.identity()}}const jd=new Yt,Nd=new Yt,bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],yi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],_a=[],f2=[],cr=Math.sign;function qd(){for(let i=0;i<16;i++){const t=[];_a.push(t);for(let e=0;e<16;e++){const s=cr(bi[i]*bi[e]+gi[i]*yi[e]),n=cr(yi[i]*bi[e]+xi[i]*yi[e]),r=cr(bi[i]*gi[e]+gi[i]*xi[e]),o=cr(yi[i]*gi[e]+xi[i]*xi[e]);for(let a=0;a<16;a++)if(bi[a]===s&&yi[a]===n&&gi[a]===r&&xi[a]===o){t.push(a);break}}}for(let i=0;i<16;i++){const t=new Yt;t.set(bi[i],yi[i],gi[i],xi[i],0,0),f2.push(t)}}qd();const le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>bi[i],uY:i=>yi[i],vX:i=>gi[i],vY:i=>xi[i],inv:i=>i&8?i&15:-i&7,add:(i,t)=>_a[i][t],sub:(i,t)=>_a[i][le.inv(t)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,t)=>Math.abs(i)*2<=Math.abs(t)?t>=0?le.S:le.N:Math.abs(t)*2<=Math.abs(i)?i>0?le.E:le.W:t>0?i>0?le.SE:le.SW:i>0?le.NE:le.NW,matrixAppendRotationInv:(i,t,e=0,s=0)=>{const n=f2[le.inv(t)];n.tx=e,n.ty=s,i.append(n)}},lr=[new De,new De,new De,new De];class xe{constructor(t=0,e=0,s=0,n=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(s),this.height=Number(n)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new xe(0,0,0,0)}clone(){return new xe(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,s){const{width:n,height:r}=this;if(n<=0||r<=0)return!1;const o=this.x,a=this.y,c=o-s/2,h=o+n+s/2,l=a-s/2,u=a+r+s/2,m=o+s/2,d=o+n-s/2,f=a+s/2,p=a+r-s/2;return t>=c&&t<=h&&e>=l&&e<=u&&!(t>m&&t<d&&e>f&&e<p)}intersects(t,e){if(!e){const P=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=P)return!1;const S=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>S}const s=this.left,n=this.right,r=this.top,o=this.bottom;if(n<=s||o<=r)return!1;const a=lr[0].set(t.left,t.top),c=lr[1].set(t.left,t.bottom),h=lr[2].set(t.right,t.top),l=lr[3].set(t.right,t.bottom);if(h.x<=a.x||c.y<=a.y)return!1;const u=Math.sign(e.a*e.d-e.b*e.c);if(u===0||(e.apply(a,a),e.apply(c,c),e.apply(h,h),e.apply(l,l),Math.max(a.x,c.x,h.x,l.x)<=s||Math.min(a.x,c.x,h.x,l.x)>=n||Math.max(a.y,c.y,h.y,l.y)<=r||Math.min(a.y,c.y,h.y,l.y)>=o))return!1;const m=u*(c.y-a.y),d=u*(a.x-c.x),f=m*s+d*r,p=m*n+d*r,y=m*s+d*o,x=m*n+d*o;if(Math.max(f,p,y,x)<=m*a.x+d*a.y||Math.min(f,p,y,x)>=m*l.x+d*l.y)return!1;const _=u*(a.y-h.y),b=u*(h.x-a.x),g=_*s+b*r,A=_*n+b*r,B=_*s+b*o,w=_*n+b*o;return!(Math.max(g,A,B,w)<=_*a.x+b*a.y||Math.min(g,A,B,w)>=_*l.x+b*l.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(s-e,0),this.y=n,this.height=Math.max(r-n,0),this}ceil(t=1,e=.001){const s=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=s-this.x,this.height=n-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=s-e,this.y=n,this.height=r-n,this}getBounds(t){return t=t||new xe,t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Bo={default:-1};function Se(i="default"){return Bo[i]===void 0&&(Bo[i]=-1),++Bo[i]}const bl={},Qt="8.0.0",Hd="8.3.4";function Zt(i,t,e=3){if(bl[t])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`):(s=s.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${i}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`),console.warn(s))),bl[t]=!0}const p2=()=>{};function yl(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function gl(i){return!(i&i-1)&&!!i}function Ud(i){const t={};for(const e in i)i[e]!==void 0&&(t[e]=i[e]);return t}const xl=Object.create(null);function Wd(i){const t=xl[i];return t===void 0&&(xl[i]=Se("resource")),t}const b2=class y2 extends Cs{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...y2.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Zt(Qt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Wd(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};b2.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Jd=b2;const g2=class x2 extends Cs{constructor(t={}){super(),this.options=t,this.uid=Se("textureSource"),this._resourceType="textureSource",this._resourceId=Se("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...x2.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Jd(Ud(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var e,s;this.style!==t&&((e=this._style)==null||e.off("change",this._onStyleChange,this),this._style=t,(s=this._style)==null||s.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Se("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,s){s=s||this._resolution,t=t||this.width,e=e||this.height;const n=Math.round(t*s),r=Math.round(e*s);return this.width=n/s,this.height=r/s,this._resolution=s,this.pixelWidth===n&&this.pixelHeight===r?!1:(this._refreshPOT(),this.pixelWidth=n,this.pixelHeight=r,this.emit("resize",this),this._resourceId=Se("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=gl(this.pixelWidth)&&gl(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};g2.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ys=g2;class dc extends Ys{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s||(e instanceof Float32Array?s="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?s="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?s="rgba16uint":(e instanceof Int8Array,s="bgra8unorm")),super({...t,resource:e,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}dc.extension=wt.TextureSource;const vl=new Yt;class Xd{constructor(t,e){this.mapCoord=new Yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var e;this.texture!==t&&((e=this._texture)==null||e.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const s=this.mapCoord;for(let n=0;n<t.length;n+=2){const r=t[n],o=t[n+1];e[n]=r*s.a+o*s.c+s.tx,e[n+1]=r*s.b+o*s.d+s.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const s=t.orig,n=t.trim;n&&(vl.set(s.width/n.width,0,0,s.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(vl));const r=t.source,o=this.uClampFrame,a=this.clampMargin/r._resolution,c=this.clampOffset/r._resolution;return o[0]=(t.frame.x+a+c)/r.width,o[1]=(t.frame.y+a+c)/r.height,o[2]=(t.frame.x+t.frame.width-a+c)/r.width,o[3]=(t.frame.y+t.frame.height-a+c)/r.height,this.uClampOffset[0]=this.clampOffset/r.pixelWidth,this.uClampOffset[1]=this.clampOffset/r.pixelHeight,this.isSimple=t.frame.width===r.width&&t.frame.height===r.height&&t.rotate===0,!0}}class Jt extends Cs{constructor({source:t,label:e,frame:s,orig:n,trim:r,defaultAnchor:o,defaultBorders:a,rotate:c,dynamic:h}={}){if(super(),this.uid=Se("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new xe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=(t==null?void 0:t.source)??new Ys,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:l,height:u}=this._source;this.frame.width=l,this.frame.height=u}this.orig=n||this.frame,this.trim=r,this.rotate=c??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=h||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Xd(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:s,height:n}=this._source,r=e.x/s,o=e.y/n,a=e.width/s,c=e.height/n;let h=this.rotate;if(h){const l=a/2,u=c/2,m=r+l,d=o+u;h=le.add(h,le.NW),t.x0=m+l*le.uX(h),t.y0=d+u*le.uY(h),h=le.add(h,2),t.x1=m+l*le.uX(h),t.y1=d+u*le.uY(h),h=le.add(h,2),t.x2=m+l*le.uX(h),t.y2=d+u*le.uY(h),h=le.add(h,2),t.x3=m+l*le.uX(h),t.y3=d+u*le.uY(h)}else t.x0=r,t.y0=o,t.x1=r+a,t.y1=o,t.x2=r+a,t.y2=o+c,t.x3=r,t.y3=o+c}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Zt(Qt,"Texture.baseTexture is now Texture.source"),this._source}}Jt.EMPTY=new Jt({label:"EMPTY",source:new Ys({label:"EMPTY"})});Jt.EMPTY.destroy=p2;Jt.WHITE=new Jt({source:new dc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Jt.WHITE.destroy=p2;function Yd(i,t,e,s){const{width:n,height:r}=e.orig,o=e.trim;if(o){const a=o.width,c=o.height;i.minX=o.x-t._x*n-s,i.maxX=i.minX+a,i.minY=o.y-t._y*r-s,i.maxY=i.minY+c}else i.minX=-t._x*n-s,i.maxX=i.minX+n,i.minY=-t._y*r-s,i.maxY=i.minY+r}const Al=new Yt;class Ds{constructor(t=1/0,e=1/0,s=-1/0,n=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Al,this.minX=t,this.minY=e,this.maxX=s,this.maxY=n}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new xe);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Al,this}set(t,e,s,n){this.minX=t,this.minY=e,this.maxX=s,this.maxY=n}addFrame(t,e,s,n,r){r||(r=this.matrix);const o=r.a,a=r.b,c=r.c,h=r.d,l=r.tx,u=r.ty;let m=this.minX,d=this.minY,f=this.maxX,p=this.maxY,y=o*t+c*e+l,x=a*t+h*e+u;y<m&&(m=y),x<d&&(d=x),y>f&&(f=y),x>p&&(p=x),y=o*s+c*e+l,x=a*s+h*e+u,y<m&&(m=y),x<d&&(d=x),y>f&&(f=y),x>p&&(p=x),y=o*t+c*n+l,x=a*t+h*n+u,y<m&&(m=y),x<d&&(d=x),y>f&&(f=y),x>p&&(p=x),y=o*s+c*n+l,x=a*s+h*n+u,y<m&&(m=y),x<d&&(d=x),y>f&&(f=y),x>p&&(p=x),this.minX=m,this.minY=d,this.maxX=f,this.maxY=p}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,s=this.minY,n=this.maxX,r=this.maxY,{a:o,b:a,c,d:h,tx:l,ty:u}=t;let m=o*e+c*s+l,d=a*e+h*s+u;this.minX=m,this.minY=d,this.maxX=m,this.maxY=d,m=o*n+c*s+l,d=a*n+h*s+u,this.minX=m<this.minX?m:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=d>this.maxY?d:this.maxY,m=o*e+c*r+l,d=a*e+h*r+u,this.minX=m<this.minX?m:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=d>this.maxY?d:this.maxY,m=o*n+c*r+l,d=a*n+h*r+u,this.minX=m<this.minX?m:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=m>this.maxX?m:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,s,n){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<s&&(this.minY=s),this.maxY>n&&(this.maxY=n),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Ds(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,s,n){let r=this.minX,o=this.minY,a=this.maxX,c=this.maxY;n||(n=this.matrix);const h=n.a,l=n.b,u=n.c,m=n.d,d=n.tx,f=n.ty;for(let p=e;p<s;p+=2){const y=t[p],x=t[p+1],_=h*y+u*x+d,b=l*y+m*x+f;r=_<r?_:r,o=b<o?b:o,a=_>a?_:a,c=b>c?b:c}this.minX=r,this.minY=o,this.maxX=a,this.maxY=c}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}var Zd={grad:.9,turn:360,rad:360/(2*Math.PI)},zs=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Me=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*i)/e+0},as=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),i>e?e:i>t?i:t},v2=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},wl=function(i){return{r:as(i.r,0,255),g:as(i.g,0,255),b:as(i.b,0,255),a:as(i.a)}},Vo=function(i){return{r:Me(i.r),g:Me(i.g),b:Me(i.b),a:Me(i.a,3)}},Kd=/^#([0-9a-f]{3,8})$/i,hr=function(i){var t=i.toString(16);return t.length<2?"0"+t:t},A2=function(i){var t=i.r,e=i.g,s=i.b,n=i.a,r=Math.max(t,e,s),o=r-Math.min(t,e,s),a=o?r===t?(e-s)/o:r===e?2+(s-t)/o:4+(t-e)/o:0;return{h:60*(a<0?a+6:a),s:r?o/r*100:0,v:r/255*100,a:n}},w2=function(i){var t=i.h,e=i.s,s=i.v,n=i.a;t=t/360*6,e/=100,s/=100;var r=Math.floor(t),o=s*(1-e),a=s*(1-(t-r)*e),c=s*(1-(1-t+r)*e),h=r%6;return{r:255*[s,a,o,o,c,s][h],g:255*[c,s,s,a,o,o][h],b:255*[o,o,c,s,s,a][h],a:n}},Cl=function(i){return{h:v2(i.h),s:as(i.s,0,100),l:as(i.l,0,100),a:as(i.a)}},Sl=function(i){return{h:Me(i.h),s:Me(i.s),l:Me(i.l),a:Me(i.a,3)}},Bl=function(i){return w2((e=(t=i).s,{h:t.h,s:(e*=((s=t.l)<50?s:100-s)/100)>0?2*e/(s+e)*100:0,v:s+e,a:t.a}));var t,e,s},Bn=function(i){return{h:(t=A2(i)).h,s:(n=(200-(e=t.s))*(s=t.v)/100)>0&&n<200?e*s/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,e,s,n},Qd=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,e_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,s_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fa={string:[[function(i){var t=Kd.exec(i);return t?(i=t[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Me(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Me(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var t=e_.exec(i)||s_.exec(i);return t?t[2]!==t[4]||t[4]!==t[6]?null:wl({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(i){var t=Qd.exec(i)||t_.exec(i);if(!t)return null;var e,s,n=Cl({h:(e=t[1],s=t[2],s===void 0&&(s="deg"),Number(e)*(Zd[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Bl(n)},"hsl"]],object:[[function(i){var t=i.r,e=i.g,s=i.b,n=i.a,r=n===void 0?1:n;return zs(t)&&zs(e)&&zs(s)?wl({r:Number(t),g:Number(e),b:Number(s),a:Number(r)}):null},"rgb"],[function(i){var t=i.h,e=i.s,s=i.l,n=i.a,r=n===void 0?1:n;if(!zs(t)||!zs(e)||!zs(s))return null;var o=Cl({h:Number(t),s:Number(e),l:Number(s),a:Number(r)});return Bl(o)},"hsl"],[function(i){var t=i.h,e=i.s,s=i.v,n=i.a,r=n===void 0?1:n;if(!zs(t)||!zs(e)||!zs(s))return null;var o=function(a){return{h:v2(a.h),s:as(a.s,0,100),v:as(a.v,0,100),a:as(a.a)}}({h:Number(t),s:Number(e),v:Number(s),a:Number(r)});return w2(o)},"hsv"]]},Vl=function(i,t){for(var e=0;e<t.length;e++){var s=t[e][0](i);if(s)return[s,t[e][1]]}return[null,void 0]},i_=function(i){return typeof i=="string"?Vl(i.trim(),fa.string):typeof i=="object"&&i!==null?Vl(i,fa.object):[null,void 0]},Mo=function(i,t){var e=Bn(i);return{h:e.h,s:as(e.s+100*t,0,100),l:e.l,a:e.a}},Po=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Ml=function(i,t){var e=Bn(i);return{h:e.h,s:e.s,l:as(e.l+100*t,0,100),a:e.a}},pa=function(){function i(t){this.parsed=i_(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Me(Po(this.rgba),2)},i.prototype.isDark=function(){return Po(this.rgba)<.5},i.prototype.isLight=function(){return Po(this.rgba)>=.5},i.prototype.toHex=function(){return t=Vo(this.rgba),e=t.r,s=t.g,n=t.b,o=(r=t.a)<1?hr(Me(255*r)):"","#"+hr(e)+hr(s)+hr(n)+o;var t,e,s,n,r,o},i.prototype.toRgb=function(){return Vo(this.rgba)},i.prototype.toRgbString=function(){return t=Vo(this.rgba),e=t.r,s=t.g,n=t.b,(r=t.a)<1?"rgba("+e+", "+s+", "+n+", "+r+")":"rgb("+e+", "+s+", "+n+")";var t,e,s,n,r},i.prototype.toHsl=function(){return Sl(Bn(this.rgba))},i.prototype.toHslString=function(){return t=Sl(Bn(this.rgba)),e=t.h,s=t.s,n=t.l,(r=t.a)<1?"hsla("+e+", "+s+"%, "+n+"%, "+r+")":"hsl("+e+", "+s+"%, "+n+"%)";var t,e,s,n,r},i.prototype.toHsv=function(){return t=A2(this.rgba),{h:Me(t.h),s:Me(t.s),v:Me(t.v),a:Me(t.a,3)};var t},i.prototype.invert=function(){return Ms({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},i.prototype.saturate=function(t){return t===void 0&&(t=.1),Ms(Mo(this.rgba,t))},i.prototype.desaturate=function(t){return t===void 0&&(t=.1),Ms(Mo(this.rgba,-t))},i.prototype.grayscale=function(){return Ms(Mo(this.rgba,-1))},i.prototype.lighten=function(t){return t===void 0&&(t=.1),Ms(Ml(this.rgba,t))},i.prototype.darken=function(t){return t===void 0&&(t=.1),Ms(Ml(this.rgba,-t))},i.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},i.prototype.alpha=function(t){return typeof t=="number"?Ms({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Me(this.rgba.a,3);var e},i.prototype.hue=function(t){var e=Bn(this.rgba);return typeof t=="number"?Ms({h:t,s:e.s,l:e.l,a:e.a}):Me(e.h)},i.prototype.isEqual=function(t){return this.toHex()===Ms(t).toHex()},i}(),Ms=function(i){return i instanceof pa?i:new pa(i)},Pl=[],n_=function(i){i.forEach(function(t){Pl.indexOf(t)<0&&(t(pa,fa),Pl.push(t))})};function r_(i,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var n in e)s[e[n]]=n;var r={};i.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,h=s[this.toHex()];if(h)return h;if(o!=null&&o.closest){var l=this.toRgb(),u=1/0,m="black";if(!r.length)for(var d in e)r[d]=new i(e[d]).toRgb();for(var f in e){var p=(a=l,c=r[f],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));p<u&&(u=p,m=f)}return m}},t.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":e[a];return c?new i(c).toRgb():null},"name"])}n_([r_]);const tn=class gn{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof gn)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const s=typeof t;if(s!==typeof e)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((r,o)=>r===e[o]);if(t!==null&&e!==null){const r=Object.keys(t),o=Object.keys(e);return r.length!==o.length?!1:r.every(a=>t[a]===e[a])}return t===e}toRgba(){const[t,e,s,n]=this._components;return{r:t,g:e,b:s,a:n}}toRgb(){const[t,e,s]=this._components;return{r:t,g:e,b:s}}toRgbaString(){const[t,e,s]=this.toUint8RgbArray();return`rgba(${t},${e},${s},${this.alpha})`}toUint8RgbArray(t){const[e,s,n]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb,t[0]=Math.round(e*255),t[1]=Math.round(s*255),t[2]=Math.round(n*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t=t||this._arrayRgba;const[e,s,n,r]=this._components;return t[0]=e,t[1]=s,t[2]=n,t[3]=r,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb;const[e,s,n]=this._components;return t[0]=e,t[1]=s,t[2]=n,t}toNumber(){return this._int}toBgrNumber(){const[t,e,s]=this.toUint8RgbArray();return(s<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,s,n,r]=gn._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=s,this._components[2]*=n,this._components[3]*=r,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let s=this._int>>16&255,n=this._int>>8&255,r=this._int&255;return e&&(s=s*t+.5|0,n=n*t+.5|0,r=r*t+.5|0),(t*255<<24)+(s<<16)+(n<<8)+r}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,s,n,r;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;e=(o>>16&255)/255,s=(o>>8&255)/255,n=(o&255)/255,r=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,s,n,r=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,s,n,r=255]=t,e/=255,s/=255,n/=255,r/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=gn.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=Ms(t);o.isValid()&&({r:e,g:s,b:n,a:r}=o.rgba,e/=255,s/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=s,this._components[2]=n,this._components[3]=r,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,s]=this._components;this._int=(t*255<<16)+(e*255<<8)+(s*255|0)}_clamp(t,e=0,s=1){return typeof t=="number"?Math.min(Math.max(t,e),s):(t.forEach((n,r)=>{t[r]=Math.min(Math.max(n,e),s)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof gn||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};tn.shared=new tn;tn._temp=new tn;tn.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ve=tn;const o_={cullArea:null,cullable:!1,cullableChildren:!0};class _c{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var s;let e;return this._index>0?e=this._pool[--this._index]:e=new this._classType,(s=e.init)==null||s.call(e,t),e}return(t){var e;(e=t.reset)==null||e.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class a_{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new _c(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const s=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[s]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}}const Hs=new a_;function c_(i,t,e){const s=i.length;let n;if(t>=s||e===0)return;e=t+e>s?s-t:e;const r=s-e;for(n=t;n<r;++n)i[n]=i[n+e];i.length=r}const l_={allowChildren:!0,removeChildren(i=0,t){const e=t??this.children.length,s=e-i,n=[];if(s>0&&s<=e){for(let o=e-1;o>=i;o--){const a=this.children[o];a&&(n.push(a),a.parent=null)}c_(this.children,i,e);const r=this.renderGroup||this.parentRenderGroup;r&&r.removeChildren(n);for(let o=0;o<n.length;++o)this.emit("childRemoved",n[o],this,o),n[o].emit("removed",this);return n}else if(s===0&&this.children.length===0)return n;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const t=this.getChildAt(i);return this.removeChild(t)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,t)},getChildIndex(i){const t=this.children.indexOf(i);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(i,t){this.allowChildren||Zt(Qt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${i}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(i.parent){const n=i.parent.children.indexOf(i);if(i.parent===this&&n===t)return i;n!==-1&&i.parent.children.splice(n,1)}t===e.length?e.push(i):e.splice(t,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,t),i.emit("added",this),i},swapChildren(i,t){if(i===t)return;const e=this.getChildIndex(i),s=this.getChildIndex(t);this.children[e]=t,this.children[s]=i;const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var i;(i=this.parent)==null||i.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(t=>this.reparentChildAt(t,this.children.length)),i[0])},reparentChildAt(i,t){if(i.parent===this)return this.setChildIndex(i,t),i;const e=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,t);const s=this.worldTransform.clone();return s.invert(),e.prepend(s),i.setFromMatrix(e),i}};class Il{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class h_{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const s=this._tests[e];if(s.test(t))return Hs.get(s.maskClass,t)}return t}returnMaskEffect(t){Hs.return(t)}}const ba=new h_;Fe.handleByList(wt.MaskEffect,ba._effectClasses);const u_={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],addEffect(i){if(this.effects.indexOf(i)!==-1)return;this.effects.push(i),this.effects.sort((s,n)=>s.priority-n.priority);const e=this.renderGroup||this.parentRenderGroup;e&&(e.structureDidChange=!0),this._updateIsSimple()},removeEffect(i){const t=this.effects.indexOf(i);t!==-1&&(this.effects.splice(t,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(i){const t=this._maskEffect;(t==null?void 0:t.mask)!==i&&(t&&(this.removeEffect(t),ba.returnMaskEffect(t),this._maskEffect=null),i!=null&&(this._maskEffect=ba.getMaskEffect(i),this.addEffect(this._maskEffect)))},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask)},get mask(){var i;return(i=this._maskEffect)==null?void 0:i.mask},set filters(i){var r;!Array.isArray(i)&&i&&(i=[i]);const t=this._filterEffect||(this._filterEffect=new Il);i=i;const e=(i==null?void 0:i.length)>0,s=((r=t.filters)==null?void 0:r.length)>0,n=e!==s;i=Array.isArray(i)?i.slice(0):i,t.filters=Object.freeze(i),n&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=i??null))},get filters(){var i;return(i=this._filterEffect)==null?void 0:i.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new Il),this._filterEffect.filterArea=i},get filterArea(){var i;return(i=this._filterEffect)==null?void 0:i.filterArea}},m_={label:null,get name(){return Zt(Qt,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){Zt(Qt,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,t=!1){return this.getChildByLabel(i,t)},getChildByLabel(i,t=!1){const e=this.children;for(let s=0;s<e.length;s++){const n=e[s];if(n.label===i||i instanceof RegExp&&i.test(n.label))return n}if(t)for(let s=0;s<e.length;s++){const r=e[s].getChildByLabel(i,!0);if(r)return r}return null},getChildrenByLabel(i,t=!1,e=[]){const s=this.children;for(let n=0;n<s.length;n++){const r=s[n];(r.label===i||i instanceof RegExp&&i.test(r.label))&&e.push(r)}if(t)for(let n=0;n<s.length;n++)s[n].getChildrenByLabel(i,!0,e);return e}},Us=new _c(Yt),en=new _c(Ds);function C2(i,t,e){e.clear();let s,n;return i.parent?t?s=i.parent.worldTransform:(n=Us.get().identity(),s=Dr(i,n)):s=Yt.IDENTITY,S2(i,e,s,t),n&&Us.return(n),e.isValid||e.set(0,0,0,0),e}function S2(i,t,e,s){var a,c;if(!i.visible||!i.measurable)return;let n;s?n=i.worldTransform:(i.updateLocalTransform(),n=Us.get(),n.appendFrom(i.localTransform,e));const r=t,o=!!i.effects.length;if(o&&(t=en.get().clear()),i.boundsArea)t.addRect(i.boundsArea,n);else{i.addBounds&&(t.matrix=n,i.addBounds(t));for(let h=0;h<i.children.length;h++)S2(i.children[h],t,n,s)}if(o){for(let h=0;h<i.effects.length;h++)(c=(a=i.effects[h]).addBounds)==null||c.call(a,t);r.addBounds(t,Yt.IDENTITY),en.return(t)}s||Us.return(n)}function Dr(i,t){const e=i.parent;return e&&(Dr(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}let Io=0;const Tl=500;function Ae(...i){Io!==Tl&&(Io++,Io===Tl?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}function B2(i,t,e){return t.clear(),e||(e=Yt.IDENTITY),V2(i,t,e,i,!0),t.isValid||t.set(0,0,0,0),t}function V2(i,t,e,s,n){var c,h;let r;if(n)r=Us.get(),r=e.copyTo(r);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const l=i.localTransform;r=Us.get(),r.appendFrom(l,e)}const o=t,a=!!i.effects.length;if(a&&(t=en.get().clear()),i.boundsArea)t.addRect(i.boundsArea,r);else{i.renderPipeId&&(t.matrix=r,i.addBounds(t));const l=i.children;for(let u=0;u<l.length;u++)V2(l[u],t,r,s,!1)}if(a){for(let l=0;l<i.effects.length;l++)(h=(c=i.effects[l]).addLocalBounds)==null||h.call(c,t,s);o.addBounds(t,Yt.IDENTITY),en.return(t)}Us.return(r)}function M2(i,t){const e=i.children;for(let s=0;s<e.length;s++){const n=e[s],r=n.uid,o=(n._didViewChangeTick&65535)<<16|n._didContainerChangeTick&65535,a=t.index;(t.data[a]!==r||t.data[a+1]!==o)&&(t.data[t.index]=r,t.data[t.index+1]=o,t.didChange=!0),t.index=a+2,n.children.length&&M2(n,t)}return t.didChange}const d_=new Yt,__={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=i/t*e:this.scale.x=e},_setHeight(i,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=i/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Ds});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),M2(this,i),i.didChange&&B2(this,i.localBounds,d_),i.localBounds},getBounds(i,t){return C2(this,i,t||new Ds)}},f_={_onRender:null,set onRender(i){const t=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},p_={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(b_))}};function b_(i,t){return i._zIndex-t._zIndex}const y_={getGlobalPosition(i=new De,t=!1){return this.parent?this.parent.toGlobal(this._position,i,t):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,t,e=!1){if(!e){this.updateLocalTransform();const s=Dr(this,new Yt);return s.append(this.localTransform),s.apply(i,t)}return this.worldTransform.apply(i,t)},toLocal(i,t,e,s){if(t&&(i=t.toGlobal(i,e,s)),!s){this.updateLocalTransform();const n=Dr(this,new Yt);return n.append(this.localTransform),n.applyInverse(i,e)}return this.worldTransform.applyInverse(i,e)}};let g_=0;class P2{constructor(){this.uid=Se("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.tick=0}reset(){this.instructionSize=0,this.tick=g_++}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class x_{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Yt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new P2,this._onRenderContainers=[]}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let s=0;s<e.length;s++)this.addChild(e[s])}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let s=0;s<e.length;s++)this.addChild(e[s])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let s=0;s<e.length;s++)this.removeChild(e[s])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}destroy(){this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let s=0;s<e.length;s++)this._getChildren(e[s],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const s=t.children;for(let n=0;n<s.length;n++)this._getChildren(s[n],e);return e}}function v_(i,t,e={}){for(const s in t)!e[s]&&t[s]!==void 0&&(i[s]=t[s])}const To=new je(null),ko=new je(null),Eo=new je(null,1,1),kl=1,A_=2,Do=4;class Xe extends Cs{constructor(t={}){var e,s;super(),this.uid=Se("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Yt,this.relativeGroupTransform=new Yt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new je(this,0,0),this._scale=Eo,this._pivot=ko,this._skew=To,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],v_(this,t,{children:!0,parent:!0,effects:!0}),(e=t.children)==null||e.forEach(n=>this.addChild(n)),(s=t.parent)==null||s.addChild(this)}static mixin(t){Object.defineProperties(Xe.prototype,Object.getOwnPropertyDescriptors(t))}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Zt(Qt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let n=0;n<t.length;n++)this.addChild(t[n]);return t[0]}const e=t[0];if(e.parent===this)return this.children.splice(this.children.indexOf(e),1),this.children.push(e),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),e;e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,e._zIndex!==0&&e.depthOfChildModified(),e}removeChild(...t){if(t.length>1){for(let n=0;n<t.length;n++)this.removeChild(t[n]);return t[0]}const e=t[0],s=this.children.indexOf(e);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parent=null,this.emit("childRemoved",e,this,s),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Hs.get(x_,this),this.groupTransform=Yt.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Hs.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Yt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Od}set angle(t){this.rotation=t*$d}get pivot(){return this._pivot===ko&&(this._pivot=new je(this,0,0)),this._pivot}set pivot(t){this._pivot===ko&&(this._pivot=new je(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===To&&(this._skew=new je(this,0,0)),this._skew}set skew(t){this._skew===To&&(this._skew=new je(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Eo&&(this._scale=new je(this,1,1)),this._scale}set scale(t){this._scale===Eo&&(this._scale=new je(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const s=this.getLocalBounds();typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,s.width),e!==void 0&&this._setHeight(e,s.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,s=this._scale,n=this._pivot,r=this._position,o=s._x,a=s._y,c=n._x,h=n._y;e.a=this._cx*o,e.b=this._sx*o,e.c=this._cy*a,e.d=this._sy*a,e.tx=r._x-(c*e.a+h*e.c),e.ty=r._y-(c*e.b+h*e.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=kl,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const s=ve.shared.setValue(t??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=kl,this._onUpdate())}get tint(){const t=this.localColor;return((t&255)<<16)+(t&65280)+(t>>16&255)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=A_,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?2:0;(this.localDisplayStatus&2)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Do,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?0:4;(this.localDisplayStatus&4)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Do,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=Do,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var n;if(this.destroyed)return;this.destroyed=!0;let e;if(this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&e)for(let r=0;r<e.length;++r)e[r].destroy(t);(n=this.renderGroup)==null||n.destroy(),this.renderGroup=null}}Xe.mixin(l_);Xe.mixin(y_);Xe.mixin(f_);Xe.mixin(__);Xe.mixin(u_);Xe.mixin(m_);Xe.mixin(p_);Xe.mixin(o_);class fc extends Xe{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=0,this._lastInstructionTick=-1,this._bounds=new Ds(0,1,0,0),this._boundsDirty=!0}_updateBounds(){}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:s,y:n}=t;return s>=e.minX&&s<=e.maxX&&n>=e.minY&&n<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}}class Si extends fc{constructor(t=Jt.EMPTY){t instanceof Jt&&(t={texture:t});const{texture:e=Jt.EMPTY,anchor:s,roundPixels:n,width:r,height:o,...a}=t;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBoundsDirty=!0,this._anchor=new je({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=n??!1,r!==void 0&&(this.width=r),o!==void 0&&(this.height=o)}static from(t,e=!1){return t instanceof Jt?new Si(t):new Si(Jt.from(t,e))}set texture(t){t||(t=Jt.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(t){const e=this.sourceBounds;return t.x>=e.maxX&&t.x<=e.minX&&t.y>=e.maxY&&t.y<=e.minY}addBounds(t){const e=this._texture.trim?this.sourceBounds:this.bounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}onViewUpdate(){this._sourceBoundsDirty=this._boundsDirty=!0,super.onViewUpdate()}_updateBounds(){Yd(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const t=this._anchor,e=this._texture,s=this._sourceBounds,{width:n,height:r}=e.orig;s.maxX=-t._x*n,s.minX=s.maxX+n,s.maxY=-t._y*r,s.minY=s.maxY+r}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const s=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(s)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),e!==void 0&&this._setHeight(e,this._texture.orig.height)}}const w_=new Ds;function I2(i,t,e){const s=w_;i.measurable=!0,C2(i,e,s),t.addBoundsMask(s),i.measurable=!1}function T2(i,t,e){const s=en.get();i.measurable=!0;const n=Us.get().identity(),r=k2(i,e,n);B2(i,s,r),i.measurable=!1,t.addBoundsMask(s),Us.return(n),en.return(s)}function k2(i,t,e){return i?(i!==t&&(k2(i.parent,t,e),i.updateLocalTransform(),e.append(i.localTransform)),e):(Ae("Mask bounds, renderable is not inside the root container"),e)}class E2{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Si),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||I2(this.mask,t,e)}addLocalBounds(t,e){T2(this.mask,t,e)}containsPoint(t,e){const s=this.mask;return e(s,t)}destroy(){this.reset()}static test(t){return t instanceof Si}}E2.extension=wt.MaskEffect;class D2{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}D2.extension=wt.MaskEffect;class L2{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){I2(this.mask,t,e)}addLocalBounds(t,e){T2(this.mask,t,e)}containsPoint(t,e){const s=this.mask;return e(s,t)}destroy(){this.reset()}static test(t){return t instanceof Xe}}L2.extension=wt.MaskEffect;const C_={createCanvas:(i,t)=>{const e=document.createElement("canvas");return e.width=i,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,t)=>fetch(i,t),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let El=C_;const de={get(){return El},set(i){El=i}};class G2 extends Ys{constructor(t){t.resource||(t.resource=de.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity;const e=t.resource;(this.pixelWidth!==e.width||this.pixelWidth!==e.height)&&this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,s=this._resolution){const n=super.resize(t,e,s);return n&&this.resizeCanvas(),n}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}G2.extension=wt.TextureSource;class an extends Ys{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const e=de.get().createCanvas(t.resource.width,t.resource.height);e.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=e,Ae("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}an.extension=wt.TextureSource;var ya=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(ya||{});class Lo{constructor(t,e=null,s=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=s,this._once=n}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const R2=class Ke{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Lo(null,null,1/0),this.deltaMS=1/Ke.targetFPMS,this.elapsedMS=1/Ke.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,s=ya.NORMAL){return this._addListener(new Lo(t,e,s))}addOnce(t,e,s=ya.NORMAL){return this._addListener(new Lo(t,e,s,!0))}_addListener(t){let e=this._head.next,s=this._head;if(!e)t.connect(s);else{for(;e;){if(t.priority>e.priority){t.connect(s);break}s=e,e=e.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,e){let s=this._head.next;for(;s;)s.match(t,e)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ke.targetFPMS;const s=this._head;let n=s.next;for(;n;)n=n.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,e)/1e3,Ke.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ke._shared){const t=Ke._shared=new Ke;t.autoStart=!0,t._protected=!0}return Ke._shared}static get system(){if(!Ke._system){const t=Ke._system=new Ke;t.autoStart=!0,t._protected=!0}return Ke._system}};R2.targetFPMS=.06;let ur=R2,Go;async function F2(){return Go??(Go=(async()=>{var o;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(a=>{const c=document.createElement("video");c.onloadeddata=()=>a(c),c.onerror=()=>a(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!e)return"premultiply-alpha-on-upload";const s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const r=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,r),t.deleteFramebuffer(n),t.deleteTexture(s),(o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext(),r[0]<=r[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Go}const qr=class z2 extends Ys{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...z2.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=ur.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await F2(),this._load=new Promise((s,n)=>{this.isValid?s(this):(this._resolve=s,this._reject=n,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ur.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ur.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ur.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};qr.extension=wt.TextureSource;qr.defaultOptions={...Ys.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};qr.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Cr=qr;const ps=(i,t,e=!1)=>(Array.isArray(i)||(i=[i]),t?i.map(s=>typeof s=="string"||e?t(s):s):i);class S_{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||Ae(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const s=ps(t);let n;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.test(e)){n=h.getCacheableAssets(s,e);break}}const r=new Map(Object.entries(n||{}));n||s.forEach(c=>{r.set(c,e)});const o=[...r.keys()],a={cacheKeys:o,keys:s};s.forEach(c=>{this._cacheMap.set(c,a)}),o.forEach(c=>{const h=n?n[c]:e;this._cache.has(c)&&this._cache.get(c)!==h&&Ae("[Cache] already has key:",c),this._cache.set(c,r.get(c))})}remove(t){if(!this._cacheMap.has(t)){Ae(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(n=>{this._cache.delete(n)}),e.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const me=new S_,ga=[];Fe.handleByList(wt.TextureSource,ga);function O2(i={}){const t=i&&i.resource,e=t?i.resource:i,s=t?i:{resource:i};for(let n=0;n<ga.length;n++){const r=ga[n];if(r.test(e))return new r(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function B_(i={},t=!1){const e=i&&i.resource,s=e?i.resource:i,n=e?i:{resource:i};if(!t&&me.has(s))return me.get(s);const r=new Jt({source:O2(n)});return r.on("destroy",()=>{me.has(s)&&me.remove(s)}),t||me.set(s,r),r}function V_(i,t=!1){return typeof i=="string"?me.get(i):i instanceof Ys?new Jt({source:i}):B_(i,t)}Jt.from=V_;Ys.from=O2;Fe.add(E2,D2,L2,Cr,an,G2,dc);var li=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(li||{});function ms(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function un(i){return i.split("?")[0].split("#")[0]}function M_(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P_(i,t,e){return i.replace(new RegExp(M_(t),"g"),e)}function I_(i,t){let e="",s=0,n=-1,r=0,o=-1;for(let a=0;a<=i.length;++a){if(a<i.length)o=i.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||r===1))if(n!==a-1&&r===2){if(e.length<2||s!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const c=e.lastIndexOf("/");if(c!==e.length-1){c===-1?(e="",s=0):(e=e.slice(0,c),s=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}}else if(e.length===2||e.length===1){e="",s=0,n=a,r=0;continue}}}else e.length>0?e+=`/${i.slice(n+1,a)}`:e=i.slice(n+1,a),s=a-n-1;n=a,r=0}else o===46&&r!==-1?++r:r=-1}return e}const es={toPosix(i){return P_(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){ms(i),i=this.toPosix(i);const t=/^file:\/\/\//.exec(i);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(i);return e?e[0]:""},toAbsolute(i,t,e){if(ms(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=un(this.toPosix(t??de.get().getBaseUrl())),n=un(this.toPosix(e??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?es.join(n,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(ms(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let t="";const e=i.startsWith("/");this.hasProtocol(i)&&(t=this.rootname(i),i=i.slice(t.length));const s=i.endsWith("/");return i=I_(i),i.length>0&&s&&(i+="/"),e?`/${i}`:t+i},isAbsolute(i){return ms(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let t;for(let e=0;e<i.length;++e){const s=i[e];if(ms(s),s.length>0)if(t===void 0)t=s;else{const n=i[e-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(i){if(ms(i),i.length===0)return".";i=this.toPosix(i);let t=i.charCodeAt(0);const e=t===47;let s=-1,n=!0;const r=this.getProtocol(i),o=i;i=i.slice(r.length);for(let a=i.length-1;a>=1;--a)if(t=i.charCodeAt(a),t===47){if(!n){s=a;break}}else n=!1;return s===-1?e?"/":this.isUrl(o)?r+i:r:e&&s===1?"//":r+i.slice(0,s)},rootname(i){ms(i),i=this.toPosix(i);let t="";if(i.startsWith("/")?t="/":t=this.getProtocol(i),this.isUrl(i)){const e=i.indexOf("/",t.length);e!==-1?t=i.slice(0,e):t=i,t.endsWith("/")||(t+="/")}return t},basename(i,t){ms(i),t&&ms(t),i=un(this.toPosix(i));let e=0,s=-1,n=!0,r;if(t!==void 0&&t.length>0&&t.length<=i.length){if(t.length===i.length&&t===i)return"";let o=t.length-1,a=-1;for(r=i.length-1;r>=0;--r){const c=i.charCodeAt(r);if(c===47){if(!n){e=r+1;break}}else a===-1&&(n=!1,a=r+1),o>=0&&(c===t.charCodeAt(o)?--o===-1&&(s=r):(o=-1,s=a))}return e===s?s=a:s===-1&&(s=i.length),i.slice(e,s)}for(r=i.length-1;r>=0;--r)if(i.charCodeAt(r)===47){if(!n){e=r+1;break}}else s===-1&&(n=!1,s=r+1);return s===-1?"":i.slice(e,s)},extname(i){ms(i),i=un(this.toPosix(i));let t=-1,e=0,s=-1,n=!0,r=0;for(let o=i.length-1;o>=0;--o){const a=i.charCodeAt(o);if(a===47){if(!n){e=o+1;break}continue}s===-1&&(n=!1,s=o+1),a===46?t===-1?t=o:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||s===-1||r===0||r===1&&t===s-1&&t===e+1?"":i.slice(t,s)},parse(i){ms(i);const t={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return t;i=un(this.toPosix(i));let e=i.charCodeAt(0);const s=this.isAbsolute(i);let n;t.root=this.rootname(i),s||this.hasProtocol(i)?n=1:n=0;let r=-1,o=0,a=-1,c=!0,h=i.length-1,l=0;for(;h>=n;--h){if(e=i.charCodeAt(h),e===47){if(!c){o=h+1;break}continue}a===-1&&(c=!1,a=h+1),e===46?r===-1?r=h:l!==1&&(l=1):r!==-1&&(l=-1)}return r===-1||a===-1||l===0||l===1&&r===a-1&&r===o+1?a!==-1&&(o===0&&s?t.base=t.name=i.slice(1,a):t.base=t.name=i.slice(o,a)):(o===0&&s?(t.name=i.slice(1,r),t.base=i.slice(1,a)):(t.name=i.slice(o,r),t.base=i.slice(o,a)),t.ext=i.slice(r,a)),t.dir=this.dirname(i),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function $2(i,t,e,s,n){const r=t[e];for(let o=0;o<r.length;o++){const a=r[o];e<t.length-1?$2(i.replace(s[e],a),t,e+1,s,n):n.push(i.replace(s[e],a))}}function T_(i){const t=/\{(.*?)\}/g,e=i.match(t),s=[];if(e){const n=[];e.forEach(r=>{const o=r.substring(1,r.length-1).split(",");n.push(o)}),$2(i,n,0,e,s)}else s.push(i);return s}const Lr=i=>!Array.isArray(i);class cn{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`).join("&")}}getAlias(t){const{alias:e,src:s}=t;return ps(e||s,r=>typeof r=="string"?r:Array.isArray(r)?r.map(o=>(o==null?void 0:o.src)??o):r!=null&&r.src?r.src:r,!0)}addManifest(t){this._manifest&&Ae("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const s=[];let n=e;Array.isArray(e)||(n=Object.entries(e).map(([r,o])=>typeof o=="string"||Array.isArray(o)?{alias:r,src:o}:{alias:r,...o})),n.forEach(r=>{const o=r.src,a=r.alias;let c;if(typeof a=="string"){const h=this._createBundleAssetId(t,a);s.push(h),c=[a,h]}else{const h=a.map(l=>this._createBundleAssetId(t,l));s.push(...h),c=[...a,...h]}this.add({...r,alias:c,src:o})}),this._bundles[t]=s}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let s;s=r=>{this.hasKey(r)&&Ae(`[Resolver] already has key: ${r} overwriting`)},ps(e).forEach(r=>{const{src:o}=r;let{data:a,format:c,loadParser:h}=r;const l=ps(o).map(d=>typeof d=="string"?T_(d):Array.isArray(d)?d:[d]),u=this.getAlias(r);Array.isArray(u)?u.forEach(s):s(u);const m=[];l.forEach(d=>{d.forEach(f=>{let p={};if(typeof f!="object"){p.src=f;for(let y=0;y<this._parsers.length;y++){const x=this._parsers[y];if(x.test(f)){p=x.parse(f);break}}}else a=f.data??a,c=f.format??c,h=f.loadParser??h,p={...p,...f};if(!u)throw new Error(`[Resolver] alias is undefined for this asset: ${p.src}`);p=this._buildResolvedAsset(p,{aliases:u,data:a,format:c,loadParser:h}),m.push(p)})}),u.forEach(d=>{this._assetMap[d]=m})})}resolveBundle(t){const e=Lr(t);t=ps(t);const s={};return t.forEach(n=>{const r=this._bundles[n];if(r){const o=this.resolve(r),a={};for(const c in o){const h=o[c];a[this._extractAssetIdFromBundle(n,c)]=h}s[n]=a}}),e?s[t[0]]:s}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const s={};for(const n in e)s[n]=e[n].src;return s}return e.src}resolve(t){const e=Lr(t);t=ps(t);const s={};return t.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let r=this._assetMap[n];const o=this._getPreferredOrder(r);o==null||o.priority.forEach(a=>{o.params[a].forEach(c=>{const h=r.filter(l=>l[a]?l[a]===c:!1);h.length&&(r=h)})}),this._resolverHash[n]=r[0]}else this._resolverHash[n]=this._buildResolvedAsset({alias:[n],src:n},{});s[n]=this._resolverHash[n]}),e?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const s=t[0],n=this._preferredOrder.find(r=>r.params.format.includes(s.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:s,data:n,loadParser:r,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=es.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...n||{},...t.data},t.loadParser=r??t.loadParser,t.format=o??t.format??k_(t.src),t}}cn.RETINA_PREFIX=/@([0-9\.]+)x/;function k_(i){return i.split(".").pop().split("?").shift().split("#").shift()}const xa=(i,t)=>{const e=t.split("?")[1];return e&&(i+=`?${e}`),i},j2=class xn{constructor(t,e){this.linkedSheets=[],this._texture=t instanceof Jt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=e;const s=parseFloat(e.meta.scale);s?(this.resolution=s,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=xn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const s=xn.BATCH_SIZE;for(;e-t<s&&e<this._frameKeys.length;){const n=this._frameKeys[e],r=this._frames[n],o=r.frame;if(o){let a=null,c=null;const h=r.trimmed!==!1&&r.sourceSize?r.sourceSize:r.frame,l=new xe(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);r.rotated?a=new xe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new xe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),r.trimmed!==!1&&r.spriteSourceSize&&(c=new xe(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new Jt({source:this.textureSource,frame:a,orig:l,trim:c,rotate:r.rotated?2:0,defaultAnchor:r.anchor,defaultBorders:r.borders,label:n.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let s=0;s<t[e].length;s++){const n=t[e][s];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*xn.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*xn.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};j2.BATCH_SIZE=1e3;let Dl=j2;const E_=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function N2(i,t,e){const s={};if(i.forEach(n=>{s[n]=t}),Object.keys(t.textures).forEach(n=>{s[n]=t.textures[n]}),!e){const n=es.dirname(i[0]);t.linkedSheets.forEach((r,o)=>{const a=N2([`${n}/${t.data.meta.related_multi_packs[o]}`],r,!0);Object.assign(s,a)})}return s}const D_={extension:wt.Asset,cache:{test:i=>i instanceof Dl,getCacheableAssets:(i,t)=>N2(i,t,!1)},resolver:{extension:{type:wt.ResolveParser,name:"resolveSpritesheet"},test:i=>{const e=i.split("?")[0].split("."),s=e.pop(),n=e.pop();return s==="json"&&E_.includes(n)},parse:i=>{var e;const t=i.split(".");return{resolution:parseFloat(((e=cn.RETINA_PREFIX.exec(i))==null?void 0:e[1])??"1"),format:t[t.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:wt.LoadParser,priority:li.Normal,name:"spritesheetLoader"},async testParse(i,t){return es.extname(t.src).toLowerCase()===".json"&&!!i.frames},async parse(i,t,e){var h,l;const{texture:s,imageFilename:n}=(t==null?void 0:t.data)??{};let r=es.dirname(t.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let o;if(s instanceof Jt)o=s;else{const u=xa(r+(n??i.meta.image),t.src);o=(await e.load([u]))[u]}const a=new Dl(o.source,i);await a.parse();const c=(h=i==null?void 0:i.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const u=[];for(const d of c){if(typeof d!="string")continue;let f=r+d;(l=t.data)!=null&&l.ignoreMultiPack||(f=xa(f,t.src),u.push(e.load({src:f,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(u);a.linkedSheets=m,m.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(f=>f!==d))})}return a},async unload(i,t,e){await e.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};Fe.add(D_);const Ro=Object.create(null),Ll=Object.create(null);function pc(i,t){let e=Ll[i];return e===void 0&&(Ro[t]===void 0&&(Ro[t]=1),Ll[i]=e=Ro[t]++),e}let zi;function q2(){return(!zi||zi!=null&&zi.isContextLost())&&(zi=de.get().createCanvas().getContext("webgl",{})),zi}let mr;function L_(){if(!mr){mr="mediump";const i=q2();i&&i.getShaderPrecisionFormat&&(mr=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return mr}function G_(i,t,e){return t?i:e?(i=i.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function R_(i,t,e){const s=e?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let n=e?t.requestedFragmentPrecision:t.requestedVertexPrecision;return n==="highp"&&s!=="highp"&&(n="mediump"),`precision ${n} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function F_(i,t){return t?`#version 300 es
${i}`:i}const z_={},O_={};function $_(i,{name:t="pixi-program"},e=!0){t=t.replace(/\s+/g,"-"),t+=e?"-fragment":"-vertex";const s=e?z_:O_;return s[t]?(s[t]++,t+=`-${s[t]}`):s[t]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${t}`}
${i}`}function j_(i,t){return t?i.replace("#version 300 es",""):i}const Fo={stripVersion:j_,ensurePrecision:R_,addProgramDefines:G_,setProgramName:$_,insertVersion:F_},zo=Object.create(null),H2=class va{constructor(t){t={...va.defaultOptions,...t};const e=t.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:L_()},setProgramName:{name:t.name},addProgramDefines:e,insertVersion:e};let n=t.fragment,r=t.vertex;Object.keys(Fo).forEach(o=>{const a=s[o];n=Fo[o](n,a,!0),r=Fo[o](r,a,!1)}),this.fragment=n,this.vertex=r,this._key=pc(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const e=`${t.vertex}:${t.fragment}`;return zo[e]||(zo[e]=new va(t)),zo[e]}};H2.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let U2=H2;const Gl={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function N_(i){return Gl[i]??Gl.float32}const q_={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function H_({source:i,entryPoint:t}){const e={},s=i.indexOf(`fn ${t}`);if(s!==-1){const n=i.indexOf("->",s);if(n!==-1){const r=i.substring(s,n),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(r))!==null;){const c=q_[a[3]]??"float32";e[a[2]]={location:parseInt(a[1],10),format:c,stride:N_(c).stride,offset:0,instance:!1,start:0}}}}return e}function Oo(i){var u,m;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,e=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,n=/var(<[^>]+>)? (\w+)/,r=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,c=/struct\s+(\w+)/,h=(u=i.match(t))==null?void 0:u.map(d=>({group:parseInt(d.match(e)[1],10),binding:parseInt(d.match(s)[1],10),name:d.match(n)[2],isUniform:d.match(n)[1]==="<uniform>",type:d.match(r)[1]}));if(!h)return{groups:[],structs:[]};const l=((m=i.match(o))==null?void 0:m.map(d=>{const f=d.match(c)[1],p=d.match(a).reduce((y,x)=>{const[_,b]=x.split(":");return y[_.trim()]=b.trim(),y},{});return p?{name:f,members:p}:null}).filter(({name:d})=>h.some(f=>f.type===d)))??[];return{groups:h,structs:l}}var vn=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(vn||{});function U_({groups:i}){const t=[];for(let e=0;e<i.length;e++){const s=i[e];t[s.group]||(t[s.group]=[]),s.isUniform?t[s.group].push({binding:s.binding,visibility:vn.VERTEX|vn.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?t[s.group].push({binding:s.binding,visibility:vn.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&t[s.group].push({binding:s.binding,visibility:vn.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function W_({groups:i}){const t=[];for(let e=0;e<i.length;e++){const s=i[e];t[s.group]||(t[s.group]={}),t[s.group][s.name]=s.binding}return t}function J_(i,t){const e=new Set,s=new Set,n=[...i.structs,...t.structs].filter(o=>e.has(o.name)?!1:(e.add(o.name),!0)),r=[...i.groups,...t.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return s.has(a)?!1:(s.add(a),!0)});return{structs:n,groups:r}}const $o=Object.create(null);class Hr{constructor(t){var a,c;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:s,layout:n,gpuLayout:r,name:o}=t;if(this.name=o,this.fragment=e,this.vertex=s,e.source===s.source){const h=Oo(e.source);this.structsAndGroups=h}else{const h=Oo(s.source),l=Oo(e.source);this.structsAndGroups=J_(h,l)}this.layout=n??W_(this.structsAndGroups),this.gpuLayout=r??U_(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((c=this.layout[1])==null?void 0:c.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,s=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=pc(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=H_(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return $o[e]||($o[e]=new Hr(t)),$o[e]}}const W2=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],X_=W2.reduce((i,t)=>(i[t]=!0,i),{});function Y_(i,t){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const J2=class X2{constructor(t,e){this._touched=0,this.uid=Se("uniform"),this._resourceType="uniformGroup",this._resourceId=Se("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...X2.defaultOptions,...e},this.uniformStructures=t;const s={};for(const n in t){const r=t[n];if(r.name=n,r.size=r.size??1,!X_[r.type])throw new Error(`Uniform type ${r.type} is not supported. Supported uniform types are: ${W2.join(", ")}`);r.value??(r.value=Y_(r.type,r.size)),s[n]=r.value}this.uniforms=s,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=pc(Object.keys(s).map(n=>`${n}-${t[n].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};J2.defaultOptions={ubo:!1,isStatic:!1};let Y2=J2;class Sr{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const s in t){const n=t[s];this.setResource(n,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const s in this.resources)t[e++]=this.resources[s]._resourceId;this._key=t.join("|")}setResource(t,e){var n,r;const s=this.resources[e];t!==s&&(s&&((n=t.off)==null||n.call(t,"change",this.onResourceChange,this)),(r=t.on)==null||r.call(t,"change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const s in e)e[s]._touched=t}destroy(){var e;const t=this.resources;for(const s in t){const n=t[s];(e=n.off)==null||e.call(n,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const s in e)e[s]===t&&(e[s]=null)}else this._updateKey()}}var Aa=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(Aa||{});class bc extends Cs{constructor(t){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:e,glProgram:s,groups:n,resources:r,compatibleRenderers:o,groupMap:a}=t;this.gpuProgram=e,this.glProgram=s,o===void 0&&(o=0,e&&(o|=Aa.WEBGPU),s&&(o|=Aa.WEBGL)),this.compatibleRenderers=o;const c={};if(!r&&!n&&(r={}),r&&n)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&n&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&n&&a)for(const h in a)for(const l in a[h]){const u=a[h][l];c[u]={group:h,binding:l,name:u}}else if(e&&n&&!a){const h=e.structsAndGroups.groups;a={},h.forEach(l=>{a[l.group]=a[l.group]||{},a[l.group][l.binding]=l.name,c[l.name]=l})}else if(r){n={},a={},e&&e.structsAndGroups.groups.forEach(u=>{a[u.group]=a[u.group]||{},a[u.group][u.binding]=u.name,c[u.name]=u});let h=0;for(const l in r)c[l]||(n[99]||(n[99]=new Sr,this._ownedBindGroups.push(n[99])),c[l]={group:99,binding:h,name:l},a[99]=a[99]||{},a[99][h]=l,h++);for(const l in r){const u=l;let m=r[l];!m.source&&!m._resourceType&&(m=new Y2(m));const d=c[u];d&&(n[d.group]||(n[d.group]=new Sr,this._ownedBindGroups.push(n[d.group])),n[d.group].setResource(m,d.binding))}}this.groups=n,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(n,c)}addResource(t,e,s){var n,r;(n=this._uniformBindMap)[e]||(n[e]={}),(r=this._uniformBindMap[e])[s]||(r[s]=t),this.groups[e]||(this.groups[e]=new Sr,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const s={};for(const n in e){const r=e[n];Object.defineProperty(s,r.name,{get(){return t[r.group].getResource(r.binding)},set(o){t[r.group].setResource(o,r.binding)}})}return s}destroy(t=!1){var e,s;this.emit("destroy",this),t&&((e=this.gpuProgram)==null||e.destroy(),(s=this.glProgram)==null||s.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:e,gl:s,...n}=t;let r,o;return e&&(r=Hr.from(e)),s&&(o=U2.from(s)),new bc({gpuProgram:r,glProgram:o,...n})}}const wa=[];Fe.handleByNamedList(wt.Environment,wa);async function Z_(i){if(!i)for(let t=0;t<wa.length;t++){const e=wa[t];if(e.value.test()){await e.value.load();return}}}let mn;function K_(){if(typeof mn=="boolean")return mn;try{mn=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{mn=!1}return mn}var yc={exports:{}};yc.exports=Ur;yc.exports.default=Ur;function Ur(i,t,e){e=e||2;var s=t&&t.length,n=s?t[0]*e:i.length,r=Z2(i,0,n,e,!0),o=[];if(!r||r.next===r.prev)return o;var a,c,h,l,u,m,d;if(s&&(r=nf(i,t,r,e)),i.length>80*e){a=h=i[0],c=l=i[1];for(var f=e;f<n;f+=e)u=i[f],m=i[f+1],u<a&&(a=u),m<c&&(c=m),u>h&&(h=u),m>l&&(l=m);d=Math.max(h-a,l-c),d=d!==0?32767/d:0}return On(r,o,e,a,c,d,0),o}function Z2(i,t,e,s,n){var r,o;if(n===Ba(i,t,e,s)>0)for(r=t;r<e;r+=s)o=Rl(r,i[r],i[r+1],o);else for(r=e-s;r>=t;r-=s)o=Rl(r,i[r],i[r+1],o);return o&&Wr(o,o.next)&&(jn(o),o=o.next),o}function Bi(i,t){if(!i)return i;t||(t=i);var e=i,s;do if(s=!1,!e.steiner&&(Wr(e,e.next)||ue(e.prev,e,e.next)===0)){if(jn(e),e=t=e.prev,e===e.next)break;s=!0}else e=e.next;while(s||e!==t);return t}function On(i,t,e,s,n,r,o){if(i){!o&&r&&lf(i,s,n,r);for(var a=i,c,h;i.prev!==i.next;){if(c=i.prev,h=i.next,r?tf(i,s,n,r):Q_(i)){t.push(c.i/e|0),t.push(i.i/e|0),t.push(h.i/e|0),jn(i),i=h.next,a=h.next;continue}if(i=h,i===a){o?o===1?(i=ef(Bi(i),t,e),On(i,t,e,s,n,r,2)):o===2&&sf(i,t,e,s,n,r):On(Bi(i),t,e,s,n,r,1);break}}}}function Q_(i){var t=i.prev,e=i,s=i.next;if(ue(t,e,s)>=0)return!1;for(var n=t.x,r=e.x,o=s.x,a=t.y,c=e.y,h=s.y,l=n<r?n<o?n:o:r<o?r:o,u=a<c?a<h?a:h:c<h?c:h,m=n>r?n>o?n:o:r>o?r:o,d=a>c?a>h?a:h:c>h?c:h,f=s.next;f!==t;){if(f.x>=l&&f.x<=m&&f.y>=u&&f.y<=d&&Ji(n,a,r,c,o,h,f.x,f.y)&&ue(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function tf(i,t,e,s){var n=i.prev,r=i,o=i.next;if(ue(n,r,o)>=0)return!1;for(var a=n.x,c=r.x,h=o.x,l=n.y,u=r.y,m=o.y,d=a<c?a<h?a:h:c<h?c:h,f=l<u?l<m?l:m:u<m?u:m,p=a>c?a>h?a:h:c>h?c:h,y=l>u?l>m?l:m:u>m?u:m,x=Ca(d,f,t,e,s),_=Ca(p,y,t,e,s),b=i.prevZ,g=i.nextZ;b&&b.z>=x&&g&&g.z<=_;){if(b.x>=d&&b.x<=p&&b.y>=f&&b.y<=y&&b!==n&&b!==o&&Ji(a,l,c,u,h,m,b.x,b.y)&&ue(b.prev,b,b.next)>=0||(b=b.prevZ,g.x>=d&&g.x<=p&&g.y>=f&&g.y<=y&&g!==n&&g!==o&&Ji(a,l,c,u,h,m,g.x,g.y)&&ue(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;b&&b.z>=x;){if(b.x>=d&&b.x<=p&&b.y>=f&&b.y<=y&&b!==n&&b!==o&&Ji(a,l,c,u,h,m,b.x,b.y)&&ue(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;g&&g.z<=_;){if(g.x>=d&&g.x<=p&&g.y>=f&&g.y<=y&&g!==n&&g!==o&&Ji(a,l,c,u,h,m,g.x,g.y)&&ue(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function ef(i,t,e){var s=i;do{var n=s.prev,r=s.next.next;!Wr(n,r)&&K2(n,s,s.next,r)&&$n(n,r)&&$n(r,n)&&(t.push(n.i/e|0),t.push(s.i/e|0),t.push(r.i/e|0),jn(s),jn(s.next),s=i=r),s=s.next}while(s!==i);return Bi(s)}function sf(i,t,e,s,n,r){var o=i;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&mf(o,a)){var c=Q2(o,a);o=Bi(o,o.next),c=Bi(c,c.next),On(o,t,e,s,n,r,0),On(c,t,e,s,n,r,0);return}a=a.next}o=o.next}while(o!==i)}function nf(i,t,e,s){var n=[],r,o,a,c,h;for(r=0,o=t.length;r<o;r++)a=t[r]*s,c=r<o-1?t[r+1]*s:i.length,h=Z2(i,a,c,s,!1),h===h.next&&(h.steiner=!0),n.push(uf(h));for(n.sort(rf),r=0;r<n.length;r++)e=of(n[r],e);return e}function rf(i,t){return i.x-t.x}function of(i,t){var e=af(i,t);if(!e)return t;var s=Q2(e,i);return Bi(s,s.next),Bi(e,e.next)}function af(i,t){var e=t,s=i.x,n=i.y,r=-1/0,o;do{if(n<=e.y&&n>=e.next.y&&e.next.y!==e.y){var a=e.x+(n-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(a<=s&&a>r&&(r=a,o=e.x<e.next.x?e:e.next,a===s))return o}e=e.next}while(e!==t);if(!o)return null;var c=o,h=o.x,l=o.y,u=1/0,m;e=o;do s>=e.x&&e.x>=h&&s!==e.x&&Ji(n<l?s:r,n,h,l,n<l?r:s,n,e.x,e.y)&&(m=Math.abs(n-e.y)/(s-e.x),$n(e,i)&&(m<u||m===u&&(e.x>o.x||e.x===o.x&&cf(o,e)))&&(o=e,u=m)),e=e.next;while(e!==c);return o}function cf(i,t){return ue(i.prev,i,t.prev)<0&&ue(t.next,i,i.next)<0}function lf(i,t,e,s){var n=i;do n.z===0&&(n.z=Ca(n.x,n.y,t,e,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==i);n.prevZ.nextZ=null,n.prevZ=null,hf(n)}function hf(i){var t,e,s,n,r,o,a,c,h=1;do{for(e=i,i=null,r=null,o=0;e;){for(o++,s=e,a=0,t=0;t<h&&(a++,s=s.nextZ,!!s);t++);for(c=h;a>0||c>0&&s;)a!==0&&(c===0||!s||e.z<=s.z)?(n=e,e=e.nextZ,a--):(n=s,s=s.nextZ,c--),r?r.nextZ=n:i=n,n.prevZ=r,r=n;e=s}r.nextZ=null,h*=2}while(o>1);return i}function Ca(i,t,e,s,n){return i=(i-e)*n|0,t=(t-s)*n|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i|t<<1}function uf(i){var t=i,e=i;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==i);return e}function Ji(i,t,e,s,n,r,o,a){return(n-o)*(t-a)>=(i-o)*(r-a)&&(i-o)*(s-a)>=(e-o)*(t-a)&&(e-o)*(r-a)>=(n-o)*(s-a)}function mf(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!df(i,t)&&($n(i,t)&&$n(t,i)&&_f(i,t)&&(ue(i.prev,i,t.prev)||ue(i,t.prev,t))||Wr(i,t)&&ue(i.prev,i,i.next)>0&&ue(t.prev,t,t.next)>0)}function ue(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function Wr(i,t){return i.x===t.x&&i.y===t.y}function K2(i,t,e,s){var n=_r(ue(i,t,e)),r=_r(ue(i,t,s)),o=_r(ue(e,s,i)),a=_r(ue(e,s,t));return!!(n!==r&&o!==a||n===0&&dr(i,e,t)||r===0&&dr(i,s,t)||o===0&&dr(e,i,s)||a===0&&dr(e,t,s))}function dr(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function _r(i){return i>0?1:i<0?-1:0}function df(i,t){var e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&K2(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}function $n(i,t){return ue(i.prev,i,i.next)<0?ue(i,t,i.next)>=0&&ue(i,i.prev,t)>=0:ue(i,t,i.prev)<0||ue(i,i.next,t)<0}function _f(i,t){var e=i,s=!1,n=(i.x+t.x)/2,r=(i.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&n<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(s=!s),e=e.next;while(e!==i);return s}function Q2(i,t){var e=new Sa(i.i,i.x,i.y),s=new Sa(t.i,t.x,t.y),n=i.next,r=t.prev;return i.next=t,t.prev=i,e.next=n,n.prev=e,s.next=e,e.prev=s,r.next=s,s.prev=r,s}function Rl(i,t,e,s){var n=new Sa(i,t,e);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function jn(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Sa(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ur.deviation=function(i,t,e,s){var n=t&&t.length,r=n?t[0]*e:i.length,o=Math.abs(Ba(i,0,r,e));if(n)for(var a=0,c=t.length;a<c;a++){var h=t[a]*e,l=a<c-1?t[a+1]*e:i.length;o-=Math.abs(Ba(i,h,l,e))}var u=0;for(a=0;a<s.length;a+=3){var m=s[a]*e,d=s[a+1]*e,f=s[a+2]*e;u+=Math.abs((i[m]-i[f])*(i[d+1]-i[m+1])-(i[m]-i[d])*(i[f+1]-i[m+1]))}return o===0&&u===0?0:Math.abs((u-o)/o)};function Ba(i,t,e,s){for(var n=0,r=t,o=e-s;r<e;r+=s)n+=(i[o]-i[r])*(i[r+1]+i[o+1]),o=r;return n}Ur.flatten=function(i){for(var t=i[0][0].length,e={vertices:[],holes:[],dimensions:t},s=0,n=0;n<i.length;n++){for(var r=0;r<i[n].length;r++)for(var o=0;o<t;o++)e.vertices.push(i[n][r][o]);n>0&&(s+=i[n-1].length,e.holes.push(s))}return e};var ff=yc.exports;const pf=mc(ff);var tu=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(tu||{});class bf{constructor(t){this.items=[],this._name=t}emit(t,e,s,n,r,o,a,c){const{name:h,items:l}=this;for(let u=0,m=l.length;u<m;u++)l[u][h](t,e,s,n,r,o,a,c);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const yf=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],eu=class su extends Cs{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...yf,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(t={}){const e=t.skipExtensionImports===!0?!0:t.manageImports===!1;await Z_(e),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)t={...this._systemsHash[s].constructor.defaultOptions,...t};t={...su.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(t);this._initOptions=t}render(t,e){let s=t;if(s instanceof Xe&&(s={container:s},e&&(Zt(Qt,"passing a second argument is deprecated, please use render options instead"),s.target=e.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor=this.background.colorRgba),s.clearColor){const n=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=n?s.clearColor:ve.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s)}resize(t,e,s){const n=this.view.resolution;this.view.resize(t,e,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==n&&this.runners.resolutionChange.emit(s)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=tu.ALL);const{clear:s,clearColor:n,target:r}=t;ve.shared.setValue(n??this.background.colorRgba),e.renderTarget.clear(r,s,ve.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new bf(e)})}_addSystems(t){let e;for(e in t){const s=t[e];this._addSystem(s.value,s.name)}}_addSystem(t,e){const s=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=s,this._systemsHash[e]=s;for(const n in this.runners)this.runners[n].add(s);return this}_addPipes(t,e){const s=e.reduce((n,r)=>(n[r.name]=r.value,n),{});t.forEach(n=>{const r=n.value,o=n.name,a=s[o];this.renderPipes[o]=new r(this,a?new a:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!K_())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};eu.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let iu=eu,fr;function gf(i){return fr!==void 0||(fr=(()=>{var e;const t={stencil:!0,failIfMajorPerformanceCaveat:i??iu.defaultOptions.failIfMajorPerformanceCaveat};try{if(!de.get().getWebGLRenderingContext())return!1;let n=de.get().createCanvas().getContext("webgl",t);const r=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,r}catch{return!1}})()),fr}let pr;async function xf(i={}){return pr!==void 0||(pr=await(async()=>{const t=de.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),pr}const Fl=["webgl","webgpu","canvas"];async function vf(i){let t=[];i.preference?(t.push(i.preference),Fl.forEach(r=>{r!==i.preference&&t.push(r)})):t=Fl.slice();let e,s={};for(let r=0;r<t.length;r++){const o=t[r];if(o==="webgpu"&&await xf()){const{WebGPURenderer:a}=await Mr(async()=>{const{WebGPURenderer:c}=await import("./WebGPURenderer.DY2YmOHw.js");return{WebGPURenderer:c}},__vite__mapDeps([3,2,4]),import.meta.url);e=a,s={...i,...i.webgpu};break}else if(o==="webgl"&&gf(i.failIfMajorPerformanceCaveat??iu.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await Mr(async()=>{const{WebGLRenderer:c}=await import("./WebGLRenderer.BJUhsJjs.js");return{WebGLRenderer:c}},__vite__mapDeps([5,2,4]),import.meta.url);e=a,s={...i,...i.webgl};break}else if(o==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!e)throw new Error("No available renderer for the current environment");const n=new e;return await n.init(s),n}const nu="8.5.2";class ru{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,nu)}static destroy(){}}ru.extension=wt.Application;class Af{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,nu)}destroy(){this._renderer=null}}Af.extension={type:[wt.WebGLSystem,wt.WebGPUSystem],name:"initHook",priority:-10};const ou=class Va{constructor(...t){this.stage=new Xe,t[0]!==void 0&&Zt(Qt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await vf(t),Va._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Zt(Qt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const s=Va._plugins.slice(0);s.reverse(),s.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};ou._plugins=[];let au=ou;Fe.handleByList(wt.Application,au._plugins);Fe.add(ru);class cu extends Cs{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Zt(Qt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Zt(Qt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Zt(Qt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Zt(Qt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Zt(Qt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){var e;this.emit("destroy",this),this.removeAllListeners();for(const s in this.chars)(e=this.chars[s].texture)==null||e.destroy();this.chars=null,t&&(this.pages.forEach(s=>s.texture.destroy(!0)),this.pages=null)}}const lu=class Ma{constructor(t,e,s,n){this.uid=Se("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=t,this.y0=e,this.x1=s,this.y1=n}addColorStop(t,e){return this.gradientStops.push({offset:t,color:ve.shared.setValue(e).toHexa()}),this._styleKey=null,this}buildLinearGradient(){const t=Ma.defaultTextureSize,{gradientStops:e}=this,s=de.get().createCanvas();s.width=t,s.height=t;const n=s.getContext("2d"),r=n.createLinearGradient(0,0,Ma.defaultTextureSize,1);for(let p=0;p<e.length;p++){const y=e[p];r.addColorStop(y.offset,y.color)}n.fillStyle=r,n.fillRect(0,0,t,t),this.texture=new Jt({source:new an({resource:s,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:o,y0:a,x1:c,y1:h}=this,l=new Yt,u=c-o,m=h-a,d=Math.sqrt(u*u+m*m),f=Math.atan2(m,u);l.translate(-o,-a),l.scale(1/t,1/t),l.rotate(-f),l.scale(256/d,1),this.transform=l,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const t=this.gradientStops.map(n=>`${n.offset}-${n.color}`).join("-"),e=this.texture.uid,s=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${t}-${e}-${s}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};lu.defaultTextureSize=256;let Nn=lu;const zl={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Jr{constructor(t,e){this.uid=Se("fillPattern"),this.transform=new Yt,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=zl[e].addressModeU,t.source.style.addressModeV=zl[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var wf=Sf,jo={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Cf=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Sf(i){var t=[];return i.replace(Cf,function(e,s,n){var r=s.toLowerCase();for(n=Vf(n),r=="m"&&n.length>2&&(t.push([s].concat(n.splice(0,2))),r="l",s=s=="m"?"l":"L");;){if(n.length==jo[r])return n.unshift(s),t.push(n);if(n.length<jo[r])throw new Error("malformed path data");t.push([s].concat(n.splice(0,jo[r])))}}),t}var Bf=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function Vf(i){var t=i.match(Bf);return t?t.map(Number):[]}const Mf=mc(wf);function Pf(i,t){const e=Mf(i),s=[];let n=null,r=0,o=0;for(let a=0;a<e.length;a++){const c=e[a],h=c[0],l=c;switch(h){case"M":r=l[1],o=l[2],t.moveTo(r,o);break;case"m":r+=l[1],o+=l[2],t.moveTo(r,o);break;case"H":r=l[1],t.lineTo(r,o);break;case"h":r+=l[1],t.lineTo(r,o);break;case"V":o=l[1],t.lineTo(r,o);break;case"v":o+=l[1],t.lineTo(r,o);break;case"L":r=l[1],o=l[2],t.lineTo(r,o);break;case"l":r+=l[1],o+=l[2],t.lineTo(r,o);break;case"C":r=l[5],o=l[6],t.bezierCurveTo(l[1],l[2],l[3],l[4],r,o);break;case"c":t.bezierCurveTo(r+l[1],o+l[2],r+l[3],o+l[4],r+l[5],o+l[6]),r+=l[5],o+=l[6];break;case"S":r=l[3],o=l[4],t.bezierCurveToShort(l[1],l[2],r,o);break;case"s":t.bezierCurveToShort(r+l[1],o+l[2],r+l[3],o+l[4]),r+=l[3],o+=l[4];break;case"Q":r=l[3],o=l[4],t.quadraticCurveTo(l[1],l[2],r,o);break;case"q":t.quadraticCurveTo(r+l[1],o+l[2],r+l[3],o+l[4]),r+=l[3],o+=l[4];break;case"T":r=l[1],o=l[2],t.quadraticCurveToShort(r,o);break;case"t":r+=l[1],o+=l[2],t.quadraticCurveToShort(r,o);break;case"A":r=l[6],o=l[7],t.arcToSvg(l[1],l[2],l[3],l[4],l[5],r,o);break;case"a":r+=l[6],o+=l[7],t.arcToSvg(l[1],l[2],l[3],l[4],l[5],r,o);break;case"Z":case"z":t.closePath(),s.length>0&&(n=s.pop(),n?(r=n.startX,o=n.startY):(r=0,o=0)),n=null;break;default:Ae(`Unknown SVG path command: ${h}`)}h!=="Z"&&h!=="z"&&n===null&&(n={startX:r,startY:o},s.push(n))}return t}class gc{constructor(t=0,e=0,s=0){this.type="circle",this.x=t,this.y=e,this.radius=s}clone(){return new gc(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const s=this.radius*this.radius;let n=this.x-t,r=this.y-e;return n*=n,r*=r,n+r<=s}strokeContains(t,e,s){if(this.radius===0)return!1;const n=this.x-t,r=this.y-e,o=this.radius,a=s/2,c=Math.sqrt(n*n+r*r);return c<o+a&&c>o-a}getBounds(t){return t=t||new xe,t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class xc{constructor(t=0,e=0,s=0,n=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=s,this.halfHeight=n}clone(){return new xc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(t-this.x)/this.halfWidth,n=(e-this.y)/this.halfHeight;return s*=s,n*=n,s+n<=1}strokeContains(t,e,s){const{halfWidth:n,halfHeight:r}=this;if(n<=0||r<=0)return!1;const o=s/2,a=n-o,c=r-o,h=n+o,l=r+o,u=t-this.x,m=e-this.y,d=u*u/(a*a)+m*m/(c*c),f=u*u/(h*h)+m*m/(l*l);return d>1&&f<=1}getBounds(t){return t=t||new xe,t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function If(i,t,e,s,n,r){const o=i-e,a=t-s,c=n-e,h=r-s,l=o*c+a*h,u=c*c+h*h;let m=-1;u!==0&&(m=l/u);let d,f;m<0?(d=e,f=s):m>1?(d=n,f=r):(d=e+m*c,f=s+m*h);const p=i-d,y=t-f;return p*p+y*y}class Vn{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const s=[];for(let n=0,r=e.length;n<r;n++)s.push(e[n].x,e[n].y);e=s}this.points=e,this.closePath=!0}clone(){const t=this.points.slice(),e=new Vn(t);return e.closePath=this.closePath,e}contains(t,e){let s=!1;const n=this.points.length/2;for(let r=0,o=n-1;r<n;o=r++){const a=this.points[r*2],c=this.points[r*2+1],h=this.points[o*2],l=this.points[o*2+1];c>e!=l>e&&t<(h-a)*((e-c)/(l-c))+a&&(s=!s)}return s}strokeContains(t,e,s){const n=s/2,r=n*n,{points:o}=this,a=o.length-(this.closePath?0:2);for(let c=0;c<a;c+=2){const h=o[c],l=o[c+1],u=o[(c+2)%o.length],m=o[(c+3)%o.length];if(If(t,e,h,l,u,m)<=r)return!0}return!1}getBounds(t){t=t||new xe;const e=this.points;let s=1/0,n=-1/0,r=1/0,o=-1/0;for(let a=0,c=e.length;a<c;a+=2){const h=e[a],l=e[a+1];s=h<s?h:s,n=h>n?h:n,r=l<r?l:r,o=l>o?l:o}return t.x=s,t.width=n-s,t.y=r,t.height=o-r,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const br=(i,t,e,s,n,r)=>{const o=i-e,a=t-s,c=Math.sqrt(o*o+a*a);return c>=n-r&&c<=n+r};class vc{constructor(t=0,e=0,s=0,n=0,r=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=s,this.height=n,this.radius=r}getBounds(t){return t=t||new xe,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new vc(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+s&&e<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let n=t-(this.x+s),r=e-(this.y+s);const o=s*s;if(n*n+r*r<=o||(n=t-(this.x+this.width-s),n*n+r*r<=o)||(r=e-(this.y+this.height-s),n*n+r*r<=o)||(n=t-(this.x+s),n*n+r*r<=o))return!0}return!1}strokeContains(t,e,s){const{x:n,y:r,width:o,height:a,radius:c}=this,h=s/2,l=n+c,u=r+c,m=o-c*2,d=a-c*2,f=n+o,p=r+a;return(t>=n-h&&t<=n+h||t>=f-h&&t<=f+h)&&e>=u&&e<=u+d||(e>=r-h&&e<=r+h||e>=p-h&&e<=p+h)&&t>=l&&t<=l+m?!0:t<l&&e<u&&br(t,e,l,u,c,h)||t>f-c&&e<u&&br(t,e,f-c,u,c,h)||t>f-c&&e>p-c&&br(t,e,f-c,p-c,c,h)||t<l&&e>p-c&&br(t,e,l,p-c,c,h)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Tf=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function kf(i){let t="";for(let e=0;e<i;++e)e>0&&(t+=`
else `),e<i-1&&(t+=`if(test == ${e}.0){}`);return t}function Ef(i,t){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=Tf.replace(/%forloop%/gi,kf(i));if(t.shaderSource(e,s),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))i=i/2|0;else break}}finally{t.deleteShader(e)}return i}let Oi=null;function hu(){var t;if(Oi)return Oi;const i=q2();return Oi=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Oi=Ef(Oi,i),(t=i.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Oi}const uu={};function Df(i,t){let e=2166136261;for(let s=0;s<t;s++)e^=i[s].uid,e=Math.imul(e,16777619),e>>>=0;return uu[e]||Lf(i,t,e)}let No=0;function Lf(i,t,e){const s={};let n=0;No||(No=hu());for(let o=0;o<No;o++){const a=o<t?i[o]:Jt.EMPTY.source;s[n++]=a.source,s[n++]=a.style}const r=new Sr(s);return uu[e]=r,r}class Ol{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function $l(i,t){const e=i.byteLength/8|0,s=new Float64Array(i,0,e);new Float64Array(t,0,e).set(s);const r=i.byteLength-e*8;if(r>0){const o=new Uint8Array(i,e*8,r);new Uint8Array(t,e*8,r).set(o)}}const Gf={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Rf=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(Rf||{});function jl(i,t){return t.alphaMode==="no-premultiply-alpha"&&Gf[i]||i}class Ff{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class zf{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Ff,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const mu=[];let Pa=0;function Nl(){return Pa>0?mu[--Pa]:new zf}function ql(i){mu[Pa++]=i}let dn=0;const du=class Br{constructor(t={}){this.uid=Se("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Br.defaultOptions.maxTextures=Br.defaultOptions.maxTextures??hu(),t={...Br.defaultOptions,...t};const{maxTextures:e,attributesInitialSize:s,indicesInitialSize:n}=t;this.attributeBuffer=new Ol(s*4),this.indexBuffer=new Uint16Array(n),this.maxTextures=e}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)ql(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const s=t._batch.textures.ids[e._source.uid];return!s&&s!==0?!1:(t._textureId=s,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let s=Nl(),n=s.textures;n.clear();const r=e[this.elementStart];let o=jl(r.blendMode,r.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const a=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,h=this.indexBuffer;let l=this._batchIndexSize,u=this._batchIndexStart,m="startBatch";const d=this.maxTextures;for(let f=this.elementStart;f<this.elementSize;++f){const p=e[f];e[f]=null;const x=p.texture._source,_=jl(p.blendMode,x),b=o!==_;if(x._batchTick===dn&&!b){p._textureId=x._textureBindLocation,l+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,a,c,p._attributeStart,p._textureId),this.packQuadIndex(h,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,a,c,p._attributeStart,p._textureId),this.packIndex(p,h,p._indexStart,p._attributeStart/this.vertexSize)),p._batch=s;continue}x._batchTick=dn,(n.count>=d||b)&&(this._finishBatch(s,u,l-u,n,o,t,m),m="renderBatch",u=l,o=_,s=Nl(),n=s.textures,n.clear(),++dn),p._textureId=x._textureBindLocation=n.count,n.ids[x.uid]=n.count,n.textures[n.count++]=x,p._batch=s,l+=p.indexSize,p.packAsQuad?(this.packQuadAttributes(p,a,c,p._attributeStart,p._textureId),this.packQuadIndex(h,p._indexStart,p._attributeStart/this.vertexSize)):(this.packAttributes(p,a,c,p._attributeStart,p._textureId),this.packIndex(p,h,p._indexStart,p._attributeStart/this.vertexSize))}n.count>0&&(this._finishBatch(s,u,l-u,n,o,t,m),u=l,++dn),this.elementStart=this.elementSize,this._batchIndexStart=u,this._batchIndexSize=l}_finishBatch(t,e,s,n,r,o,a){t.gpuBindGroup=null,t.bindGroup=null,t.action=a,t.batcher=this,t.textures=n,t.blendMode=r,t.start=e,t.size=s,++dn,this.batches[this.batchIndex++]=t,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),s=new Ol(e);$l(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(t){const e=this.indexBuffer;let s=Math.max(t,e.length*1.5);s+=s%2;const n=s>65535?new Uint32Array(s):new Uint16Array(s);if(n.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let r=0;r<e.length;r++)n[r]=e[r];else $l(e.buffer,n.buffer);this.indexBuffer=n}packQuadIndex(t,e,s){t[e]=s+0,t[e+1]=s+1,t[e+2]=s+2,t[e+3]=s+0,t[e+4]=s+2,t[e+5]=s+3}packIndex(t,e,s,n){const r=t.indices,o=t.indexSize,a=t.indexOffset,c=t.attributeOffset;for(let h=0;h<o;h++)e[s++]=n+r[h+a]-c}destroy(){for(let t=0;t<this.batches.length;t++)ql(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};du.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Of=du;var Ne=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(Ne||{});class qn extends Cs{constructor(t){let{data:e,size:s}=t;const{usage:n,label:r,shrinkToFit:o}=t;super(),this.uid=Se("buffer"),this._resourceType="buffer",this._resourceId=Se("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,s=s??(e==null?void 0:e.byteLength);const a=!!e;this.descriptor={size:s,usage:n,mappedAtCreation:a,label:r},this.shrinkToFit=o??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get static(){return!!(this.descriptor.usage&Ne.STATIC)}set static(t){t?this.descriptor.usage|=Ne.STATIC:this.descriptor.usage&=~Ne.STATIC}setDataWithSize(t,e,s){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){s&&this.emit("update",this);return}const n=this._data;if(this._data=t,n.length!==t.length){!this.shrinkToFit&&t.byteLength<n.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Se("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function _u(i,t){if(!(i instanceof qn)){let e=t?Ne.INDEX:Ne.VERTEX;i instanceof Array&&(t?(i=new Uint32Array(i),e=Ne.INDEX|Ne.COPY_DST):(i=new Float32Array(i),e=Ne.VERTEX|Ne.COPY_DST)),i=new qn({data:i,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return i}function $f(i,t,e){const s=i.getAttribute(t);if(!s)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const n=s.buffer.data;let r=1/0,o=1/0,a=-1/0,c=-1/0;const h=n.BYTES_PER_ELEMENT,l=(s.offset||0)/h,u=(s.stride||2*4)/h;for(let m=l;m<n.length;m+=u){const d=n[m],f=n[m+1];d>a&&(a=d),f>c&&(c=f),d<r&&(r=d),f<o&&(o=f)}return e.minX=r,e.minY=o,e.maxX=a,e.maxY=c,e}function jf(i){return(i instanceof qn||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=_u(i.buffer,!1),i}class Nf extends Cs{constructor(t={}){super(),this.uid=Se("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Ds,this._boundsDirty=!0;const{attributes:e,indexBuffer:s,topology:n}=t;if(this.buffers=[],this.attributes={},e)for(const r in e)this.addAttribute(r,e[r]);this.instanceCount=t.instanceCount||1,s&&this.addIndex(s),this.topology=n||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const s=jf(e);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=s}addIndex(t){this.indexBuffer=_u(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,$f(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(e=>e.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const qf=new Float32Array(1),Hf=new Uint32Array(1);class Uf extends Nf{constructor(){const e=new qn({data:qf,label:"attribute-batch-buffer",usage:Ne.VERTEX|Ne.COPY_DST,shrinkToFit:!1}),s=new qn({data:Hf,label:"index-batch-buffer",usage:Ne.INDEX|Ne.COPY_DST,shrinkToFit:!1}),n=6*4;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:n,offset:0},aUV:{buffer:e,format:"float32x2",stride:n,offset:2*4},aColor:{buffer:e,format:"unorm8x4",stride:n,offset:4*4},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:n,offset:5*4}},indexBuffer:s})}}function Hl(i,t,e){if(i)for(const s in i){const n=s.toLocaleLowerCase(),r=t[n];if(r){let o=i[s];s==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&r.push(`//----${e}----//`),r.push(o)}else Ae(`${s} placement hook does not exist in shader`)}}const Wf=/\{\{(.*?)\}\}/g;function Ul(i){var s;const t={};return(((s=i.match(Wf))==null?void 0:s.map(n=>n.replace(/[{()}]/g,"")))??[]).forEach(n=>{t[n]=[]}),t}function Wl(i,t){let e;const s=/@in\s+([^;]+);/g;for(;(e=s.exec(i))!==null;)t.push(e[1])}function Jl(i,t,e=!1){const s=[];Wl(t,s),i.forEach(a=>{a.header&&Wl(a.header,s)});const n=s;e&&n.sort();const r=n.map((a,c)=>`       @location(${c}) ${a},`).join(`
`);let o=t.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${r}
`),o}function Xl(i,t){let e;const s=/@out\s+([^;]+);/g;for(;(e=s.exec(i))!==null;)t.push(e[1])}function Jf(i){const e=/\b(\w+)\s*:/g.exec(i);return e?e[1]:""}function Xf(i){const t=/@.*?\s+/g;return i.replace(t,"")}function Yf(i,t){const e=[];Xl(t,e),i.forEach(c=>{c.header&&Xl(c.header,e)});let s=0;const n=e.sort().map(c=>c.indexOf("builtin")>-1?c:`@location(${s++}) ${c}`).join(`,
`),r=e.sort().map(c=>`       var ${Xf(c)};`).join(`
`),o=`return VSOutput(
                ${e.sort().map(c=>` ${Jf(c)}`).join(`,
`)});`;let a=t.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${n}
`),a=a.replace("{{start}}",`
${r}
`),a=a.replace("{{return}}",`
${o}
`),a}function Yl(i,t){let e=i;for(const s in t){const n=t[s];n.join(`
`).length?e=e.replace(`{{${s}}}`,`//-----${s} START-----//
${n.join(`
`)}
//----${s} FINISH----//`):e=e.replace(`{{${s}}}`,"")}return e}const ni=Object.create(null),qo=new Map;let Zf=0;function Kf({template:i,bits:t}){const e=fu(i,t);if(ni[e])return ni[e];const{vertex:s,fragment:n}=tp(i,t);return ni[e]=pu(s,n,t),ni[e]}function Qf({template:i,bits:t}){const e=fu(i,t);return ni[e]||(ni[e]=pu(i.vertex,i.fragment,t)),ni[e]}function tp(i,t){const e=t.map(o=>o.vertex).filter(o=>!!o),s=t.map(o=>o.fragment).filter(o=>!!o);let n=Jl(e,i.vertex,!0);n=Yf(e,n);const r=Jl(s,i.fragment,!0);return{vertex:n,fragment:r}}function fu(i,t){return t.map(e=>(qo.has(e)||qo.set(e,Zf++),qo.get(e))).sort((e,s)=>e-s).join("-")+i.vertex+i.fragment}function pu(i,t,e){const s=Ul(i),n=Ul(t);return e.forEach(r=>{Hl(r.vertex,s,r.name),Hl(r.fragment,n,r.name)}),{vertex:Yl(i,s),fragment:Yl(t,n)}}const ep=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,sp=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,ip=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,np=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,rp={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},op={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function ap({bits:i,name:t}){const e=Kf({template:{fragment:sp,vertex:ep},bits:[rp,...i]});return Hr.from({name:t,vertex:{source:e.vertex,entryPoint:"main"},fragment:{source:e.fragment,entryPoint:"main"}})}function cp({bits:i,name:t}){return new U2({name:t,...Qf({template:{vertex:ip,fragment:np},bits:[op,...i]})})}const lp={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},hp={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Ho={};function up(i){const t=[];if(i===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let s=0;s<i;s++)t.push(`@group(1) @binding(${e++}) var textureSource${s+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${e++}) var textureSampler${s+1}: sampler;`)}return t.join(`
`)}function mp(i){const t=[];if(i===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let e=0;e<i;e++)e===i-1?t.push("  default:{"):t.push(`  case ${e}:{`),t.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function dp(i){return Ho[i]||(Ho[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${up(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${mp(i)}
            `}}),Ho[i]}const Uo={};function _p(i){const t=[];for(let e=0;e<i;e++)e>0&&t.push("else"),e<i-1&&t.push(`if(vTextureId < ${e}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${e}], vUV);`),t.push("}");return t.join(`
`)}function fp(i){return Uo[i]||(Uo[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${_p(i)}
            `}}),Uo[i]}const pp={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},bp={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Zl={};function yp(i){let t=Zl[i];if(t)return t;const e=new Int32Array(i);for(let s=0;s<i;s++)e[s]=s;return t=Zl[i]=new Y2({uTextures:{value:e,type:"i32",size:i}},{isStatic:!0}),t}class gp extends bc{constructor(t){const e=cp({name:"batch",bits:[hp,fp(t),bp]}),s=ap({name:"batch",bits:[lp,dp(t),pp]});super({glProgram:e,gpuProgram:s,resources:{batchSamplers:yp(t)}})}}let Kl=null;const bu=class yu extends Of{constructor(){super(...arguments),this.geometry=new Uf,this.shader=Kl||(Kl=new gp(this.maxTextures)),this.name=yu.extension.name,this.vertexSize=6}packAttributes(t,e,s,n,r){const o=r<<16|t.roundPixels&65535,a=t.transform,c=a.a,h=a.b,l=a.c,u=a.d,m=a.tx,d=a.ty,{positions:f,uvs:p}=t,y=t.color,x=t.attributeOffset,_=x+t.attributeSize;for(let b=x;b<_;b++){const g=b*2,A=f[g],B=f[g+1];e[n++]=c*A+l*B+m,e[n++]=u*B+h*A+d,e[n++]=p[g],e[n++]=p[g+1],s[n++]=y,s[n++]=o}}packQuadAttributes(t,e,s,n,r){const o=t.texture,a=t.transform,c=a.a,h=a.b,l=a.c,u=a.d,m=a.tx,d=a.ty,f=t.bounds,p=f.maxX,y=f.minX,x=f.maxY,_=f.minY,b=o.uvs,g=t.color,A=r<<16|t.roundPixels&65535;e[n+0]=c*y+l*_+m,e[n+1]=u*_+h*y+d,e[n+2]=b.x0,e[n+3]=b.y0,s[n+4]=g,s[n+5]=A,e[n+6]=c*p+l*_+m,e[n+7]=u*_+h*p+d,e[n+8]=b.x1,e[n+9]=b.y1,s[n+10]=g,s[n+11]=A,e[n+12]=c*p+l*x+m,e[n+13]=u*x+h*p+d,e[n+14]=b.x2,e[n+15]=b.y2,s[n+16]=g,s[n+17]=A,e[n+18]=c*y+l*x+m,e[n+19]=u*x+h*y+d,e[n+20]=b.x3,e[n+21]=b.y3,s[n+22]=g,s[n+23]=A}};bu.extension={type:[wt.Batcher],name:"default"};let xp=bu;function vp(i,t,e,s,n,r,o,a=null){let c=0;e*=t,n*=r;const h=a.a,l=a.b,u=a.c,m=a.d,d=a.tx,f=a.ty;for(;c<o;){const p=i[e],y=i[e+1];s[n]=h*p+u*y+d,s[n+1]=l*p+m*y+f,n+=r,e+=t,c++}}function Ap(i,t,e,s){let n=0;for(t*=e;n<s;)i[t]=0,i[t+1]=0,t+=e,n++}function gu(i,t,e,s,n){const r=t.a,o=t.b,a=t.c,c=t.d,h=t.tx,l=t.ty;e=e||0,s=s||2,n=n||i.length/s-e;let u=e*s;for(let m=0;m<n;m++){const d=i[u],f=i[u+1];i[u]=r*d+a*f+h,i[u+1]=o*d+c*f+l,u+=s}}function wp(i,t){if(i===16777215||!t)return t;if(t===16777215||!i)return i;const e=i>>16&255,s=i>>8&255,n=i&255,r=t>>16&255,o=t>>8&255,a=t&255,c=e*r/255,h=s*o/255,l=n*a/255;return(c<<16)+(h<<8)+l}const Cp=new Yt;class xu{constructor(){this.packAsQuad=!1,this.batcherName="default",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|t&65280|(t&255)<<16,s=this.renderable;return s?wp(e,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):e+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||Cp}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData}reset(){this.applyTransform=!0,this.renderable=null}}const Hn={extension:{type:wt.ShapeBuilder,name:"circle"},build(i,t){let e,s,n,r,o,a;if(i.type==="circle"){const g=i;e=g.x,s=g.y,o=a=g.radius,n=r=0}else if(i.type==="ellipse"){const g=i;e=g.x,s=g.y,o=g.halfWidth,a=g.halfHeight,n=r=0}else{const g=i,A=g.width/2,B=g.height/2;e=g.x+A,s=g.y+B,o=a=Math.max(0,Math.min(g.radius,Math.min(A,B))),n=A-o,r=B-a}if(!(o>=0&&a>=0&&n>=0&&r>=0))return t;const c=Math.ceil(2.3*Math.sqrt(o+a)),h=c*8+(n?4:0)+(r?4:0);if(h===0)return t;if(c===0)return t[0]=t[6]=e+n,t[1]=t[3]=s+r,t[2]=t[4]=e-n,t[5]=t[7]=s-r,t;let l=0,u=c*4+(n?2:0)+2,m=u,d=h,f=n+o,p=r,y=e+f,x=e-f,_=s+p;if(t[l++]=y,t[l++]=_,t[--u]=_,t[--u]=x,r){const g=s-p;t[m++]=x,t[m++]=g,t[--d]=g,t[--d]=y}for(let g=1;g<c;g++){const A=Math.PI/2*(g/c),B=n+Math.cos(A)*o,w=r+Math.sin(A)*a,P=e+B,V=e-B,S=s+w,D=s-w;t[l++]=P,t[l++]=S,t[--u]=S,t[--u]=V,t[m++]=V,t[m++]=D,t[--d]=D,t[--d]=P}f=n,p=r+a,y=e+f,x=e-f,_=s+p;const b=s-p;return t[l++]=y,t[l++]=_,t[--d]=b,t[--d]=y,n&&(t[l++]=x,t[l++]=_,t[--d]=b,t[--d]=x),t},triangulate(i,t,e,s,n,r){if(i.length===0)return;let o=0,a=0;for(let l=0;l<i.length;l+=2)o+=i[l],a+=i[l+1];o/=i.length/2,a/=i.length/2;let c=s;t[c*e]=o,t[c*e+1]=a;const h=c++;for(let l=0;l<i.length;l+=2)t[c*e]=i[l],t[c*e+1]=i[l+1],l>0&&(n[r++]=c,n[r++]=h,n[r++]=c-1),c++;n[r++]=h+1,n[r++]=h,n[r++]=c-1}},Sp={...Hn,extension:{...Hn.extension,name:"ellipse"}},Bp={...Hn,extension:{...Hn.extension,name:"roundedRectangle"}},Vp=1e-4,Ql=1e-4;function Mp(i){const t=i.length;if(t<6)return 1;let e=0;for(let s=0,n=i[t-2],r=i[t-1];s<t;s+=2){const o=i[s],a=i[s+1];e+=(o-n)*(a+r),n=o,r=a}return e<0?-1:1}function th(i,t,e,s,n,r,o,a){const c=i-e*n,h=t-s*n,l=i+e*r,u=t+s*r;let m,d;o?(m=s,d=-e):(m=-s,d=e);const f=c+m,p=h+d,y=l+m,x=u+d;return a.push(f,p),a.push(y,x),2}function mi(i,t,e,s,n,r,o,a){const c=e-i,h=s-t;let l=Math.atan2(c,h),u=Math.atan2(n-i,r-t);a&&l<u?l+=Math.PI*2:!a&&l>u&&(u+=Math.PI*2);let m=l;const d=u-l,f=Math.abs(d),p=Math.sqrt(c*c+h*h),y=(15*f*Math.sqrt(p)/Math.PI>>0)+1,x=d/y;if(m+=x,a){o.push(i,t),o.push(e,s);for(let _=1,b=m;_<y;_++,b+=x)o.push(i,t),o.push(i+Math.sin(b)*p,t+Math.cos(b)*p);o.push(i,t),o.push(n,r)}else{o.push(e,s),o.push(i,t);for(let _=1,b=m;_<y;_++,b+=x)o.push(i+Math.sin(b)*p,t+Math.cos(b)*p),o.push(i,t);o.push(n,r),o.push(i,t)}return y*2}function Pp(i,t,e,s,n,r,o,a,c){const h=Vp;if(i.length===0)return;const l=t;let u=l.alignment;if(t.alignment!==.5){let W=Mp(i);u=(u-.5)*W+.5}const m=new De(i[0],i[1]),d=new De(i[i.length-2],i[i.length-1]),f=s,p=Math.abs(m.x-d.x)<h&&Math.abs(m.y-d.y)<h;if(f){i=i.slice(),p&&(i.pop(),i.pop(),d.set(i[i.length-2],i[i.length-1]));const W=(m.x+d.x)*.5,ht=(d.y+m.y)*.5;i.unshift(W,ht),i.push(W,ht)}const y=n,x=i.length/2;let _=i.length;const b=y.length/2,g=l.width/2,A=g*g,B=l.miterLimit*l.miterLimit;let w=i[0],P=i[1],V=i[2],S=i[3],D=0,L=0,k=-(P-S),E=w-V,R=0,z=0,U=Math.sqrt(k*k+E*E);k/=U,E/=U,k*=g,E*=g;const at=u,N=(1-at)*2,j=at*2;f||(l.cap==="round"?_+=mi(w-k*(N-j)*.5,P-E*(N-j)*.5,w-k*N,P-E*N,w+k*j,P+E*j,y,!0)+2:l.cap==="square"&&(_+=th(w,P,k,E,N,j,!0,y))),y.push(w-k*N,P-E*N),y.push(w+k*j,P+E*j);for(let W=1;W<x-1;++W){w=i[(W-1)*2],P=i[(W-1)*2+1],V=i[W*2],S=i[W*2+1],D=i[(W+1)*2],L=i[(W+1)*2+1],k=-(P-S),E=w-V,U=Math.sqrt(k*k+E*E),k/=U,E/=U,k*=g,E*=g,R=-(S-L),z=V-D,U=Math.sqrt(R*R+z*z),R/=U,z/=U,R*=g,z*=g;const ht=V-w,xt=P-S,ut=V-D,Rt=L-S,dt=ht*ut+xt*Rt,lt=xt*ut-Rt*ht,it=lt<0;if(Math.abs(lt)<.001*Math.abs(dt)){y.push(V-k*N,S-E*N),y.push(V+k*j,S+E*j),dt>=0&&(l.join==="round"?_+=mi(V,S,V-k*N,S-E*N,V-R*N,S-z*N,y,!1)+4:_+=2,y.push(V-R*j,S-z*j),y.push(V+R*N,S+z*N));continue}const nt=(-k+w)*(-E+S)-(-k+V)*(-E+P),pt=(-R+D)*(-z+S)-(-R+V)*(-z+L),Q=(ht*pt-ut*nt)/lt,Ct=(Rt*nt-xt*pt)/lt,kt=(Q-V)*(Q-V)+(Ct-S)*(Ct-S),Pt=V+(Q-V)*N,St=S+(Ct-S)*N,Ot=V-(Q-V)*j,ne=S-(Ct-S)*j,_e=Math.min(ht*ht+xt*xt,ut*ut+Rt*Rt),ce=it?N:j,fe=_e+ce*ce*A;kt<=fe?l.join==="bevel"||kt/A>B?(it?(y.push(Pt,St),y.push(V+k*j,S+E*j),y.push(Pt,St),y.push(V+R*j,S+z*j)):(y.push(V-k*N,S-E*N),y.push(Ot,ne),y.push(V-R*N,S-z*N),y.push(Ot,ne)),_+=2):l.join==="round"?it?(y.push(Pt,St),y.push(V+k*j,S+E*j),_+=mi(V,S,V+k*j,S+E*j,V+R*j,S+z*j,y,!0)+4,y.push(Pt,St),y.push(V+R*j,S+z*j)):(y.push(V-k*N,S-E*N),y.push(Ot,ne),_+=mi(V,S,V-k*N,S-E*N,V-R*N,S-z*N,y,!1)+4,y.push(V-R*N,S-z*N),y.push(Ot,ne)):(y.push(Pt,St),y.push(Ot,ne)):(y.push(V-k*N,S-E*N),y.push(V+k*j,S+E*j),l.join==="round"?it?_+=mi(V,S,V+k*j,S+E*j,V+R*j,S+z*j,y,!0)+2:_+=mi(V,S,V-k*N,S-E*N,V-R*N,S-z*N,y,!1)+2:l.join==="miter"&&kt/A<=B&&(it?(y.push(Ot,ne),y.push(Ot,ne)):(y.push(Pt,St),y.push(Pt,St)),_+=2),y.push(V-R*N,S-z*N),y.push(V+R*j,S+z*j),_+=2)}w=i[(x-2)*2],P=i[(x-2)*2+1],V=i[(x-1)*2],S=i[(x-1)*2+1],k=-(P-S),E=w-V,U=Math.sqrt(k*k+E*E),k/=U,E/=U,k*=g,E*=g,y.push(V-k*N,S-E*N),y.push(V+k*j,S+E*j),f||(l.cap==="round"?_+=mi(V-k*(N-j)*.5,S-E*(N-j)*.5,V-k*N,S-E*N,V+k*j,S+E*j,y,!1)+2:l.cap==="square"&&(_+=th(V,S,k,E,N,j,!1,y)));const G=Ql*Ql;for(let W=b;W<_+b-2;++W)w=y[W*2],P=y[W*2+1],V=y[(W+1)*2],S=y[(W+1)*2+1],D=y[(W+2)*2],L=y[(W+2)*2+1],!(Math.abs(w*(S-L)+V*(L-P)+D*(P-S))<G)&&a.push(W,W+1,W+2)}function vu(i,t,e,s,n,r,o){const a=pf(i,t,2);if(!a)return;for(let h=0;h<a.length;h+=3)r[o++]=a[h]+n,r[o++]=a[h+1]+n,r[o++]=a[h+2]+n;let c=n*s;for(let h=0;h<i.length;h+=2)e[c]=i[h],e[c+1]=i[h+1],c+=s}const Ip=[],Tp={extension:{type:wt.ShapeBuilder,name:"polygon"},build(i,t){for(let e=0;e<i.points.length;e++)t[e]=i.points[e];return t},triangulate(i,t,e,s,n,r){vu(i,Ip,t,e,s,n,r)}},kp={extension:{type:wt.ShapeBuilder,name:"rectangle"},build(i,t){const e=i,s=e.x,n=e.y,r=e.width,o=e.height;return r>=0&&o>=0&&(t[0]=s,t[1]=n,t[2]=s+r,t[3]=n,t[4]=s+r,t[5]=n+o,t[6]=s,t[7]=n+o),t},triangulate(i,t,e,s,n,r){let o=0;s*=e,t[s+o]=i[0],t[s+o+1]=i[1],o+=e,t[s+o]=i[2],t[s+o+1]=i[3],o+=e,t[s+o]=i[6],t[s+o+1]=i[7],o+=e,t[s+o]=i[4],t[s+o+1]=i[5],o+=e;const a=s/e;n[r++]=a,n[r++]=a+1,n[r++]=a+2,n[r++]=a+1,n[r++]=a+3,n[r++]=a+2}},Ep={extension:{type:wt.ShapeBuilder,name:"triangle"},build(i,t){return t[0]=i.x,t[1]=i.y,t[2]=i.x2,t[3]=i.y2,t[4]=i.x3,t[5]=i.y3,t},triangulate(i,t,e,s,n,r){let o=0;s*=e,t[s+o]=i[0],t[s+o+1]=i[1],o+=e,t[s+o]=i[2],t[s+o+1]=i[3],o+=e,t[s+o]=i[4],t[s+o+1]=i[5];const a=s/e;n[r++]=a,n[r++]=a+1,n[r++]=a+2}},Xr={};Fe.handleByMap(wt.ShapeBuilder,Xr);Fe.add(kp,Tp,Ep,Hn,Sp,Bp);const Dp=new xe;function Lp(i,t){const{geometryData:e,batches:s}=t;s.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let n=0;n<i.instructions.length;n++){const r=i.instructions[n];if(r.action==="texture")Gp(r.data,s,e);else if(r.action==="fill"||r.action==="stroke"){const o=r.action==="stroke",a=r.data.path.shapePath,c=r.data.style,h=r.data.hole;o&&h&&eh(h.shapePath,c,null,!0,s,e),eh(a,c,h,o,s,e)}}}function Gp(i,t,e){const{vertices:s,uvs:n,indices:r}=e,o=r.length,a=s.length/2,c=[],h=Xr.rectangle,l=Dp,u=i.image;l.x=i.dx,l.y=i.dy,l.width=i.dw,l.height=i.dh;const m=i.transform;h.build(l,c),m&&gu(c,m),h.triangulate(c,s,2,a,r,o);const d=u.uvs;n.push(d.x0,d.y0,d.x1,d.y1,d.x3,d.y3,d.x2,d.y2);const f=Hs.get(xu);f.indexOffset=o,f.indexSize=r.length-o,f.attributeOffset=a,f.attributeSize=s.length/2-a,f.baseColor=i.style,f.alpha=i.alpha,f.texture=u,f.geometryData=e,t.push(f)}function eh(i,t,e,s,n,r){const{vertices:o,uvs:a,indices:c}=r,h=i.shapePrimitives.length-1;i.shapePrimitives.forEach(({shape:l,transform:u},m)=>{const d=c.length,f=o.length/2,p=[],y=Xr[l.type];if(y.build(l,p),u&&gu(p,u),s){const g=l.closePath??!0;Pp(p,t,!1,g,o,2,f,c)}else if(e&&h===m){h!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const g=[],A=p.slice();Rp(e.shapePath).forEach(w=>{g.push(A.length/2),A.push(...w)}),vu(A,g,o,2,f,c,d)}else y.triangulate(p,o,2,f,c,d);const x=a.length/2,_=t.texture;if(_!==Jt.WHITE){const g=t.matrix;g&&(u&&g.append(u.clone().invert()),vp(o,2,f,a,x,2,o.length/2-f,g))}else Ap(a,x,2,o.length/2-f);const b=Hs.get(xu);b.indexOffset=d,b.indexSize=c.length-d,b.attributeOffset=f,b.attributeSize=o.length/2-f,b.baseColor=t.color,b.alpha=t.alpha,b.texture=_,b.geometryData=r,n.push(b)})}function Rp(i){if(!i)return[];const t=i.shapePrimitives,e=[];for(let s=0;s<t.length;s++){const n=t[s].shape,r=[];Xr[n.type].build(n,r),e.push(r)}return e}class Fp{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class zp{constructor(){this.batcher=new xp,this.instructions=new P2}init(){this.instructions.reset()}get geometry(){return Zt(Hd,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Ac=class Ia{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Ia.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Ia.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),Lp(t,e);const s=t.batchMode;t.customShader||s==="no-batch"?e.isBatchable=!1:s==="auto"&&(e.isBatchable=e.geometryData.vertices.length<400),t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const e=Hs.get(zp),{batches:s,geometryData:n}=this._gpuContextHash[t.uid],r=n.vertices.length,o=n.indices.length;for(let l=0;l<s.length;l++)s[l].applyTransform=!1;const a=e.batcher;a.ensureAttributeBuffer(r),a.ensureIndexBuffer(o),a.begin();for(let l=0;l<s.length;l++){const u=s[l];a.add(u)}a.finish(e.instructions);const c=a.geometry;c.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),c.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const h=a.batches;for(let l=0;l<h.length;l++){const u=h[l];u.bindGroup=Df(u.textures.textures,u.textures.count)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new Fp;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(Hs.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(s=>{Hs.return(s)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Ac.extension={type:[wt.WebGLSystem,wt.WebGPUSystem,wt.CanvasSystem],name:"graphicsContext"};Ac.defaultOptions={bezierSmoothness:.5};let Au=Ac;const Op=8,yr=11920929e-14,$p=1;function wu(i,t,e,s,n,r,o,a,c,h){const u=Math.min(.99,Math.max(0,h??Au.defaultOptions.bezierSmoothness));let m=($p-u)/1;return m*=m,jp(t,e,s,n,r,o,a,c,i,m),i}function jp(i,t,e,s,n,r,o,a,c,h){Ta(i,t,e,s,n,r,o,a,c,h,0),c.push(o,a)}function Ta(i,t,e,s,n,r,o,a,c,h,l){if(l>Op)return;const u=(i+e)/2,m=(t+s)/2,d=(e+n)/2,f=(s+r)/2,p=(n+o)/2,y=(r+a)/2,x=(u+d)/2,_=(m+f)/2,b=(d+p)/2,g=(f+y)/2,A=(x+b)/2,B=(_+g)/2;if(l>0){let w=o-i,P=a-t;const V=Math.abs((e-o)*P-(s-a)*w),S=Math.abs((n-o)*P-(r-a)*w);if(V>yr&&S>yr){if((V+S)*(V+S)<=h*(w*w+P*P)){c.push(A,B);return}}else if(V>yr){if(V*V<=h*(w*w+P*P)){c.push(A,B);return}}else if(S>yr){if(S*S<=h*(w*w+P*P)){c.push(A,B);return}}else if(w=A-(i+o)/2,P=B-(t+a)/2,w*w+P*P<=h){c.push(A,B);return}}Ta(i,t,u,m,x,_,A,B,c,h,l+1),Ta(A,B,b,g,p,y,o,a,c,h,l+1)}const Np=8,qp=11920929e-14,Hp=1;function Up(i,t,e,s,n,r,o,a){const h=Math.min(.99,Math.max(0,a??Au.defaultOptions.bezierSmoothness));let l=(Hp-h)/1;return l*=l,Wp(t,e,s,n,r,o,i,l),i}function Wp(i,t,e,s,n,r,o,a){ka(o,i,t,e,s,n,r,a,0),o.push(n,r)}function ka(i,t,e,s,n,r,o,a,c){if(c>Np)return;const h=(t+s)/2,l=(e+n)/2,u=(s+r)/2,m=(n+o)/2,d=(h+u)/2,f=(l+m)/2;let p=r-t,y=o-e;const x=Math.abs((s-r)*y-(n-o)*p);if(x>qp){if(x*x<=a*(p*p+y*y)){i.push(d,f);return}}else if(p=d-(t+r)/2,y=f-(e+o)/2,p*p+y*y<=a){i.push(d,f);return}ka(i,t,e,h,l,d,f,a,c+1),ka(i,d,f,u,m,r,o,a,c+1)}function Cu(i,t,e,s,n,r,o,a){let c=Math.abs(n-r);(!o&&n>r||o&&r>n)&&(c=2*Math.PI-c),a=a||Math.max(6,Math.floor(6*Math.pow(s,1/3)*(c/Math.PI))),a=Math.max(a,3);let h=c/a,l=n;h*=o?-1:1;for(let u=0;u<a+1;u++){const m=Math.cos(l),d=Math.sin(l),f=t+m*s,p=e+d*s;i.push(f,p),l+=h}}function Jp(i,t,e,s,n,r){const o=i[i.length-2],c=i[i.length-1]-e,h=o-t,l=n-e,u=s-t,m=Math.abs(c*u-h*l);if(m<1e-8||r===0){(i[i.length-2]!==t||i[i.length-1]!==e)&&i.push(t,e);return}const d=c*c+h*h,f=l*l+u*u,p=c*l+h*u,y=r*Math.sqrt(d)/m,x=r*Math.sqrt(f)/m,_=y*p/d,b=x*p/f,g=y*u+x*h,A=y*l+x*c,B=h*(x+_),w=c*(x+_),P=u*(y+b),V=l*(y+b),S=Math.atan2(w-A,B-g),D=Math.atan2(V-A,P-g);Cu(i,g+t,A+e,r,S,D,h*l>u*c)}const Mn=Math.PI*2,Wo={centerX:0,centerY:0,ang1:0,ang2:0},Jo=({x:i,y:t},e,s,n,r,o,a,c)=>{i*=e,t*=s;const h=n*i-r*t,l=r*i+n*t;return c.x=h+o,c.y=l+a,c};function Xp(i,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),s=t===1.5707963267948966?.551915024494:e,n=Math.cos(i),r=Math.sin(i),o=Math.cos(i+t),a=Math.sin(i+t);return[{x:n-r*s,y:r+n*s},{x:o+a*s,y:a-o*s},{x:o,y:a}]}const sh=(i,t,e,s)=>{const n=i*s-t*e<0?-1:1;let r=i*e+t*s;return r>1&&(r=1),r<-1&&(r=-1),n*Math.acos(r)},Yp=(i,t,e,s,n,r,o,a,c,h,l,u,m)=>{const d=Math.pow(n,2),f=Math.pow(r,2),p=Math.pow(l,2),y=Math.pow(u,2);let x=d*f-d*y-f*p;x<0&&(x=0),x/=d*y+f*p,x=Math.sqrt(x)*(o===a?-1:1);const _=x*n/r*u,b=x*-r/n*l,g=h*_-c*b+(i+e)/2,A=c*_+h*b+(t+s)/2,B=(l-_)/n,w=(u-b)/r,P=(-l-_)/n,V=(-u-b)/r,S=sh(1,0,B,w);let D=sh(B,w,P,V);a===0&&D>0&&(D-=Mn),a===1&&D<0&&(D+=Mn),m.centerX=g,m.centerY=A,m.ang1=S,m.ang2=D};function Zp(i,t,e,s,n,r,o,a=0,c=0,h=0){if(r===0||o===0)return;const l=Math.sin(a*Mn/360),u=Math.cos(a*Mn/360),m=u*(t-s)/2+l*(e-n)/2,d=-l*(t-s)/2+u*(e-n)/2;if(m===0&&d===0)return;r=Math.abs(r),o=Math.abs(o);const f=Math.pow(m,2)/Math.pow(r,2)+Math.pow(d,2)/Math.pow(o,2);f>1&&(r*=Math.sqrt(f),o*=Math.sqrt(f)),Yp(t,e,s,n,r,o,c,h,l,u,m,d,Wo);let{ang1:p,ang2:y}=Wo;const{centerX:x,centerY:_}=Wo;let b=Math.abs(y)/(Mn/4);Math.abs(1-b)<1e-7&&(b=1);const g=Math.max(Math.ceil(b),1);y/=g;let A=i[i.length-2],B=i[i.length-1];const w={x:0,y:0};for(let P=0;P<g;P++){const V=Xp(p,y),{x:S,y:D}=Jo(V[0],r,o,u,l,x,_,w),{x:L,y:k}=Jo(V[1],r,o,u,l,x,_,w),{x:E,y:R}=Jo(V[2],r,o,u,l,x,_,w);wu(i,A,B,S,D,L,k,E,R),A=E,B=R,p+=y}}function Kp(i,t,e){const s=(o,a)=>{const c=a.x-o.x,h=a.y-o.y,l=Math.sqrt(c*c+h*h),u=c/l,m=h/l;return{len:l,nx:u,ny:m}},n=(o,a)=>{o===0?i.moveTo(a.x,a.y):i.lineTo(a.x,a.y)};let r=t[t.length-1];for(let o=0;o<t.length;o++){const a=t[o%t.length],c=a.radius??e;if(c<=0){n(o,a),r=a;continue}const h=t[(o+1)%t.length],l=s(a,r),u=s(a,h);if(l.len<1e-4||u.len<1e-4){n(o,a),r=a;continue}let m=Math.asin(l.nx*u.ny-l.ny*u.nx),d=1,f=!1;l.nx*u.nx-l.ny*-u.ny<0?m<0?m=Math.PI+m:(m=Math.PI-m,d=-1,f=!0):m>0&&(d=-1,f=!0);const p=m/2;let y,x=Math.abs(Math.cos(p)*c/Math.sin(p));x>Math.min(l.len/2,u.len/2)?(x=Math.min(l.len/2,u.len/2),y=Math.abs(x*Math.sin(p)/Math.cos(p))):y=c;const _=a.x+u.nx*x+-u.ny*y*d,b=a.y+u.ny*x+u.nx*y*d,g=Math.atan2(l.ny,l.nx)+Math.PI/2*d,A=Math.atan2(u.ny,u.nx)-Math.PI/2*d;o===0&&i.moveTo(_+Math.cos(g)*y,b+Math.sin(g)*y),i.arc(_,b,y,g,A,f),r=a}}function Qp(i,t,e,s){const n=(a,c)=>Math.sqrt((a.x-c.x)**2+(a.y-c.y)**2),r=(a,c,h)=>({x:a.x+(c.x-a.x)*h,y:a.y+(c.y-a.y)*h}),o=t.length;for(let a=0;a<o;a++){const c=t[(a+1)%o],h=c.radius??e;if(h<=0){a===0?i.moveTo(c.x,c.y):i.lineTo(c.x,c.y);continue}const l=t[a],u=t[(a+2)%o],m=n(l,c);let d;if(m<1e-4)d=c;else{const y=Math.min(m/2,h);d=r(c,l,y/m)}const f=n(u,c);let p;if(f<1e-4)p=c;else{const y=Math.min(f/2,h);p=r(c,u,y/f)}a===0?i.moveTo(d.x,d.y):i.lineTo(d.x,d.y),i.quadraticCurveTo(c.x,c.y,p.x,p.y,s)}}const t3=new xe;class e3{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Ds,this._graphicsPath2D=t}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const s=this._currentPoly.points,n=s[s.length-2],r=s[s.length-1];return(n!==t||r!==e)&&s.push(t,e),this}arc(t,e,s,n,r,o){this._ensurePoly(!1);const a=this._currentPoly.points;return Cu(a,t,e,s,n,r,o),this}arcTo(t,e,s,n,r){this._ensurePoly();const o=this._currentPoly.points;return Jp(o,t,e,s,n,r),this}arcToSvg(t,e,s,n,r,o,a){const c=this._currentPoly.points;return Zp(c,this._currentPoly.lastX,this._currentPoly.lastY,o,a,t,e,s,n,r),this}bezierCurveTo(t,e,s,n,r,o,a){this._ensurePoly();const c=this._currentPoly;return wu(this._currentPoly.points,c.lastX,c.lastY,t,e,s,n,r,o,a),this}quadraticCurveTo(t,e,s,n,r){this._ensurePoly();const o=this._currentPoly;return Up(this._currentPoly.points,o.lastX,o.lastY,t,e,s,n,r),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));for(let s=0;s<t.instructions.length;s++){const n=t.instructions[s];this[n.action](...n.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,e,s,n,r){return this.drawShape(new xe(t,e,s,n),r),this}circle(t,e,s,n){return this.drawShape(new gc(t,e,s),n),this}poly(t,e,s){const n=new Vn(t);return n.closePath=e,this.drawShape(n,s),this}regularPoly(t,e,s,n,r=0,o){n=Math.max(n|0,3);const a=-1*Math.PI/2+r,c=Math.PI*2/n,h=[];for(let l=0;l<n;l++){const u=l*c+a;h.push(t+s*Math.cos(u),e+s*Math.sin(u))}return this.poly(h,!0,o),this}roundPoly(t,e,s,n,r,o=0,a){if(n=Math.max(n|0,3),r<=0)return this.regularPoly(t,e,s,n,o);const c=s*Math.sin(Math.PI/n)-.001;r=Math.min(r,c);const h=-1*Math.PI/2+o,l=Math.PI*2/n,u=(n-2)*Math.PI/n/2;for(let m=0;m<n;m++){const d=m*l+h,f=t+s*Math.cos(d),p=e+s*Math.sin(d),y=d+Math.PI+u,x=d-Math.PI-u,_=f+r*Math.cos(y),b=p+r*Math.sin(y),g=f+r*Math.cos(x),A=p+r*Math.sin(x);m===0?this.moveTo(_,b):this.lineTo(_,b),this.quadraticCurveTo(f,p,g,A,a)}return this.closePath()}roundShape(t,e,s=!1,n){return t.length<3?this:(s?Qp(this,t,e,n):Kp(this,t,e),this.closePath())}filletRect(t,e,s,n,r){if(r===0)return this.rect(t,e,s,n);const o=Math.min(s,n)/2,a=Math.min(o,Math.max(-o,r)),c=t+s,h=e+n,l=a<0?-a:0,u=Math.abs(a);return this.moveTo(t,e+u).arcTo(t+l,e+l,t+u,e,u).lineTo(c-u,e).arcTo(c-l,e+l,c,e+u,u).lineTo(c,h-u).arcTo(c-l,h-l,t+s-u,h,u).lineTo(t+u,h).arcTo(t+l,h-l,t,h-u,u).closePath()}chamferRect(t,e,s,n,r,o){if(r<=0)return this.rect(t,e,s,n);const a=Math.min(r,Math.min(s,n)/2),c=t+s,h=e+n,l=[t+a,e,c-a,e,c,e+a,c,h-a,c-a,h,t+a,h,t,h-a,t,e+a];for(let u=l.length-1;u>=2;u-=2)l[u]===l[u-2]&&l[u-1]===l[u-3]&&l.splice(u-1,2);return this.poly(l,!0,o)}ellipse(t,e,s,n,r){return this.drawShape(new xc(t,e,s,n),r),this}roundRect(t,e,s,n,r,o){return this.drawShape(new vc(t,e,s,n,r),o),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let s=this._currentPoly;return s&&this.endPoly(),s=new Vn,s.points.push(t,e),this._currentPoly=s,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Vn,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let s=e.shape.x,n=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const r=e.transform,o=s;s=r.a*s+r.c*n+r.tx,n=r.b*o+r.d*n+r.ty}this._currentPoly.points.push(s,n)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const s=t.instructions[e];this[s.action](...s.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let s=0;s<e.length;s++){const n=e[s],r=n.shape.getBounds(t3);n.transform?t.addRect(r,n.transform):t.addRect(r)}return t}}class sn{constructor(t){this.instructions=[],this.uid=Se("graphicsPath"),this._dirty=!0,typeof t=="string"?Pf(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new e3(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,s,n,r){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(De.shared);let c=0,h=0;if(!o||o.action!=="bezierCurveTo")c=a.x,h=a.y;else{c=o.data[2],h=o.data[3];const l=a.x,u=a.y;c=l+(l-c),h=u+(u-h)}return this.instructions.push({action:"bezierCurveTo",data:[c,h,t,e,s,n,r]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,s){const n=this.instructions[this.instructions.length-1],r=this.getLastPoint(De.shared);let o=0,a=0;if(!n||n.action!=="quadraticCurveTo")o=r.x,a=r.y;else{o=n.data[0],a=n.data[1];const c=r.x,h=r.y;o=c+(c-o),a=h+(h-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,t,e,s]}),this._dirty=!0,this}rect(t,e,s,n,r){return this.instructions.push({action:"rect",data:[t,e,s,n,r]}),this._dirty=!0,this}circle(t,e,s,n){return this.instructions.push({action:"circle",data:[t,e,s,n]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,s,n,r,o,a){r=r||n/2;const c=-1*Math.PI/2+o,h=s*2,l=Math.PI*2/h,u=[];for(let m=0;m<h;m++){const d=m%2?r:n,f=m*l+c;u.push(t+d*Math.cos(f),e+d*Math.sin(f))}return this.poly(u,!0,a),this}clone(t=!1){const e=new sn;if(!t)e.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const n=this.instructions[s];e.instructions.push({action:n.action,data:n.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,s=t.b,n=t.c,r=t.d,o=t.tx,a=t.ty;let c=0,h=0,l=0,u=0,m=0,d=0,f=0,p=0;for(let y=0;y<this.instructions.length;y++){const x=this.instructions[y],_=x.data;switch(x.action){case"moveTo":case"lineTo":c=_[0],h=_[1],_[0]=e*c+n*h+o,_[1]=s*c+r*h+a;break;case"bezierCurveTo":l=_[0],u=_[1],m=_[2],d=_[3],c=_[4],h=_[5],_[0]=e*l+n*u+o,_[1]=s*l+r*u+a,_[2]=e*m+n*d+o,_[3]=s*m+r*d+a,_[4]=e*c+n*h+o,_[5]=s*c+r*h+a;break;case"quadraticCurveTo":l=_[0],u=_[1],c=_[2],h=_[3],_[0]=e*l+n*u+o,_[1]=s*l+r*u+a,_[2]=e*c+n*h+o,_[3]=s*c+r*h+a;break;case"arcToSvg":c=_[5],h=_[6],f=_[0],p=_[1],_[0]=e*f+n*p,_[1]=s*f+r*p,_[5]=e*c+n*h+o,_[6]=s*c+r*h+a;break;case"circle":_[4]=_n(_[3],t);break;case"rect":_[4]=_n(_[4],t);break;case"ellipse":_[8]=_n(_[8],t);break;case"roundRect":_[5]=_n(_[5],t);break;case"addPath":_[0].transform(t);break;case"poly":_[2]=_n(_[2],t);break;default:Ae("unknown transform action",x.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,s=this.instructions[e];if(!s)return t.x=0,t.y=0,t;for(;s.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;s=this.instructions[e]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t);break}return t}}function _n(i,t){return i?i.prepend(t):t.clone()}function s3(i,t){if(typeof i=="string"){const s=document.createElement("div");s.innerHTML=i.trim(),i=s.querySelector("svg")}const e={context:t,path:new sn};return Su(i,e,null,null),t}function Su(i,t,e,s){const n=i.children,{fillStyle:r,strokeStyle:o}=i3(i);r&&e?e={...e,...r}:r&&(e=r),o&&s?s={...s,...o}:o&&(s=o),t.context.fillStyle=e,t.context.strokeStyle=s;let a,c,h,l,u,m,d,f,p,y,x,_,b,g,A,B,w;switch(i.nodeName.toLowerCase()){case"path":g=i.getAttribute("d"),A=new sn(g),t.context.path(A),e&&t.context.fill(),s&&t.context.stroke();break;case"circle":d=Ve(i,"cx",0),f=Ve(i,"cy",0),p=Ve(i,"r",0),t.context.ellipse(d,f,p,p),e&&t.context.fill(),s&&t.context.stroke();break;case"rect":a=Ve(i,"x",0),c=Ve(i,"y",0),B=Ve(i,"width",0),w=Ve(i,"height",0),y=Ve(i,"rx",0),x=Ve(i,"ry",0),y||x?t.context.roundRect(a,c,B,w,y||x):t.context.rect(a,c,B,w),e&&t.context.fill(),s&&t.context.stroke();break;case"ellipse":d=Ve(i,"cx",0),f=Ve(i,"cy",0),y=Ve(i,"rx",0),x=Ve(i,"ry",0),t.context.beginPath(),t.context.ellipse(d,f,y,x),e&&t.context.fill(),s&&t.context.stroke();break;case"line":h=Ve(i,"x1",0),l=Ve(i,"y1",0),u=Ve(i,"x2",0),m=Ve(i,"y2",0),t.context.beginPath(),t.context.moveTo(h,l),t.context.lineTo(u,m),s&&t.context.stroke();break;case"polygon":b=i.getAttribute("points"),_=b.match(/\d+/g).map(P=>parseInt(P,10)),t.context.poly(_,!0),e&&t.context.fill(),s&&t.context.stroke();break;case"polyline":b=i.getAttribute("points"),_=b.match(/\d+/g).map(P=>parseInt(P,10)),t.context.poly(_,!1),s&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}for(let P=0;P<n.length;P++)Su(n[P],t,e,s)}function Ve(i,t,e){const s=i.getAttribute(t);return s?Number(s):e}function i3(i){const t=i.getAttribute("style"),e={},s={};let n=!1,r=!1;if(t){const o=t.split(";");for(let a=0;a<o.length;a++){const c=o[a],[h,l]=c.split(":");switch(h){case"stroke":l!=="none"&&(e.color=ve.shared.setValue(l).toNumber(),r=!0);break;case"stroke-width":e.width=Number(l);break;case"fill":l!=="none"&&(n=!0,s.color=ve.shared.setValue(l).toNumber());break;case"fill-opacity":s.alpha=Number(l);break;case"stroke-opacity":e.alpha=Number(l);break;case"opacity":s.alpha=Number(l),e.alpha=Number(l);break}}}else{const o=i.getAttribute("stroke");o&&o!=="none"&&(r=!0,e.color=ve.shared.setValue(o).toNumber(),e.width=Ve(i,"stroke-width",1));const a=i.getAttribute("fill");a&&a!=="none"&&(n=!0,s.color=ve.shared.setValue(a).toNumber())}return{strokeStyle:r?e:null,fillStyle:n?s:null}}function n3(i){return ve.isColorLike(i)}function ih(i){return i instanceof Jr}function nh(i){return i instanceof Nn}function r3(i,t,e){const s=ve.shared.setValue(t??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?e.alpha:s.alpha,i.texture=Jt.WHITE,{...e,...i}}function rh(i,t,e){return i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,{...e,...i}}function oh(i,t,e){return t.buildLinearGradient(),i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,{...e,...i}}function o3(i,t){var n;const e={...t,...i};if(e.texture){if(e.texture!==Jt.WHITE){const o=((n=e.matrix)==null?void 0:n.invert())||new Yt;o.translate(e.texture.frame.x,e.texture.frame.y),o.scale(1/e.texture.source.width,1/e.texture.source.height),e.matrix=o}const r=e.texture.source.style;r.addressMode==="clamp-to-edge"&&(r.addressMode="repeat",r.update())}const s=ve.shared.setValue(e.color);return e.alpha*=s.alpha,e.color=s.toNumber(),e.matrix=e.matrix?e.matrix.clone():null,e}function Ai(i,t){if(i==null)return null;const e={},s=i;return n3(i)?r3(e,i,t):ih(i)?rh(e,i,t):nh(i)?oh(e,i,t):s.fill&&ih(s.fill)?rh(s,s.fill,t):s.fill&&nh(s.fill)?oh(s,s.fill,t):o3(s,t)}function Gr(i,t){const{width:e,alignment:s,miterLimit:n,cap:r,join:o,...a}=t,c=Ai(i,a);return c?{width:e,alignment:s,miterLimit:n,cap:r,join:o,...c}:null}const a3=new De,ah=new Yt,wc=class Ps extends Cs{constructor(){super(...arguments),this.uid=Se("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new sn,this._transform=new Yt,this._fillStyle={...Ps.defaultFillStyle},this._strokeStyle={...Ps.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Ds,this._boundsDirty=!0}clone(){const t=new Ps;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Ai(t,Ps.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Gr(t,Ps.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Ai(t,Ps.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Ai(t,Ps.defaultStrokeStyle),this}texture(t,e,s,n,r,o){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:n||0,dw:r||t.frame.width,dh:o||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?ve.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new sn,this}fill(t,e){let s;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="stroke"?s=n.data.path:s=this._activePath.clone(),s?(t!=null&&(e!==void 0&&typeof t=="number"&&(Zt(Qt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=Ai(t,Ps.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(De.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="fill"?e=s.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=Gr(t,Ps.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(s);else{e.data.hole=s;break}}return this._initNextPathLocation(),this}arc(t,e,s,n,r,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,s,n,r,o),this}arcTo(t,e,s,n,r){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,o.a*s+o.c*n+o.tx,o.b*s+o.d*n+o.ty,r),this}arcToSvg(t,e,s,n,r,o,a){this._tick++;const c=this._transform;return this._activePath.arcToSvg(t,e,s,n,r,c.a*o+c.c*a+c.tx,c.b*o+c.d*a+c.ty),this}bezierCurveTo(t,e,s,n,r,o,a){this._tick++;const c=this._transform;return this._activePath.bezierCurveTo(c.a*t+c.c*e+c.tx,c.b*t+c.d*e+c.ty,c.a*s+c.c*n+c.tx,c.b*s+c.d*n+c.ty,c.a*r+c.c*o+c.tx,c.b*r+c.d*o+c.ty,a),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,e,s,n){return this._tick++,this._activePath.ellipse(t,e,s,n,this._transform.clone()),this}circle(t,e,s){return this._tick++,this._activePath.circle(t,e,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*t+s.c*e+s.tx,s.b*t+s.d*e+s.ty),this}moveTo(t,e){this._tick++;const s=this._transform,n=this._activePath.instructions,r=s.a*t+s.c*e+s.tx,o=s.b*t+s.d*e+s.ty;return n.length===1&&n[0].action==="moveTo"?(n[0].data[0]=r,n[0].data[1]=o,this):(this._activePath.moveTo(r,o),this)}quadraticCurveTo(t,e,s,n,r){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,o.a*s+o.c*n+o.tx,o.b*s+o.d*n+o.ty,r),this}rect(t,e,s,n){return this._tick++,this._activePath.rect(t,e,s,n,this._transform.clone()),this}roundRect(t,e,s,n,r){return this._tick++,this._activePath.roundRect(t,e,s,n,r,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,s,n,r=0,o){return this._tick++,this._activePath.regularPoly(t,e,s,n,r,o),this}roundPoly(t,e,s,n,r,o){return this._tick++,this._activePath.roundPoly(t,e,s,n,r,o),this}roundShape(t,e,s,n){return this._tick++,this._activePath.roundShape(t,e,s,n),this}filletRect(t,e,s,n,r){return this._tick++,this._activePath.filletRect(t,e,s,n,r),this}chamferRect(t,e,s,n,r,o){return this._tick++,this._activePath.chamferRect(t,e,s,n,r,o),this}star(t,e,s,n,r=0,o=0){return this._tick++,this._activePath.star(t,e,s,n,r,o,this._transform.clone()),this}svg(t){return this._tick++,s3(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,s,n,r,o){return t instanceof Yt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,s,n,r,o),this)}transform(t,e,s,n,r,o){return t instanceof Yt?(this._transform.append(t),this):(ah.set(t,e,s,n,r,o),this._transform.append(ah),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const s=this.instructions[e],n=s.action;if(n==="fill"){const r=s.data;t.addBounds(r.path.bounds)}else if(n==="texture"){const r=s.data;t.addFrame(r.dx,r.dy,r.dx+r.dw,r.dy+r.dh,r.transform)}if(n==="stroke"){const r=s.data,o=r.style.width/2,a=r.path.bounds;t.addFrame(a.minX-o,a.minY-o,a.maxX+o,a.maxY+o)}}return t}containsPoint(t){var n;if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let s=!1;for(let r=0;r<e.length;r++){const o=e[r],a=o.data,c=a.path;if(!o.action||!c)continue;const h=a.style,l=c.shapePath.shapePrimitives;for(let u=0;u<l.length;u++){const m=l[u].shape;if(!h||!m)continue;const d=l[u].transform,f=d?d.applyInverse(t,a3):t;o.action==="fill"?s=m.contains(f.x,f.y):s=m.strokeContains(f.x,f.y,h.width);const p=a.hole;if(p){const y=(n=p.shapePath)==null?void 0:n.shapePrimitives;if(y)for(let x=0;x<y.length;x++)y[x].shape.contains(f.x,f.y)&&(s=!1)}if(s)return!0}}return s}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const s=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(s),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(s)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};wc.defaultFillStyle={color:16777215,alpha:1,texture:Jt.WHITE,matrix:null,fill:null};wc.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Jt.WHITE,matrix:null,fill:null};let rs=wc;const ch=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function c3(i){const t=[];let e=0;for(let s=0;s<ch.length;s++){const n=`_${ch[s]}`;t[e++]=i[n]}return e=Bu(i._fill,t,e),e=l3(i._stroke,t,e),e=h3(i.dropShadow,t,e),t.join("-")}function Bu(i,t,e){var s;return i&&(t[e++]=i.color,t[e++]=i.alpha,t[e++]=(s=i.fill)==null?void 0:s.styleKey),e}function l3(i,t,e){return i&&(e=Bu(i,t,e),t[e++]=i.width,t[e++]=i.alignment,t[e++]=i.cap,t[e++]=i.join,t[e++]=i.miterLimit),e}function h3(i,t,e){return i&&(t[e++]=i.alpha,t[e++]=i.angle,t[e++]=i.blur,t[e++]=i.distance,t[e++]=ve.shared.setValue(i.color).toNumber()),e}const Cc=class Hi extends Cs{constructor(t={}){super(),u3(t);const e={...Hi.defaultTextStyle,...t};for(const s in e){const n=s;this[n]=e[s]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Hi.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Hi.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...rs.defaultFillStyle,...t},()=>{this._fill=Ai({...this._originalFill},rs.defaultFillStyle)})),this._fill=Ai(t===0?"black":t,rs.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...rs.defaultStrokeStyle,...t},()=>{this._stroke=Gr({...this._originalStroke},rs.defaultStrokeStyle)})),this._stroke=Gr(t,rs.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=c3(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Hi.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Hi({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){var s,n,r,o;if(this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const a=typeof t=="boolean"?t:t==null?void 0:t.textureSource;(s=this._fill)!=null&&s.texture&&this._fill.texture.destroy(a),(n=this._originalFill)!=null&&n.texture&&this._originalFill.texture.destroy(a),(r=this._stroke)!=null&&r.texture&&this._stroke.texture.destroy(a),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(s,n,r)=>(s[n]=r,e==null||e(n,r),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(ve.isColorLike(t)||t instanceof Nn||t instanceof Jr)}};Cc.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Cc.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let nn=Cc;function u3(i){const t=i;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const e=nn.defaultDropShadow;i.dropShadow={alpha:t.dropShadowAlpha??e.alpha,angle:t.dropShadowAngle??e.angle,blur:t.dropShadowBlur??e.blur,color:t.dropShadowColor??e.color,distance:t.dropShadowDistance??e.distance}}if(t.strokeThickness!==void 0){Zt(Qt,"strokeThickness is now a part of stroke");const e=t.stroke;let s={};if(ve.isColorLike(e))s.color=e;else if(e instanceof Nn||e instanceof Jr)s.fill=e;else if(Object.hasOwnProperty.call(e,"color")||Object.hasOwnProperty.call(e,"fill"))s=e;else throw new Error("Invalid stroke value.");i.stroke={...s,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){Zt(Qt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let e;i.fontSize==null?i.fontSize=nn.defaultTextStyle.fontSize:typeof i.fontSize=="string"?e=parseInt(i.fontSize,10):e=i.fontSize;const s=new Nn(0,0,0,e*1.7),n=t.fillGradientStops.map(r=>ve.shared.setValue(r).toNumber());n.forEach((r,o)=>{const a=o/(n.length-1);s.addColorStop(a,r)}),i.fill={fill:s}}}class m3{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const s=de.get().createCanvas();s.width=t,s.height=e;const n=s.getContext("2d");return{canvas:s,context:n}}getOptimalCanvasAndContext(t,e,s=1){t=Math.ceil(t*s-1e-6),e=Math.ceil(e*s-1e-6),t=yl(t),e=yl(e);const n=(t<<17)+(e<<1);this._canvasPool[n]||(this._canvasPool[n]=[]);let r=this._canvasPool[n].pop();return r||(r=this._createCanvasAndContext(t,e)),r}returnCanvasAndContext(t){const e=t.canvas,{width:s,height:n}=e,r=(s<<17)+(n<<1);t.context.clearRect(0,0,s,n),this._canvasPool[r].push(t)}clear(){this._canvasPool={}}}const lh=new m3,d3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Ea(i){const t=typeof i.fontSize=="number"?`${i.fontSize}px`:i.fontSize;let e=i.fontFamily;Array.isArray(i.fontFamily)||(e=i.fontFamily.split(","));for(let s=e.length-1;s>=0;s--){let n=e[s].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!d3.includes(n)&&(n=`"${n}"`),e[s]=n}return`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${t} ${e.join(",")}`}const Xo={willReadFrequently:!0},Ss=class gt{static get experimentalLetterSpacingSupported(){let t=gt._experimentalLetterSpacingSupported;if(t!==void 0){const e=de.get().getCanvasRenderingContext2D().prototype;t=gt._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,s,n,r,o,a,c,h){this.text=t,this.style=e,this.width=s,this.height=n,this.lines=r,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=h}static measureText(t=" ",e,s=gt._canvas,n=e.wordWrap){var _;const r=`${t}:${e.styleKey}`;if(gt._measurementCache[r])return gt._measurementCache[r];const o=Ea(e),a=gt.measureFont(o);a.fontSize===0&&(a.fontSize=e.fontSize,a.ascent=e.fontSize);const c=gt.__context;c.font=o;const l=(n?gt._wordWrap(t,e,s):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let m=0;for(let b=0;b<l.length;b++){const g=gt._measureText(l[b],e.letterSpacing,c);u[b]=g,m=Math.max(m,g)}const d=((_=e._stroke)==null?void 0:_.width)||0;let f=m+d;e.dropShadow&&(f+=e.dropShadow.distance);const p=e.lineHeight||a.fontSize;let y=Math.max(p,a.fontSize+d)+(l.length-1)*(p+e.leading);return e.dropShadow&&(y+=e.dropShadow.distance),new gt(t,e,f,y,l,u,p+e.leading,m,a)}static _measureText(t,e,s){let n=!1;gt.experimentalLetterSpacingSupported&&(gt.experimentalLetterSpacing?(s.letterSpacing=`${e}px`,s.textLetterSpacing=`${e}px`,n=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const r=s.measureText(t);let o=r.width;const a=-r.actualBoundingBoxLeft;let h=r.actualBoundingBoxRight-a;if(o>0)if(n)o-=e,h-=e;else{const l=(gt.graphemeSegmenter(t).length-1)*e;o+=l,h+=l}return Math.max(o,h)}static _wordWrap(t,e,s=gt._canvas){const n=s.getContext("2d",Xo);let r=0,o="",a="";const c=Object.create(null),{letterSpacing:h,whiteSpace:l}=e,u=gt._collapseSpaces(l),m=gt._collapseNewlines(l);let d=!u;const f=e.wordWrapWidth+h,p=gt._tokenize(t);for(let y=0;y<p.length;y++){let x=p[y];if(gt._isNewline(x)){if(!m){a+=gt._addLine(o),d=!u,o="",r=0;continue}x=" "}if(u){const b=gt.isBreakingSpace(x),g=gt.isBreakingSpace(o[o.length-1]);if(b&&g)continue}const _=gt._getFromCache(x,h,c,n);if(_>f)if(o!==""&&(a+=gt._addLine(o),o="",r=0),gt.canBreakWords(x,e.breakWords)){const b=gt.wordWrapSplit(x);for(let g=0;g<b.length;g++){let A=b[g],B=A,w=1;for(;b[g+w];){const V=b[g+w];if(!gt.canBreakChars(B,V,x,g,e.breakWords))A+=V;else break;B=V,w++}g+=w-1;const P=gt._getFromCache(A,h,c,n);P+r>f&&(a+=gt._addLine(o),d=!1,o="",r=0),o+=A,r+=P}}else{o.length>0&&(a+=gt._addLine(o),o="",r=0);const b=y===p.length-1;a+=gt._addLine(x,!b),d=!1,o="",r=0}else _+r>f&&(d=!1,a+=gt._addLine(o),o="",r=0),(o.length>0||!gt.isBreakingSpace(x)||d)&&(o+=x,r+=_)}return a+=gt._addLine(o,!1),a}static _addLine(t,e=!0){return t=gt._trimRight(t),t=e?`${t}
`:t,t}static _getFromCache(t,e,s,n){let r=s[t];return typeof r!="number"&&(r=gt._measureText(t,e,n)+e,s[t]=r),r}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const s=t[e];if(!gt.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:gt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:gt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const e=[];let s="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const r=t[n],o=t[n+1];if(gt.isBreakingSpace(r,o)||gt._isNewline(r)){s!==""&&(e.push(s),s=""),e.push(r);continue}s+=r}return s!==""&&e.push(s),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,s,n,r){return!0}static wordWrapSplit(t){return gt.graphemeSegmenter(t)}static measureFont(t){if(gt._fonts[t])return gt._fonts[t];const e=gt._context;e.font=t;const s=e.measureText(gt.METRICS_STRING+gt.BASELINE_SYMBOL),n={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return gt._fonts[t]=n,n}static clearMetrics(t=""){t?delete gt._fonts[t]:gt._fonts={}}static get _canvas(){if(!gt.__canvas){let t;try{const e=new OffscreenCanvas(0,0),s=e.getContext("2d",Xo);if(s!=null&&s.measureText)return gt.__canvas=e,e;t=de.get().createCanvas()}catch{t=de.get().createCanvas()}t.width=t.height=10,gt.__canvas=t}return gt.__canvas}static get _context(){return gt.__context||(gt.__context=gt._canvas.getContext("2d",Xo)),gt.__context}};Ss.METRICS_STRING="|q";Ss.BASELINE_SYMBOL="M";Ss.BASELINE_MULTIPLIER=1.4;Ss.HEIGHT_MULTIPLIER=2;Ss.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const i=new Intl.Segmenter;return t=>[...i.segment(t)].map(e=>e.segment)}return i=>[...i]})();Ss.experimentalLetterSpacing=!1;Ss._fonts={};Ss._newlines=[10,13];Ss._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Ss._measurementCache={};let Da=Ss;function hh(i,t){if(i.texture===Jt.WHITE&&!i.fill)return ve.shared.setValue(i.color).setAlpha(i.alpha??1).toHexa();if(i.fill){if(i.fill instanceof Jr){const e=i.fill,s=t.createPattern(e.texture.source.resource,"repeat"),n=e.transform.copyTo(Yt.shared);return n.scale(e.texture.frame.width,e.texture.frame.height),s.setTransform(n),s}else if(i.fill instanceof Nn){const e=i.fill;if(e.type==="linear"){const s=t.createLinearGradient(e.x0,e.y0,e.x1,e.y1);return e.gradientStops.forEach(n=>{s.addColorStop(n.offset,ve.shared.setValue(n.color).toHex())}),s}}}else{const e=t.createPattern(i.texture.source.resource,"repeat"),s=i.matrix.copyTo(Yt.shared);return s.scale(i.texture.frame.width,i.texture.frame.height),e.setTransform(s),e}return Ae("FillStyle not recognised",i),"red"}function Vu(i){if(i==="")return[];typeof i=="string"&&(i=[i]);const t=[];for(let e=0,s=i.length;e<s;e++){const n=i[e];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);if(n[0].length===0||n[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const r=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<r)throw new Error("[BitmapFont]: Invalid character range.");for(let a=r,c=o;a<=c;a++)t.push(String.fromCharCode(a))}else t.push(...Array.from(n))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const Mu=class Pu extends cu{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const e={...Pu.defaultOptions,...t};this._textureSize=e.textureSize,this._mipmap=e.mipmap;const s=e.style.clone();e.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=Jt.WHITE,s._fill.fill=null),this.applyFillAsTint=e.overrideFill;const n=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const r=Ea(s);e.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/n):s.fontSize=this.baseRenderedFontSize=n,this._style=s,this._skipKerning=e.skipKerning??!1,this.resolution=e.resolution??1,this._padding=e.padding??4,this.fontMetrics=Da.measureFont(r),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(t){var f,p;const e=Vu(t).filter(y=>!this._currentChars.includes(y)).filter((y,x,_)=>_.indexOf(y)===x);if(!e.length)return;this._currentChars=[...this._currentChars,...e];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:n,context:r}=s.canvasAndContext,o=s.texture.source;const a=this._style;let c=this._currentX,h=this._currentY;const l=this.baseRenderedFontSize/this.baseMeasurementFontSize,u=this._padding*l;let m=0,d=!1;for(let y=0;y<e.length;y++){const x=e[y],_=Da.measureText(x,a,n,!1),b=Math.ceil((a.fontStyle==="italic"?2:1)*_.width);_.lineHeight=_.height;const g=_.width*l,A=_.height*l,B=b+u*2,w=A+u*2;if(d=!1,x!==`
`&&x!=="\r"&&x!=="	"&&x!==" "&&(d=!0,m=Math.ceil(Math.max(w,m))),c+B>this._textureSize&&(h+=m,m=w,c=0,h+m>this._textureSize)){o.update();const V=this._nextPage();n=V.canvasAndContext.canvas,r=V.canvasAndContext.context,o=V.texture.source,h=0}const P=g/l-(((f=a.dropShadow)==null?void 0:f.distance)??0)-(((p=a._stroke)==null?void 0:p.width)??0);if(this.chars[x]={id:x.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:P,kerning:{}},d){this._drawGlyph(r,_,c+u,h+u,l,a);const V=o.width*l,S=o.height*l,D=new xe(c/V*o.width,h/S*o.height,B/V*o.width,w/S*o.height);this.chars[x].texture=new Jt({source:o,frame:D}),c+=Math.ceil(B)}}o.update(),this._currentX=c,this._currentY=h,this._skipKerning&&this._applyKerning(e,r)}get pageTextures(){return Zt(Qt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,e){const s=this._measureCache;for(let n=0;n<t.length;n++){const r=t[n];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let c=s[r];c||(c=s[r]=e.measureText(r).width);let h=s[a];h||(h=s[a]=e.measureText(a).width);let l=e.measureText(r+a).width,u=l-(c+h);u&&(this.chars[r].kerning[a]=u),l=e.measureText(r+a).width,u=l-(c+h),u&&(this.chars[a].kerning[r]=u)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,e=lh.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(e.context,this._style,t);const s=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),n=new Jt({source:new an({resource:e.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),r={canvasAndContext:e,texture:n};return this.pages[this._currentPageIndex]=r,r}_setupContext(t,e,s){e.fontSize=this.baseRenderedFontSize,t.scale(s,s),t.font=Ea(e),e.fontSize=this.baseMeasurementFontSize,t.textBaseline=e.textBaseline;const n=e._stroke,r=(n==null?void 0:n.width)??0;if(n&&(t.lineWidth=r,t.lineJoin=n.join,t.miterLimit=n.miterLimit,t.strokeStyle=hh(n,t)),e._fill&&(t.fillStyle=hh(e._fill,t)),e.dropShadow){const o=e.dropShadow,a=ve.shared.setValue(o.color).toArray(),c=o.blur*s,h=o.distance*s;t.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,t.shadowBlur=c,t.shadowOffsetX=Math.cos(o.angle)*h,t.shadowOffsetY=Math.sin(o.angle)*h}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,e,s,n,r,o){const a=e.text,c=e.fontProperties,h=o._stroke,l=((h==null?void 0:h.width)??0)*r,u=s+l/2,m=n-l/2,d=c.descent*r,f=e.lineHeight*r;o.stroke&&l&&t.strokeText(a,u,m+f-d),o._fill&&t.fillText(a,u,m+f-d)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:e,texture:s}=this.pages[t];lh.returnCanvasAndContext(e),s.destroy(!0)}this.pages=null}};Mu.defaultOptions={textureSize:512,style:new nn,mipmap:!0};let uh=Mu;function _3(i,t,e,s){const n={width:0,height:0,offsetY:0,scale:t.fontSize/e.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};n.offsetY=e.baseLineOffset;let r=n.lines[0],o=null,a=!0;const c={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},h=f=>{const p=r.width;for(let y=0;y<c.index;y++){const x=f.positions[y];r.chars.push(f.chars[y]),r.charPositions.push(x+p)}r.width+=f.width,a=!1,c.width=0,c.index=0,c.chars.length=0},l=()=>{let f=r.chars.length-1;if(s){let p=r.chars[f];for(;p===" ";)r.width-=e.chars[p].xAdvance,p=r.chars[--f]}n.width=Math.max(n.width,r.width),r={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,n.lines.push(r),n.height+=e.lineHeight},u=e.baseMeasurementFontSize/t.fontSize,m=t.letterSpacing*u,d=t.wordWrapWidth*u;for(let f=0;f<i.length+1;f++){let p;const y=f===i.length;y||(p=i[f]);const x=e.chars[p]||e.chars[" "];if(/(?:\s)/.test(p)||p==="\r"||p===`
`||y){if(!a&&t.wordWrap&&r.width+c.width-m>d?(l(),h(c),y||r.charPositions.push(0)):(c.start=r.width,h(c),y||r.charPositions.push(0)),p==="\r"||p===`
`)r.width!==0&&l();else if(!y){const A=x.xAdvance+(x.kerning[o]||0)+m;r.width+=A,r.spaceWidth=A,r.spacesIndex.push(r.charPositions.length),r.chars.push(p)}}else{const g=x.kerning[o]||0,A=x.xAdvance+g+m;c.positions[c.index++]=c.width+g,c.chars.push(p),c.width+=A}o=p}return l(),t.align==="center"?f3(n):t.align==="right"?p3(n):t.align==="justify"&&b3(n),n}function f3(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],s=i.width/2-e.width/2;for(let n=0;n<e.charPositions.length;n++)e.charPositions[n]+=s}}function p3(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],s=i.width-e.width;for(let n=0;n<e.charPositions.length;n++)e.charPositions[n]+=s}}function b3(i){const t=i.width;for(let e=0;e<i.lines.length;e++){const s=i.lines[e];let n=0,r=s.spacesIndex[n++],o=0;const a=s.spacesIndex.length,h=(t-s.width)/a;for(let l=0;l<s.charPositions.length;l++)l===r&&(r=s.spacesIndex[n++],o+=h),s.charPositions[l]+=o}}let gr=0;class y3{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(t,e){var o;let s=`${e.fontFamily}-bitmap`,n=!0;if(e._fill.fill&&!e._stroke)s+=e._fill.fill.styleKey,n=!1;else if(e._stroke||e.dropShadow){let a=e.styleKey;a=a.substring(0,a.lastIndexOf("-")),s=`${a}-bitmap`,n=!1}if(!me.has(s)){const a=new uh({style:e,overrideFill:n,overrideSize:!0,...this.defaultOptions});gr++,gr>50&&Ae("BitmapText",`You have dynamically created ${gr} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),a.once("destroy",()=>{gr--,me.remove(s)}),me.set(s,a)}const r=me.get(s);return(o=r.ensureCharacters)==null||o.call(r,t),r}getLayout(t,e,s=!0){const n=this.getFont(t,e);return _3([...t],e,n,s)}measureText(t,e,s=!0){return this.getLayout(t,e,s)}install(...t){var h,l,u,m;let e=t[0];typeof e=="string"&&(e={name:e,style:t[1],chars:(h=t[2])==null?void 0:h.chars,resolution:(l=t[2])==null?void 0:l.resolution,padding:(u=t[2])==null?void 0:u.padding,skipKerning:(m=t[2])==null?void 0:m.skipKerning},Zt(Qt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=e==null?void 0:e.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");e={...this.defaultOptions,...e};const n=e.style,r=n instanceof nn?n:new nn(n),o=r._fill.fill!==null&&r._fill.fill!==void 0,a=new uh({style:r,overrideFill:o,skipKerning:e.skipKerning,padding:e.padding,resolution:e.resolution,overrideSize:!1}),c=Vu(e.chars);return a.ensureCharacters(c.join("")),me.set(`${s}-bitmap`,a),a.once("destroy",()=>me.remove(`${s}-bitmap`)),a}uninstall(t){const e=`${t}-bitmap`,s=me.get(e);s&&s.destroy()}}const mh=new y3;class Iu extends cu{constructor(t,e){super();const{textures:s,data:n}=t;Object.keys(n.pages).forEach(r=>{const o=n.pages[parseInt(r,10)],a=s[o.id];this.pages.push({texture:a})}),Object.keys(n.chars).forEach(r=>{const o=n.chars[r],{frame:a,source:c}=s[o.page],h=new xe(o.x+a.x,o.y+a.y,o.width,o.height),l=new Jt({source:c,frame:h});this.chars[r]={id:r.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:l}}),this.baseRenderedFontSize=n.fontSize,this.baseMeasurementFontSize=n.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:n.fontSize},this.baseLineOffset=n.baseLineOffset,this.lineHeight=n.lineHeight,this.fontFamily=n.fontFamily,this.distanceField=n.distanceField??{type:"none",range:0},this.url=e}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:e}=this.pages[t];e.destroy(!0)}this.pages=null}static install(t){mh.install(t)}static uninstall(t){mh.uninstall(t)}}const Yo={test(i){return typeof i=="string"&&i.startsWith("info face=")},parse(i){const t=i.match(/^[a-z]+\s+.+$/gm),e={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const u in t){const m=t[u].match(/^[a-z]+/gm)[0],d=t[u].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),f={};for(const p in d){const y=d[p].split("="),x=y[0],_=y[1].replace(/"/gm,""),b=parseFloat(_),g=isNaN(b)?_:b;f[x]=g}e[m].push(f)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[n]=e.info,[r]=e.common,[o]=e.distanceField??[];o&&(s.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),s.fontSize=parseInt(n.size,10),s.fontFamily=n.face,s.lineHeight=parseInt(r.lineHeight,10);const a=e.page;for(let u=0;u<a.length;u++)s.pages.push({id:parseInt(a[u].id,10)||0,file:a[u].file});const c={};s.baseLineOffset=s.lineHeight-parseInt(r.base,10);const h=e.char;for(let u=0;u<h.length;u++){const m=h[u],d=parseInt(m.id,10);let f=m.letter??m.char??String.fromCharCode(d);f==="space"&&(f=" "),c[d]=f,s.chars[f]={id:d,page:parseInt(m.page,10)||0,x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xOffset:parseInt(m.xoffset,10),yOffset:parseInt(m.yoffset,10),xAdvance:parseInt(m.xadvance,10),kerning:{}}}const l=e.kerning||[];for(let u=0;u<l.length;u++){const m=parseInt(l[u].first,10),d=parseInt(l[u].second,10),f=parseInt(l[u].amount,10);s.chars[c[d]].kerning[c[m]]=f}return s}},dh={test(i){const t=i;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(i){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},e=i.getElementsByTagName("info")[0],s=i.getElementsByTagName("common")[0],n=i.getElementsByTagName("distanceField")[0];n&&(t.distanceField={type:n.getAttribute("fieldType"),range:parseInt(n.getAttribute("distanceRange"),10)});const r=i.getElementsByTagName("page"),o=i.getElementsByTagName("char"),a=i.getElementsByTagName("kerning");t.fontSize=parseInt(e.getAttribute("size"),10),t.fontFamily=e.getAttribute("face"),t.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let h=0;h<r.length;h++)t.pages.push({id:parseInt(r[h].getAttribute("id"),10)||0,file:r[h].getAttribute("file")});const c={};t.baseLineOffset=t.lineHeight-parseInt(s.getAttribute("base"),10);for(let h=0;h<o.length;h++){const l=o[h],u=parseInt(l.getAttribute("id"),10);let m=l.getAttribute("letter")??l.getAttribute("char")??String.fromCharCode(u);m==="space"&&(m=" "),c[u]=m,t.chars[m]={id:u,page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xOffset:parseInt(l.getAttribute("xoffset"),10),yOffset:parseInt(l.getAttribute("yoffset"),10),xAdvance:parseInt(l.getAttribute("xadvance"),10),kerning:{}}}for(let h=0;h<a.length;h++){const l=parseInt(a[h].getAttribute("first"),10),u=parseInt(a[h].getAttribute("second"),10),m=parseInt(a[h].getAttribute("amount"),10);t.chars[c[u]].kerning[c[l]]=m}return t}},_h={test(i){return typeof i=="string"&&i.includes("<font>")?dh.test(de.get().parseXML(i)):!1},parse(i){return dh.parse(de.get().parseXML(i))}},g3=[".xml",".fnt"],x3={extension:{type:wt.CacheParser,name:"cacheBitmapFont"},test:i=>i instanceof Iu,getCacheableAssets(i,t){const e={};return i.forEach(s=>{e[s]=t,e[`${s}-bitmap`]=t}),e[`${t.fontFamily}-bitmap`]=t,e}},v3={extension:{type:wt.LoadParser,priority:li.Normal},name:"loadBitmapFont",test(i){return g3.includes(es.extname(i).toLowerCase())},async testParse(i){return Yo.test(i)||_h.test(i)},async parse(i,t,e){const s=Yo.test(i)?Yo.parse(i):_h.parse(i),{src:n}=t,{pages:r}=s,o=[],a=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let u=0;u<r.length;++u){const m=r[u].file;let d=es.join(es.dirname(n),m);d=xa(d,n),o.push({src:d,data:a})}const c=await e.load(o),h=o.map(u=>c[u.src]);return new Iu({data:s,textures:h},n)},async load(i,t){return await(await de.get().fetch(i)).text()},async unload(i,t,e){await Promise.all(i.pages.map(s=>e.unload(s.texture.source._sourceOrigin))),i.destroy()}};class A3{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<e;s++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const w3={extension:{type:wt.CacheParser,name:"cacheTextureArray"},test:i=>Array.isArray(i)&&i.every(t=>t instanceof Jt),getCacheableAssets:(i,t)=>{const e={};return i.forEach(s=>{t.forEach((n,r)=>{e[s+(r===0?"":r+1)]=n})}),e}};async function Tu(i){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(i)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const C3={extension:{type:wt.DetectionParser,priority:1},test:async()=>Tu("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(t=>t!=="avif")},fh=["png","jpg","jpeg"],S3={extension:{type:wt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...fh],remove:async i=>i.filter(t=>!fh.includes(t))},B3="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Sc(i){return B3?!1:document.createElement("video").canPlayType(i)!==""}const V3={extension:{type:wt.DetectionParser,priority:0},test:async()=>Sc("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(t=>t!=="mp4"&&t!=="m4v")},M3={extension:{type:wt.DetectionParser,priority:0},test:async()=>Sc("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(t=>t!=="ogv")},P3={extension:{type:wt.DetectionParser,priority:0},test:async()=>Sc("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(t=>t!=="webm")},I3={extension:{type:wt.DetectionParser,priority:0},test:async()=>Tu("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(t=>t!=="webp")};class T3{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,s)=>(this._parsersValidated=!1,t[e]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const s={promise:null,parser:null};return s.promise=(async()=>{var o,a;let n=null,r=null;if(e.loadParser&&(r=this._parserHash[e.loadParser],r||Ae(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!r){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,t,e,this))){r=h;break}}if(!r)return Ae(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await r.load(t,e,this),s.parser=r;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,n,e,this))&&(n=await h.parse(n,e,this)||n,s.parser=h)}return n})(),s}async load(t,e){this._parsersValidated||this._validateParsers();let s=0;const n={},r=Lr(t),o=ps(t,h=>({alias:[h],src:h,data:{}})),a=o.length,c=o.map(async h=>{const l=es.toAbsolute(h.src);if(!n[h.src])try{this.promiseCache[l]||(this.promiseCache[l]=this._getLoadPromiseAndParser(l,h)),n[h.src]=await this.promiseCache[l].promise,e&&e(++s/a)}catch(u){throw delete this.promiseCache[l],delete n[h.src],new Error(`[Loader.load] Failed to load ${l}.
${u}`)}});return await Promise.all(c),r?n[o[0].src]:n}async unload(t){const s=ps(t,n=>({alias:[n],src:n})).map(async n=>{var a,c;const r=es.toAbsolute(n.src),o=this.promiseCache[r];if(o){const h=await o.promise;delete this.promiseCache[r],await((c=(a=o.parser)==null?void 0:a.unload)==null?void 0:c.call(a,h,n,this))}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(e.name?t[e.name]&&Ae(`[Assets] loadParser name conflict "${e.name}"`):Ae("[Assets] loadParser should have a name"),{...t,[e.name]:e}),{})}}function ln(i,t){if(Array.isArray(t)){for(const e of t)if(i.startsWith(`data:${e}`))return!0;return!1}return i.startsWith(`data:${t}`)}function hn(i,t){const e=i.split("?")[0],s=es.extname(e).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}const k3=".json",E3="application/json",D3={extension:{type:wt.LoadParser,priority:li.Low},name:"loadJson",test(i){return ln(i,E3)||hn(i,k3)},async load(i){return await(await de.get().fetch(i)).json()}},L3=".txt",G3="text/plain",R3={name:"loadTxt",extension:{type:wt.LoadParser,priority:li.Low,name:"loadTxt"},test(i){return ln(i,G3)||hn(i,L3)},async load(i){return await(await de.get().fetch(i)).text()}},F3=["normal","bold","100","200","300","400","500","600","700","800","900"],z3=[".ttf",".otf",".woff",".woff2"],O3=["font/ttf","font/otf","font/woff","font/woff2"],$3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function j3(i){const t=es.extname(i),n=es.basename(i,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=n.length>0;for(const a of n)if(!a.match($3)){r=!1;break}let o=n.join(" ");return r||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const N3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function q3(i){return N3.test(i)?i:encodeURI(i)}const H3={extension:{type:wt.LoadParser,priority:li.Low},name:"loadWebFont",test(i){return ln(i,O3)||hn(i,z3)},async load(i,t){var s,n,r;const e=de.get().getFontFaceSet();if(e){const o=[],a=((s=t.data)==null?void 0:s.family)??j3(i),c=((r=(n=t.data)==null?void 0:n.weights)==null?void 0:r.filter(l=>F3.includes(l)))??["normal"],h=t.data??{};for(let l=0;l<c.length;l++){const u=c[l],m=new FontFace(a,`url(${q3(i)})`,{...h,weight:u});await m.load(),e.add(m),o.push(m)}return me.set(`${a}-and-url`,{url:i,fontFaces:o}),o.length===1?o[0]:o}return Ae("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(t=>{me.remove(t.family),de.get().getFontFaceSet().delete(t)})}};function Bc(i,t=1){var s;const e=(s=cn.RETINA_PREFIX)==null?void 0:s.exec(i);return e?parseFloat(e[1]):t}function Vc(i,t,e){i.label=e,i._sourceOrigin=e;const s=new Jt({source:i,label:e}),n=()=>{delete t.promiseCache[e],me.has(e)&&me.remove(e)};return s.source.once("destroy",()=>{t.promiseCache[e]&&(Ae("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),n())}),s.once("destroy",()=>{i.destroyed||(Ae("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),s}const U3=".svg",W3="image/svg+xml",J3={extension:{type:wt.LoadParser,priority:li.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(i){return ln(i,W3)||hn(i,U3)},async load(i,t,e){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?Y3(i):X3(i,t,e,this.config.crossOrigin)},unload(i){i.destroy(!0)}};async function X3(i,t,e,s){var y,x,_;const r=await(await de.get().fetch(i)).blob(),o=URL.createObjectURL(r),a=new Image;a.src=o,a.crossOrigin=s,await a.decode(),URL.revokeObjectURL(o);const c=document.createElement("canvas"),h=c.getContext("2d"),l=((y=t.data)==null?void 0:y.resolution)||Bc(i),u=((x=t.data)==null?void 0:x.width)??a.width,m=((_=t.data)==null?void 0:_.height)??a.height;c.width=u*l,c.height=m*l,h.drawImage(a,0,0,u*l,m*l);const{parseAsGraphicsContext:d,...f}=t.data,p=new an({resource:c,alphaMode:"premultiply-alpha-on-upload",resolution:l,...f});return Vc(p,e,i)}async function Y3(i){const e=await(await de.get().fetch(i)).text(),s=new rs;return s.svg(e),s}const Z3=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Zi=null,La=class{constructor(){Zi||(Zi=URL.createObjectURL(new Blob([Z3],{type:"application/javascript"}))),this.worker=new Worker(Zi)}};La.revokeObjectURL=function(){Zi&&(URL.revokeObjectURL(Zi),Zi=null)};const K3=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Ki=null;class ku{constructor(){Ki||(Ki=URL.createObjectURL(new Blob([K3],{type:"application/javascript"}))),this.worker=new Worker(Ki)}}ku.revokeObjectURL=function(){Ki&&(URL.revokeObjectURL(Ki),Ki=null)};let ph=0,Zo;class Q3{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new La;e.addEventListener("message",s=>{e.terminate(),La.revokeObjectURL(),t(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,e){var s;return this._run("loadImageBitmap",[t,(s=e==null?void 0:e.data)==null?void 0:s.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Zo===void 0&&(Zo=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Zo&&(this._createdWorkers++,t=new ku().worker,t.addEventListener("message",e=>{this._complete(e.data),this._returnWorker(e.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const s=new Promise((n,r)=>{this._queue.push({id:t,arguments:e,resolve:n,reject:r})});return this._next(),s}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),s=e.id;this._resolveHash[ph]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:ph++,id:s})}}const bh=new Q3,tb=[".jpeg",".jpg",".png",".webp",".avif"],eb=["image/jpeg","image/png","image/webp","image/avif"];async function sb(i,t){var n;const e=await de.get().fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const s=await e.blob();return((n=t==null?void 0:t.data)==null?void 0:n.alphaMode)==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const Eu={name:"loadTextures",extension:{type:wt.LoadParser,priority:li.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return ln(i,eb)||hn(i,tb)},async load(i,t,e){var r;let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await bh.isImageBitmapSupported()?s=await bh.loadImageBitmap(i,t):s=await sb(i,t):s=await new Promise(o=>{s=new Image,s.crossOrigin=this.config.crossOrigin,s.src=i,s.complete?o(s):s.onload=()=>{o(s)}});const n=new an({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:((r=t.data)==null?void 0:r.resolution)||Bc(i),...t.data});return Vc(n,e,i)},unload(i){i.destroy(!0)}},Du=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],ib=Du.map(i=>`video/${i.substring(1)}`);function nb(i,t,e){e===void 0&&!t.startsWith("data:")?i.crossOrigin=ob(t):e!==!1&&(i.crossOrigin=typeof e=="string"?e:"anonymous")}function rb(i){return new Promise((t,e)=>{i.addEventListener("canplaythrough",s),i.addEventListener("error",n),i.load();function s(){r(),t()}function n(o){r(),e(o)}function r(){i.removeEventListener("canplaythrough",s),i.removeEventListener("error",n)}})}function ob(i,t=globalThis.location){if(i.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(i,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}const ab={name:"loadVideo",extension:{type:wt.LoadParser,name:"loadVideo"},test(i){const t=ln(i,ib),e=hn(i,Du);return t||e},async load(i,t,e){var c,h;const s={...Cr.defaultOptions,resolution:((c=t.data)==null?void 0:c.resolution)||Bc(i),alphaMode:((h=t.data)==null?void 0:h.alphaMode)||await F2(),...t.data},n=document.createElement("video"),r={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(r).forEach(l=>{const u=r[l];u!==void 0&&n.setAttribute(l,u)}),s.muted===!0&&(n.muted=!0),nb(n,i,s.crossorigin);const o=document.createElement("source");let a;if(i.startsWith("data:"))a=i.slice(5,i.indexOf(";"));else if(!i.startsWith("blob:")){const l=i.split("?")[0].slice(i.lastIndexOf(".")+1).toLowerCase();a=Cr.MIME_TYPES[l]||`video/${l}`}return o.src=i,a&&(o.type=a),new Promise(l=>{const u=async()=>{const m=new Cr({...s,resource:n});n.removeEventListener("canplay",u),t.data.preload&&await rb(n),l(Vc(m,e,i))};n.addEventListener("canplay",u),n.appendChild(o)})},unload(i){i.destroy(!0)}},Lu={extension:{type:wt.ResolveParser,name:"resolveTexture"},test:Eu.test,parse:i=>{var t;return{resolution:parseFloat(((t=cn.RETINA_PREFIX.exec(i))==null?void 0:t[1])??"1"),format:i.split(".").pop(),src:i}}},cb={extension:{type:wt.ResolveParser,priority:-2,name:"resolveJson"},test:i=>cn.RETINA_PREFIX.test(i)&&i.endsWith(".json"),parse:Lu.parse};class lb{constructor(){this._detections=[],this._initialized=!1,this.resolver=new cn,this.loader=new T3,this.cache=me,this._backgroundLoader=new A3(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var r,o;if(this._initialized){Ae("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const e=((r=t.texturePreference)==null?void 0:r.resolution)??1,s=typeof e=="number"?[e]:e,n=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:s}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const s=Lr(t),n=ps(t).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(h=>!this.resolver.hasKey(h))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),r=this.resolver.resolve(n),o=await this._mapLoadToResolve(r,e);return s?o[n[0]]:o}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let s=!1;typeof t=="string"&&(s=!0,t=[t]);const n=this.resolver.resolveBundle(t),r={},o=Object.keys(n);let a=0,c=0;const h=()=>{e==null||e(++a/c)},l=o.map(u=>{const m=n[u];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(d=>{r[u]=d})});return await Promise.all(l),s?r[t[0]]:r}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return me.get(t);const e={};for(let s=0;s<t.length;s++)e[s]=me.get(t[s]);return e}async _mapLoadToResolve(t,e){const s=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const n=await this.loader.load(s,e);this._backgroundLoader.active=!0;const r={};return s.forEach(o=>{const a=n[o.src],c=[o.src];o.alias&&c.push(...o.alias),c.forEach(h=>{r[h]=a}),me.set(c,a)}),r}async unload(t){this._initialized||await this.init();const e=ps(t).map(n=>typeof n!="string"?n.src:n),s=this.resolver.resolve(e);await this._unloadFromResolved(s)}async unloadBundle(t){this._initialized||await this.init(),t=ps(t);const e=this.resolver.resolveBundle(t),s=Object.keys(e).map(n=>this._unloadFromResolved(e[n]));await Promise.all(s)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(s=>{me.remove(s.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const s of t.detections)t.skipDetections||await s.test()?e=await s.add(e):t.skipDetections||(e=await s.remove(e));return e=e.filter((s,n)=>e.indexOf(s)===n),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(s=>s in t).forEach(s=>{e.config[s]=t[s]})})}}const Xi=new lb;Fe.handleByList(wt.LoadParser,Xi.loader.parsers).handleByList(wt.ResolveParser,Xi.resolver.parsers).handleByList(wt.CacheParser,Xi.cache.parsers).handleByList(wt.DetectionParser,Xi.detections);Fe.add(w3,S3,C3,I3,V3,M3,P3,D3,R3,H3,J3,Eu,ab,v3,x3,Lu,cb);const yh={loader:wt.LoadParser,resolver:wt.ResolveParser,cache:wt.CacheParser,detection:wt.DetectionParser};Fe.handle(wt.Asset,i=>{const t=i.ref;Object.entries(yh).filter(([e])=>!!t[e]).forEach(([e,s])=>Fe.add(Object.assign(t[e],{extension:t[e].extension??s})))},i=>{const t=i.ref;Object.keys(yh).filter(e=>!!t[e]).forEach(e=>Fe.remove(t[e]))});class Un extends fc{constructor(t){t instanceof rs&&(t={context:t});const{context:e,roundPixels:s,...n}=t||{};super({label:"Graphics",...n}),this.renderPipeId="graphics",e?this._context=e:this._context=this._ownedContext=new rs,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=s??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(t){t.addBounds(this._context.bounds)}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Un(this._context.clone()):(this._ownedContext=null,new Un(this._context))}lineStyle(t,e,s){Zt(Qt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const n={};return t&&(n.width=t),e&&(n.color=e),s&&(n.alpha=s),this.context.strokeStyle=n,this}beginFill(t,e){Zt(Qt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return t&&(s.color=t),e&&(s.alpha=e),this.context.fillStyle=s,this}endFill(){Zt(Qt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==rs.defaultStrokeStyle.width||t.color!==rs.defaultStrokeStyle.color||t.alpha!==rs.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Zt(Qt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Zt(Qt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Zt(Qt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Zt(Qt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Zt(Qt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Zt(Qt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class hb extends fc{constructor(t,e){const{text:s,resolution:n,style:r,anchor:o,width:a,height:c,roundPixels:h,...l}=t;super({...l}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=e,this.text=s??"",this.style=r,this.resolution=n??null,this.allowChildren=!1,this._anchor=new je({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=h??!1,a!==void 0&&(this.width=a),c!==void 0&&(this.height=c)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){var e;t=t||{},(e=this._style)==null||e.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this.bounds.width),e!==void 0&&this._setHeight(e,this.bounds.height)}addBounds(t){const e=this.bounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}containsPoint(t){const e=this.bounds.width,s=this.bounds.height,n=-e*this.anchor.x;let r=0;return t.x>=n&&t.x<=n+e&&(r=-s*this.anchor.y,t.y>=r&&t.y<=r+s)}onViewUpdate(){this._boundsDirty=!0,this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t!=null&&t.style)&&this._style.destroy(t),this._style=null,this._text=null}}function ub(i,t){let e=i[0]??{};return(typeof e=="string"||i[1])&&(Zt(Qt,`use new ${t}({ text: "hi!", style }) instead`),e={text:e,style:i[1]}),e}class mb extends hb{constructor(...t){const e=ub(t,"Text");super(e,nn),this.renderPipeId="text"}_updateBounds(){const t=this._bounds,e=this._anchor,s=Da.measureText(this._text,this._style),{width:n,height:r}=s;t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*r,t.maxY=t.minY+r}}Fe.add(Gd,Rd);const db=async(i,t,e)=>{const s=await Xi.load("./assets/sprites/basketBall.png");if(!t.radius)throw new Error("Radius is undefined");const n=new Si(s);return n.width=t.radius*i*2,n.height=t.radius*i*2,n.anchor.set(.5,.5),e.stage.addChild(n),n},_b=(i,t,e)=>{if(!t.width||!t.height)throw new Error("Radius is undefined");const s=new Un().rect(0,0,t.width*i,t.height*i).fill({color:"#575a8a"});return s.pivot.set(s.width/2,s.height/2),e.stage.addChild(s),s},fb=async(i,t,e)=>{if(!t.width||!t.height)throw new Error("Radius is undefined");const s=await Xi.load("./assets/sprites/hoop.png"),n=new Si(s);return n.width=t.width*i,n.height=t.height*i,n.anchor.set(1,0),e.stage.addChild(n),n},pb=async i=>{const t=new au;return await t.init({width:i.clientWidth,height:i.clientHeight,backgroundAlpha:0}),t},bb=(i,t)=>{const e=new mb({text:`Score: ${i}`,style:{fill:"#575a8a"}});return e.x=50,e.y=50,t.stage.addChild(e),e},yb=(i,t,e,s)=>{const n=[];if(!t.width||!t.height)throw new Error("Radius is undefined");for(let r=0;r<s;++r){const o=new Un().rect(0,0,(t.width-r*.004)*i,t.height*i).fill({color:"#2e2f44"});o.pivot.set(o.width/2,o.height/2),e.stage.addChild(o),n.push(o)}return n};var re={},Xt={},us={},Gu={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.configure=i.settings=void 0;const t={lengthUnitsPerMeter:1,maxPolygonVertices:8};i.settings={...t};function e(s){Object.assign(i.settings,t,s)}i.configure=e})(Gu);Object.defineProperty(us,"__esModule",{value:!0});us.b2_maxPolygonVertices=us.b2_lengthUnitsPerMeter=void 0;const Ru=Gu;us.b2_lengthUnitsPerMeter=Ru.settings.lengthUnitsPerMeter;us.b2_maxPolygonVertices=Ru.settings.maxPolygonVertices;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.b2MakeArray=i.b2MakeBooleanArray=i.b2MakeNumberArray=i.b2_version=i.b2_angularSleepTolerance=i.b2_linearSleepTolerance=i.b2_timeToSleep=i.b2_toiBaumgarte=i.b2_baumgarte=i.b2_maxRotationSquared=i.b2_maxRotation=i.b2_maxTranslationSquared=i.b2_maxTranslation=i.b2_maxAngularCorrection=i.b2_maxLinearCorrection=i.b2_maxTOIContacts=i.b2_maxSubSteps=i.b2_polygonRadius=i.b2_angularSlop=i.b2_linearSlop=i.b2_aabbMultiplier=i.b2_aabbExtension=i.b2_maxManifoldPoints=i.b2_epsilon_sq=i.b2_epsilon=i.b2_maxFloat=i.b2Verify=i.b2Assert=void 0;const t=us;function e(a,c){if(!a)throw new Error(c)}i.b2Assert=e;function s(a){if(a===null)throw new Error;return a}i.b2Verify=s,i.b2_maxFloat=1e37,i.b2_epsilon=1e-5,i.b2_epsilon_sq=i.b2_epsilon*i.b2_epsilon,i.b2_maxManifoldPoints=2,i.b2_aabbExtension=.1*t.b2_lengthUnitsPerMeter,i.b2_aabbMultiplier=4,i.b2_linearSlop=.005*t.b2_lengthUnitsPerMeter,i.b2_angularSlop=2/180*Math.PI,i.b2_polygonRadius=2*i.b2_linearSlop,i.b2_maxSubSteps=8,i.b2_maxTOIContacts=32,i.b2_maxLinearCorrection=.2*t.b2_lengthUnitsPerMeter,i.b2_maxAngularCorrection=8/180*Math.PI,i.b2_maxTranslation=2*t.b2_lengthUnitsPerMeter,i.b2_maxTranslationSquared=i.b2_maxTranslation*i.b2_maxTranslation,i.b2_maxRotation=.5*Math.PI,i.b2_maxRotationSquared=i.b2_maxRotation*i.b2_maxRotation,i.b2_baumgarte=.2,i.b2_toiBaumgarte=.75,i.b2_timeToSleep=.5,i.b2_linearSleepTolerance=.01*t.b2_lengthUnitsPerMeter,i.b2_angularSleepTolerance=2/180*Math.PI,i.b2_version={major:2,minor:4,patch:1};function n(a,c=0){const h=new Array(a);for(let l=0;l<a;l++)h[l]=c;return h}i.b2MakeNumberArray=n;function r(a,c=!1){const h=new Array(a);for(let l=0;l<a;l++)h[l]=c;return h}i.b2MakeBooleanArray=r;function o(a,c){const h=new Array(a);for(let l=0;l<a;l++)h[l]=new c;return h}i.b2MakeArray=o})(Xt);var Nt={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.b2Sweep=i.b2Transform=i.b2Rot=i.b2Mat33=i.b2Mat22=i.b2Vec3=i.b2Vec2=i.b2RandomInt=i.b2RandomFloat=i.b2Random=i.b2IsPowerOfTwo=i.b2NextPowerOfTwo=i.b2RadToDeg=i.b2DegToRad=i.b2Clamp=i.b2_two_pi=i.b2_180_over_pi=i.b2_pi_over_180=void 0;const t=Xt;i.b2_pi_over_180=Math.PI/180,i.b2_180_over_pi=180/Math.PI,i.b2_two_pi=2*Math.PI;function e(x,_,b){return x<_?_:x>b?b:x}i.b2Clamp=e;function s(x){return x*i.b2_pi_over_180}i.b2DegToRad=s;function n(x){return x*i.b2_180_over_pi}i.b2RadToDeg=n;function r(x){return x|=x>>1,x|=x>>2,x|=x>>4,x|=x>>8,x|=x>>16,x+1}i.b2NextPowerOfTwo=r;function o(x){return x>0&&(x&x-1)===0}i.b2IsPowerOfTwo=o;function a(){return Math.random()*2-1}i.b2Random=a;function c(x,_){return(_-x)*Math.random()+x}i.b2RandomFloat=c;function h(x,_){return Math.round((_-x)*Math.random()+x)}i.b2RandomInt=h;class l{constructor(_=0,b=0){this.x=_,this.y=b}Clone(){return new l(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(_,b){return this.x=_,this.y=b,this}Copy(_){return this.x=_.x,this.y=_.y,this}Add(_){return this.x+=_.x,this.y+=_.y,this}AddXY(_,b){return this.x+=_,this.y+=b,this}Subtract(_){return this.x-=_.x,this.y-=_.y,this}SubtractXY(_,b){return this.x-=_,this.y-=b,this}Scale(_){return this.x*=_,this.y*=_,this}AddScaled(_,b){return this.x+=_*b.x,this.y+=_*b.y,this}SubtractScaled(_,b){return this.x-=_*b.x,this.y-=_*b.y,this}Dot(_){return this.x*_.x+this.y*_.y}Cross(_){return this.x*_.y-this.y*_.x}Length(){const{x:_,y:b}=this;return Math.sqrt(_*_+b*b)}LengthSquared(){const{x:_,y:b}=this;return _*_+b*b}Normalize(){const _=this.Length();if(_<t.b2_epsilon)return 0;const b=1/_;return this.x*=b,this.y*=b,_}Rotate(_){const b=Math.cos(_),g=Math.sin(_),{x:A}=this;return this.x=b*A-g*this.y,this.y=g*A+b*this.y,this}RotateCosSin(_,b){const{x:g}=this;return this.x=_*g-b*this.y,this.y=b*g+_*this.y,this}IsValid(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}Abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}GetAbs(_){return _.x=Math.abs(this.x),_.y=Math.abs(this.y),_}Negate(){return this.x=-this.x,this.y=-this.y,this}Skew(){const{x:_}=this;return this.x=-this.y,this.y=_,this}static Min(_,b,g){return g.x=Math.min(_.x,b.x),g.y=Math.min(_.y,b.y),g}static Max(_,b,g){return g.x=Math.max(_.x,b.x),g.y=Math.max(_.y,b.y),g}static Clamp(_,b,g,A){return A.x=e(_.x,b.x,g.x),A.y=e(_.y,b.y,g.y),A}static Rotate(_,b,g){const A=_.x,B=_.y,w=Math.cos(b),P=Math.sin(b);return g.x=w*A-P*B,g.y=P*A+w*B,g}static Dot(_,b){return _.x*b.x+_.y*b.y}static Cross(_,b){return _.x*b.y-_.y*b.x}static CrossVec2Scalar(_,b,g){const A=_.x;return g.x=b*_.y,g.y=-b*A,g}static CrossVec2One(_,b){const g=_.x;return b.x=_.y,b.y=-g,b}static CrossScalarVec2(_,b,g){const A=b.x;return g.x=-_*b.y,g.y=_*A,g}static CrossOneVec2(_,b){const g=_.x;return b.x=-_.y,b.y=g,b}static Add(_,b,g){return g.x=_.x+b.x,g.y=_.y+b.y,g}static Subtract(_,b,g){return g.x=_.x-b.x,g.y=_.y-b.y,g}static Scale(_,b,g){return g.x=b.x*_,g.y=b.y*_,g}static AddScaled(_,b,g,A){return A.x=_.x+b*g.x,A.y=_.y+b*g.y,A}static SubtractScaled(_,b,g,A){return A.x=_.x-b*g.x,A.y=_.y-b*g.y,A}static AddCrossScalarVec2(_,b,g,A){const B=g.x;return A.x=_.x-b*g.y,A.y=_.y+b*B,A}static Mid(_,b,g){return g.x=(_.x+b.x)*.5,g.y=(_.y+b.y)*.5,g}static Extents(_,b,g){return g.x=(b.x-_.x)*.5,g.y=(b.y-_.y)*.5,g}static Equals(_,b){return _.x===b.x&&_.y===b.y}static Distance(_,b){return Math.sqrt((_.x-b.x)**2+(_.y-b.y)**2)}static DistanceSquared(_,b){return(_.x-b.x)**2+(_.y-b.y)**2}static Negate(_,b){return b.x=-_.x,b.y=-_.y,b}static Normalize(_,b){const g=_.x**2+_.y**2;if(g>=t.b2_epsilon_sq){const A=1/Math.sqrt(g);b.x=A*_.x,b.y=A*_.y}else b.x=0,b.y=0;return b}static Skew(_,b){const{x:g}=_;return b.x=-_.y,b.y=g,b}}i.b2Vec2=l,l.ZERO=new l,l.UNITX=new l(1,0),l.UNITY=new l(0,1),l.s_t0=new l,l.s_t1=new l,l.s_t2=new l,l.s_t3=new l;class u{constructor(_=0,b=0,g=0){this.x=_,this.y=b,this.z=g}Clone(){return new u(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}Set(_,b,g){return this.x=_,this.y=b,this.z=g,this}Copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this}Negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}Add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this}AddXYZ(_,b,g){return this.x+=_,this.y+=b,this.z+=g,this}Subtract(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this}SubtractXYZ(_,b,g){return this.x-=_,this.y-=b,this.z-=g,this}Scale(_){return this.x*=_,this.y*=_,this.z*=_,this}static Dot(_,b){return _.x*b.x+_.y*b.y+_.z*b.z}static Cross(_,b,g){const A=_.x,B=_.y,w=_.z,P=b.x,V=b.y,S=b.z;return g.x=B*S-w*V,g.y=w*P-A*S,g.z=A*V-B*P,g}}i.b2Vec3=u,u.ZERO=new u(0,0,0),u.s_t0=new u;class m{constructor(){this.ex=new l(1,0),this.ey=new l(0,1)}Clone(){return new m().Copy(this)}static FromColumns(_,b){return new m().SetColumns(_,b)}static FromScalars(_,b,g,A){return new m().SetScalars(_,b,g,A)}static FromAngle(_){return new m().SetAngle(_)}SetScalars(_,b,g,A){return this.ex.Set(_,g),this.ey.Set(b,A),this}SetColumns(_,b){return this.ex.Copy(_),this.ey.Copy(b),this}SetAngle(_){const b=Math.cos(_),g=Math.sin(_);return this.ex.Set(b,g),this.ey.Set(-g,b),this}Copy(_){return this.ex.Copy(_.ex),this.ey.Copy(_.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}Solve(_,b,g){const A=this.ex.x,B=this.ey.x,w=this.ex.y,P=this.ey.y;let V=A*P-B*w;return V!==0&&(V=1/V),g.x=V*(P*_-B*b),g.y=V*(A*b-w*_),g}Abs(){return this.ex.Abs(),this.ey.Abs(),this}Inverse(){return this.GetInverse(this),this}Add(_){return this.ex.Add(_.ex),this.ey.Add(_.ey),this}Subtract(_){return this.ex.Subtract(_.ex),this.ey.Subtract(_.ey),this}GetInverse(_){const b=this.ex.x,g=this.ey.x,A=this.ex.y,B=this.ey.y;let w=b*B-g*A;return w!==0&&(w=1/w),_.ex.x=w*B,_.ey.x=-w*g,_.ex.y=-w*A,_.ey.y=w*b,_}GetAbs(_){return _.ex.x=Math.abs(this.ex.x),_.ex.y=Math.abs(this.ex.y),_.ey.x=Math.abs(this.ey.x),_.ey.y=Math.abs(this.ey.y),_}static MultiplyVec2(_,b,g){const A=b.x,B=b.y;return g.x=_.ex.x*A+_.ey.x*B,g.y=_.ex.y*A+_.ey.y*B,g}static TransposeMultiplyVec2(_,b,g){const A=b.x,B=b.y;return g.x=_.ex.x*A+_.ex.y*B,g.y=_.ey.x*A+_.ey.y*B,g}static Add(_,b,g){return g.ex.x=_.ex.x+b.ex.x,g.ex.y=_.ex.y+b.ex.y,g.ey.x=_.ey.x+b.ey.x,g.ey.y=_.ey.y+b.ey.y,g}static Multiply(_,b,g){const A=_.ex.x,B=_.ex.y,w=_.ey.x,P=_.ey.y,V=b.ex.x,S=b.ex.y,D=b.ey.x,L=b.ey.y;return g.ex.x=A*V+w*S,g.ex.y=B*V+P*S,g.ey.x=A*D+w*L,g.ey.y=B*D+P*L,g}static TransposeMultiply(_,b,g){const A=_.ex.x,B=_.ex.y,w=_.ey.x,P=_.ey.y,V=b.ex.x,S=b.ex.y,D=b.ey.x,L=b.ey.y;return g.ex.x=A*V+B*S,g.ex.y=w*V+P*S,g.ey.x=A*D+B*L,g.ey.y=w*D+P*L,g}}i.b2Mat22=m,m.IDENTITY=new m;class d{constructor(){this.ex=new u(1,0,0),this.ey=new u(0,1,0),this.ez=new u(0,0,1)}Clone(){return new d().Copy(this)}SetColumns(_,b,g){return this.ex.Copy(_),this.ey.Copy(b),this.ez.Copy(g),this}Copy(_){return this.ex.Copy(_.ex),this.ey.Copy(_.ey),this.ez.Copy(_.ez),this}SetIdentity(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}Add(_){return this.ex.Add(_.ex),this.ey.Add(_.ey),this.ez.Add(_.ez),this}Solve33(_,b,g,A){const B=this.ex.x,w=this.ex.y,P=this.ex.z,V=this.ey.x,S=this.ey.y,D=this.ey.z,L=this.ez.x,k=this.ez.y,E=this.ez.z;let R=B*(S*E-D*k)+w*(D*L-V*E)+P*(V*k-S*L);return R!==0&&(R=1/R),A.x=R*(_*(S*E-D*k)+b*(D*L-V*E)+g*(V*k-S*L)),A.y=R*(B*(b*E-g*k)+w*(g*L-_*E)+P*(_*k-b*L)),A.z=R*(B*(S*g-D*b)+w*(D*_-V*g)+P*(V*b-S*_)),A}Solve22(_,b,g){const A=this.ex.x,B=this.ey.x,w=this.ex.y,P=this.ey.y;let V=A*P-B*w;return V!==0&&(V=1/V),g.x=V*(P*_-B*b),g.y=V*(A*b-w*_),g}GetInverse22(_){const b=this.ex.x,g=this.ey.x,A=this.ex.y,B=this.ey.y;let w=b*B-g*A;w!==0&&(w=1/w),_.ex.x=w*B,_.ey.x=-w*g,_.ex.z=0,_.ex.y=-w*A,_.ey.y=w*b,_.ey.z=0,_.ez.x=0,_.ez.y=0,_.ez.z=0}GetSymInverse33(_){let b=u.Dot(this.ex,u.Cross(this.ey,this.ez,u.s_t0));b!==0&&(b=1/b);const g=this.ex.x,A=this.ey.x,B=this.ez.x,w=this.ey.y,P=this.ez.y,V=this.ez.z;_.ex.x=b*(w*V-P*P),_.ex.y=b*(B*P-A*V),_.ex.z=b*(A*P-B*w),_.ey.x=_.ex.y,_.ey.y=b*(g*V-B*B),_.ey.z=b*(B*A-g*P),_.ez.x=_.ex.z,_.ez.y=_.ey.z,_.ez.z=b*(g*w-A*A)}static MultiplyVec3(_,b,g){const{x:A,y:B,z:w}=b;return g.x=_.ex.x*A+_.ey.x*B+_.ez.x*w,g.y=_.ex.y*A+_.ey.y*B+_.ez.y*w,g.z=_.ex.z*A+_.ey.z*B+_.ez.z*w,g}static MultiplyVec2(_,b,g){const{x:A,y:B}=b;return g.x=_.ex.x*A+_.ey.x*B,g.y=_.ex.y*A+_.ey.y*B,g}}i.b2Mat33=d,d.IDENTITY=new d;class f{constructor(_=0){this.s=0,this.c=1,_&&(this.s=Math.sin(_),this.c=Math.cos(_))}Clone(){return new f().Copy(this)}Copy(_){return this.s=_.s,this.c=_.c,this}Set(_){return this.s=Math.sin(_),this.c=Math.cos(_),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(_){return _.x=this.c,_.y=this.s,_}GetYAxis(_){return _.x=-this.s,_.y=this.c,_}static Multiply(_,b,g){const A=_.s*b.c+_.c*b.s,B=_.c*b.c-_.s*b.s;return g.s=A,g.c=B,g}static TransposeMultiply(_,b,g){const A=_.c*b.s-_.s*b.c,B=_.c*b.c+_.s*b.s;return g.s=A,g.c=B,g}static MultiplyVec2(_,b,g){const A=b.x,B=b.y;return g.x=_.c*A-_.s*B,g.y=_.s*A+_.c*B,g}static TransposeMultiplyVec2(_,b,g){const A=b.x,B=b.y;return g.x=_.c*A+_.s*B,g.y=-_.s*A+_.c*B,g}}i.b2Rot=f,f.IDENTITY=new f;class p{constructor(){this.p=new l,this.q=new f}Clone(){return new p().Copy(this)}Copy(_){return this.p.Copy(_.p),this.q.Copy(_.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(_,b){return this.p.Copy(_),this.q.Copy(b),this}SetPositionAngle(_,b){return this.p.Copy(_),this.q.Set(b),this}SetPosition(_){return this.p.Copy(_),this}SetPositionXY(_,b){return this.p.Set(_,b),this}SetRotation(_){return this.q.Copy(_),this}SetRotationAngle(_){return this.q.Set(_),this}GetPosition(){return this.p}GetRotation(){return this.q}GetAngle(){return this.q.GetAngle()}static MultiplyVec2(_,b,g){const A=b.x,B=b.y;return g.x=_.q.c*A-_.q.s*B+_.p.x,g.y=_.q.s*A+_.q.c*B+_.p.y,g}static TransposeMultiplyVec2(_,b,g){const A=b.x-_.p.x,B=b.y-_.p.y;return g.x=_.q.c*A+_.q.s*B,g.y=-_.q.s*A+_.q.c*B,g}static Multiply(_,b,g){return f.Multiply(_.q,b.q,g.q),f.MultiplyVec2(_.q,b.p,g.p).Add(_.p),g}static TransposeMultiply(_,b,g){return f.TransposeMultiply(_.q,b.q,g.q),f.TransposeMultiplyVec2(_.q,l.Subtract(b.p,_.p,g.p),g.p),g}}i.b2Transform=p,p.IDENTITY=new p;class y{constructor(){this.localCenter=new l,this.c0=new l,this.c=new l,this.a0=0,this.a=0,this.alpha0=0}Clone(){return new y().Copy(this)}Copy(_){return this.localCenter.Copy(_.localCenter),this.c0.Copy(_.c0),this.c.Copy(_.c),this.a0=_.a0,this.a=_.a,this.alpha0=_.alpha0,this}GetTransform(_,b){const g=1-b;_.p.x=g*this.c0.x+b*this.c.x,_.p.y=g*this.c0.y+b*this.c.y;const A=g*this.a0+b*this.a;return _.q.Set(A),_.p.Subtract(f.MultiplyVec2(_.q,this.localCenter,l.s_t0)),_}Advance(_){const b=(_-this.alpha0)/(1-this.alpha0);this.c0.x+=b*(this.c.x-this.c0.x),this.c0.y+=b*(this.c.y-this.c0.y),this.a0+=b*(this.a-this.a0),this.alpha0=_}Normalize(){const _=i.b2_two_pi*Math.floor(this.a0/i.b2_two_pi);this.a0-=_,this.a-=_}}i.b2Sweep=y})(Nt);var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.debugColors=Oe.b2Color=void 0;class $t{constructor(t=.5,e=.5,s=.5,n=1){this.r=t,this.g=e,this.b=s,this.a=n}Clone(){return new $t(this.r,this.g,this.b,this.a)}Copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}IsEqual(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}IsZero(){return this.r===0&&this.g===0&&this.b===0&&this.a===0}SetByteRGB(t,e,s){return this.r=t/255,this.g=e/255,this.b=s/255,this}SetByteRGBA(t,e,s,n){return this.r=t/255,this.g=e/255,this.b=s/255,this.a=n/255,this}SetRGB(t,e,s){return this.r=t,this.g=e,this.b=s,this}SetRGBA(t,e,s,n){return this.r=t,this.g=e,this.b=s,this.a=n,this}Add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}Subtract(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}Scale(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}Mix(t,e){$t.MixColors(this,t,e)}static Add(t,e,s){return s.r=t.r+e.r,s.g=t.g+e.g,s.b=t.b+e.b,s.a=t.a+e.a,s}static Subtract(t,e,s){return s.r=t.r-e.r,s.g=t.g-e.g,s.b=t.b-e.b,s.a=t.a-e.a,s}static Scale(t,e,s){return s.r=t.r*e,s.g=t.g*e,s.b=t.b*e,s.a=t.a*e,s}static MixColors(t,e,s){const n=s*(e.r-t.r),r=s*(e.g-t.g),o=s*(e.b-t.b),a=s*(e.a-t.a);t.r+=n,t.g+=r,t.b+=o,t.a+=a,e.r-=n,e.g-=r,e.b-=o,e.a-=a}}Oe.b2Color=$t;$t.ZERO=new $t(0,0,0,0);$t.RED=new $t(1,0,0);$t.GREEN=new $t(0,1,0);$t.BLUE=new $t(0,0,1);$t.WHITE=new $t(1,1,1);$t.BLACK=new $t(0,0,0);Oe.debugColors={badBody:new $t(1,0,0),disabledBody:new $t(.5,.5,.3),staticBody:new $t(.5,.9,.5),kinematicBody:new $t(.5,.5,.9),sleepingBody:new $t(.6,.6,.6),body:new $t(.9,.7,.7),pair:new $t(.3,.9,.9),aabb:new $t(.9,.3,.9),joint1:new $t(.7,.7,.7),joint2:new $t(.3,.9,.3),joint3:new $t(.9,.3,.3),joint4:new $t(.3,.3,.9),joint5:new $t(.4,.4,.4),joint6:new $t(.5,.8,.8),joint7:new $t(0,1,0),joint8:new $t(.8,.8,.8),rope:new $t(.4,.5,.7),ropePointG:new $t(.1,.8,.1),ropePointD:new $t(.7,.2,.4)};var qe={},Ls={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.b2Shape=ze.b2ShapeType=ze.b2MassData=void 0;const gb=Nt;class xb{constructor(){this.mass=0,this.center=new gb.b2Vec2,this.I=0}}ze.b2MassData=xb;var gh;(function(i){i[i.e_unknown=-1]="e_unknown",i[i.e_circle=0]="e_circle",i[i.e_edge=1]="e_edge",i[i.e_polygon=2]="e_polygon",i[i.e_chain=3]="e_chain",i[i.e_typeCount=4]="e_typeCount"})(gh||(ze.b2ShapeType=gh={}));class vb{constructor(t,e){this.m_radius=0,this.m_type=t,this.m_radius=e}Copy(t){return this.m_radius=t.m_radius,this}GetType(){return this.m_type}}ze.b2Shape=vb;var Mc={},Tt={},Yr={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.b2ShapeCast=i.b2Distance=i.b2Gjk=i.b2ShapeCastOutput=i.b2ShapeCastInput=i.b2DistanceOutput=i.b2DistanceInput=i.b2SimplexCache=i.b2DistanceProxy=void 0;const t=Xt,e=Nt;class s{constructor(){this.m_buffer=(0,t.b2MakeArray)(2,e.b2Vec2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}Copy(E){return E.m_vertices===E.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0]=E.m_buffer[0],this.m_buffer[1]=E.m_buffer[1]):this.m_vertices=E.m_vertices,this.m_count=E.m_count,this.m_radius=E.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(E,R){E.SetupDistanceProxy(this,R)}SetVerticesRadius(E,R,z){this.m_vertices=E,this.m_count=R,this.m_radius=z}GetSupport(E){let R=0,z=e.b2Vec2.Dot(this.m_vertices[0],E);for(let U=1;U<this.m_count;++U){const at=e.b2Vec2.Dot(this.m_vertices[U],E);at>z&&(R=U,z=at)}return R}GetSupportVertex(E){let R=0,z=e.b2Vec2.Dot(this.m_vertices[0],E);for(let U=1;U<this.m_count;++U){const at=e.b2Vec2.Dot(this.m_vertices[U],E);at>z&&(R=U,z=at)}return this.m_vertices[R]}GetVertexCount(){return this.m_count}GetVertex(E){return this.m_vertices[E]}}i.b2DistanceProxy=s;class n{constructor(){this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}}i.b2SimplexCache=n;class r{constructor(){this.proxyA=new s,this.proxyB=new s,this.transformA=new e.b2Transform,this.transformB=new e.b2Transform,this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}i.b2DistanceInput=r;class o{constructor(){this.pointA=new e.b2Vec2,this.pointB=new e.b2Vec2,this.distance=0,this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}i.b2DistanceOutput=o;class a{constructor(){this.proxyA=new s,this.proxyB=new s,this.transformA=new e.b2Transform,this.transformB=new e.b2Transform,this.translationB=new e.b2Vec2}}i.b2ShapeCastInput=a;class c{constructor(){this.point=new e.b2Vec2,this.normal=new e.b2Vec2,this.lambda=0,this.iterations=0}}i.b2ShapeCastOutput=c,i.b2Gjk={calls:0,iters:0,maxIters:0,reset(){this.calls=0,this.iters=0,this.maxIters=0}};class h{constructor(){this.wA=new e.b2Vec2,this.wB=new e.b2Vec2,this.w=new e.b2Vec2,this.a=0,this.indexA=0,this.indexB=0}Copy(E){return this.wA.Copy(E.wA),this.wB.Copy(E.wB),this.w.Copy(E.w),this.a=E.a,this.indexA=E.indexA,this.indexB=E.indexB,this}}class l{constructor(){this.m_v1=new h,this.m_v2=new h,this.m_v3=new h,this.m_count=0,this.m_vertices=[this.m_v1,this.m_v2,this.m_v3]}ReadCache(E,R,z,U,at){this.m_count=E.count;const N=this.m_vertices;for(let j=0;j<this.m_count;++j){const G=N[j];G.indexA=E.indexA[j],G.indexB=E.indexB[j];const W=R.GetVertex(G.indexA),ht=U.GetVertex(G.indexB);e.b2Transform.MultiplyVec2(z,W,G.wA),e.b2Transform.MultiplyVec2(at,ht,G.wB),e.b2Vec2.Subtract(G.wB,G.wA,G.w),G.a=0}if(this.m_count>1){const j=E.metric,G=this.GetMetric();(G<.5*j||2*j<G||G<t.b2_epsilon)&&(this.m_count=0)}if(this.m_count===0){const j=N[0];j.indexA=0,j.indexB=0;const G=R.GetVertex(0),W=U.GetVertex(0);e.b2Transform.MultiplyVec2(z,G,j.wA),e.b2Transform.MultiplyVec2(at,W,j.wB),e.b2Vec2.Subtract(j.wB,j.wA,j.w),j.a=1,this.m_count=1}}WriteCache(E){E.metric=this.GetMetric(),E.count=this.m_count;const R=this.m_vertices;for(let z=0;z<this.m_count;++z)E.indexA[z]=R[z].indexA,E.indexB[z]=R[z].indexB}GetSearchDirection(E){switch(this.m_count){case 1:return e.b2Vec2.Negate(this.m_v1.w,E);case 2:{const R=e.b2Vec2.Subtract(this.m_v2.w,this.m_v1.w,E);return e.b2Vec2.Cross(R,e.b2Vec2.Negate(this.m_v1.w,e.b2Vec2.s_t0))>0?e.b2Vec2.CrossOneVec2(R,E):e.b2Vec2.CrossVec2One(R,E)}default:return E.SetZero()}}GetClosestPoint(E){switch(this.m_count){case 0:return E.SetZero();case 1:return E.Copy(this.m_v1.w);case 2:return E.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return E.SetZero();default:return E.SetZero()}}GetWitnessPoints(E,R){switch(this.m_count){case 0:break;case 1:E.Copy(this.m_v1.wA),R.Copy(this.m_v1.wB);break;case 2:E.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,E.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,R.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,R.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:R.x=E.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,R.y=E.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break}}GetMetric(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return e.b2Vec2.Distance(this.m_v1.w,this.m_v2.w);case 3:return e.b2Vec2.Cross(e.b2Vec2.Subtract(this.m_v2.w,this.m_v1.w,e.b2Vec2.s_t0),e.b2Vec2.Subtract(this.m_v3.w,this.m_v1.w,e.b2Vec2.s_t1));default:return 0}}Solve2(){const E=this.m_v1.w,R=this.m_v2.w,z=e.b2Vec2.Subtract(R,E,l.s_e12),U=-e.b2Vec2.Dot(E,z);if(U<=0){this.m_v1.a=1,this.m_count=1;return}const at=e.b2Vec2.Dot(R,z);if(at<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}const N=1/(at+U);this.m_v1.a=at*N,this.m_v2.a=U*N,this.m_count=2}Solve3(){const E=this.m_v1.w,R=this.m_v2.w,z=this.m_v3.w,U=e.b2Vec2.Subtract(R,E,l.s_e12),at=e.b2Vec2.Dot(E,U),j=e.b2Vec2.Dot(R,U),G=-at,W=e.b2Vec2.Subtract(z,E,l.s_e13),ht=e.b2Vec2.Dot(E,W),ut=e.b2Vec2.Dot(z,W),Rt=-ht,dt=e.b2Vec2.Subtract(z,R,l.s_e23),lt=e.b2Vec2.Dot(R,dt),nt=e.b2Vec2.Dot(z,dt),pt=-lt,Q=e.b2Vec2.Cross(U,W),Ct=Q*e.b2Vec2.Cross(R,z),kt=Q*e.b2Vec2.Cross(z,E),Pt=Q*e.b2Vec2.Cross(E,R);if(G<=0&&Rt<=0){this.m_v1.a=1,this.m_count=1;return}if(j>0&&G>0&&Pt<=0){const Ot=1/(j+G);this.m_v1.a=j*Ot,this.m_v2.a=G*Ot,this.m_count=2;return}if(ut>0&&Rt>0&&kt<=0){const Ot=1/(ut+Rt);this.m_v1.a=ut*Ot,this.m_v3.a=Rt*Ot,this.m_count=2,this.m_v2.Copy(this.m_v3);return}if(j<=0&&pt<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}if(ut<=0&&nt<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3);return}if(nt>0&&pt>0&&Ct<=0){const Ot=1/(nt+pt);this.m_v2.a=nt*Ot,this.m_v3.a=pt*Ot,this.m_count=2,this.m_v1.Copy(this.m_v3);return}const St=1/(Ct+kt+Pt);this.m_v1.a=Ct*St,this.m_v2.a=kt*St,this.m_v3.a=Pt*St,this.m_count=3}}l.s_e12=new e.b2Vec2,l.s_e13=new e.b2Vec2,l.s_e23=new e.b2Vec2;const u=new l,m=[0,0,0],d=[0,0,0],f=new e.b2Vec2,p=new e.b2Vec2,y=new e.b2Vec2,x=new e.b2Vec2,_=new e.b2Vec2;function b(k,E,R){++i.b2Gjk.calls;const{proxyA:z,proxyB:U,transformA:at,transformB:N}=R,j=u;j.ReadCache(E,z,at,U,N);const G=j.m_vertices,W=20,ht=m,xt=d;let ut=0,Rt=0;for(;Rt<W;){ut=j.m_count;for(let nt=0;nt<ut;++nt)ht[nt]=G[nt].indexA,xt[nt]=G[nt].indexB;switch(j.m_count){case 1:break;case 2:j.Solve2();break;case 3:j.Solve3();break}if(j.m_count===3)break;const dt=j.GetSearchDirection(p);if(dt.LengthSquared()<t.b2_epsilon_sq)break;const lt=G[j.m_count];lt.indexA=z.GetSupport(e.b2Rot.TransposeMultiplyVec2(at.q,e.b2Vec2.Negate(dt,e.b2Vec2.s_t0),x)),e.b2Transform.MultiplyVec2(at,z.GetVertex(lt.indexA),lt.wA),lt.indexB=U.GetSupport(e.b2Rot.TransposeMultiplyVec2(N.q,dt,_)),e.b2Transform.MultiplyVec2(N,U.GetVertex(lt.indexB),lt.wB),e.b2Vec2.Subtract(lt.wB,lt.wA,lt.w),++Rt,++i.b2Gjk.iters;let it=!1;for(let nt=0;nt<ut;++nt)if(lt.indexA===ht[nt]&&lt.indexB===xt[nt]){it=!0;break}if(it)break;++j.m_count}if(i.b2Gjk.maxIters=Math.max(i.b2Gjk.maxIters,Rt),j.GetWitnessPoints(k.pointA,k.pointB),k.distance=e.b2Vec2.Distance(k.pointA,k.pointB),k.iterations=Rt,j.WriteCache(E),R.useRadii)if(k.distance<t.b2_epsilon){const dt=e.b2Vec2.Mid(k.pointA,k.pointB,f);k.pointA.Copy(dt),k.pointB.Copy(dt),k.distance=0}else{const dt=z.m_radius,lt=U.m_radius,it=e.b2Vec2.Subtract(k.pointB,k.pointA,y);it.Normalize(),k.distance=Math.max(0,k.distance-dt-lt),k.pointA.AddScaled(dt,it),k.pointB.SubtractScaled(lt,it)}}i.b2Distance=b;const g=new e.b2Vec2,A=new l,B=new e.b2Vec2,w=new e.b2Vec2,P=new e.b2Vec2,V=new e.b2Vec2,S=new e.b2Vec2,D=new e.b2Vec2;function L(k,E){k.iterations=0,k.lambda=1,k.normal.SetZero(),k.point.SetZero();const{proxyA:R,proxyB:z}=E,U=Math.max(R.m_radius,t.b2_polygonRadius),at=Math.max(z.m_radius,t.b2_polygonRadius),N=U+at,j=E.transformA,G=E.transformB,W=E.translationB,ht=g.SetZero();let xt=0;const ut=A;ut.m_count=0;const Rt=ut.m_vertices;let dt=R.GetSupport(e.b2Rot.TransposeMultiplyVec2(j.q,e.b2Vec2.Negate(W,e.b2Vec2.s_t1),e.b2Vec2.s_t0)),lt=e.b2Transform.MultiplyVec2(j,R.GetVertex(dt),B),it=z.GetSupport(e.b2Rot.TransposeMultiplyVec2(G.q,W,e.b2Vec2.s_t0)),nt=e.b2Transform.MultiplyVec2(G,z.GetVertex(it),w);const pt=e.b2Vec2.Subtract(lt,nt,P),Q=Math.max(t.b2_polygonRadius,N-t.b2_polygonRadius),Ct=.5*t.b2_linearSlop,kt=20;let Pt=0;for(;Pt<kt&&pt.Length()-Q>Ct;){k.iterations+=1,dt=R.GetSupport(e.b2Rot.TransposeMultiplyVec2(j.q,e.b2Vec2.Negate(pt,e.b2Vec2.s_t1),e.b2Vec2.s_t0)),lt=e.b2Transform.MultiplyVec2(j,R.GetVertex(dt),B),it=z.GetSupport(e.b2Rot.TransposeMultiplyVec2(G.q,pt,e.b2Vec2.s_t0)),nt=e.b2Transform.MultiplyVec2(G,z.GetVertex(it),w);const ne=e.b2Vec2.Subtract(lt,nt,V);pt.Normalize();const _e=e.b2Vec2.Dot(pt,ne),ce=e.b2Vec2.Dot(pt,W);if(_e-Q>xt*ce){if(ce<=0||(xt=(_e-Q)/ce,xt>1))return!1;e.b2Vec2.Negate(pt,ht),ut.m_count=0}const fe=Rt[ut.m_count];switch(fe.indexA=it,e.b2Vec2.AddScaled(nt,xt,W,fe.wA),fe.indexB=dt,fe.wB.Copy(lt),e.b2Vec2.Subtract(fe.wB,fe.wA,fe.w),fe.a=1,ut.m_count+=1,ut.m_count){case 1:break;case 2:ut.Solve2();break;case 3:ut.Solve3();break}if(ut.m_count===3)return!1;ut.GetClosestPoint(pt),++Pt}if(Pt===0)return!1;const St=S,Ot=D;return ut.GetWitnessPoints(St,Ot),pt.LengthSquared()>0&&(e.b2Vec2.Negate(pt,ht),ht.Normalize()),e.b2Vec2.AddScaled(St,U,ht,k.point),k.normal.Copy(ht),k.lambda=xt,k.iterations=Pt,!0}i.b2ShapeCast=L})(Yr);Object.defineProperty(Tt,"__esModule",{value:!0});Tt.b2ValidateHull=Tt.b2ComputeHull=Tt.b2TestOverlap=Tt.b2ClipSegmentToLine=Tt.b2AABB=Tt.b2RayCastOutput=Tt.b2RayCastInput=Tt.b2ClipVertex=Tt.b2GetPointStates=Tt.b2PointState=Tt.b2WorldManifold=Tt.b2Manifold=Tt.b2ManifoldType=Tt.b2ManifoldPoint=Tt.b2ContactID=Tt.b2ContactFeature=Tt.b2ContactFeatureType=void 0;const Kt=Xt,tt=Nt,Zr=Yr,Pn=us;var rn;(function(i){i[i.e_vertex=0]="e_vertex",i[i.e_face=1]="e_face"})(rn||(Tt.b2ContactFeatureType=rn={}));class Fu{constructor(){this.m_key=0,this.m_key_invalid=!1,this.m_indexA=0,this.m_indexB=0,this.m_typeA=rn.e_vertex,this.m_typeB=rn.e_vertex}get key(){return this.m_key_invalid&&(this.m_key_invalid=!1,this.m_key=this.m_indexA|this.m_indexB<<8|this.m_typeA<<16|this.m_typeB<<24),this.m_key}set key(t){this.m_key=t,this.m_key_invalid=!1,this.m_indexA=this.m_key&255,this.m_indexB=this.m_key>>8&255,this.m_typeA=this.m_key>>16&255,this.m_typeB=this.m_key>>24&255}get indexA(){return this.m_indexA}set indexA(t){this.m_indexA=t,this.m_key_invalid=!0}get indexB(){return this.m_indexB}set indexB(t){this.m_indexB=t,this.m_key_invalid=!0}get typeA(){return this.m_typeA}set typeA(t){this.m_typeA=t,this.m_key_invalid=!0}get typeB(){return this.m_typeB}set typeB(t){this.m_typeB=t,this.m_key_invalid=!0}}Tt.b2ContactFeature=Fu;class Zn{constructor(){this.cf=new Fu}Copy(t){return this.key=t.key,this}Clone(){return new Zn().Copy(this)}get key(){return this.cf.key}set key(t){this.cf.key=t}}Tt.b2ContactID=Zn;class zu{constructor(){this.localPoint=new tt.b2Vec2,this.normalImpulse=0,this.tangentImpulse=0,this.id=new Zn}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(t){return this.localPoint.Copy(t.localPoint),this.normalImpulse=t.normalImpulse,this.tangentImpulse=t.tangentImpulse,this.id.Copy(t.id),this}}Tt.b2ManifoldPoint=zu;var wi;(function(i){i[i.e_circles=0]="e_circles",i[i.e_faceA=1]="e_faceA",i[i.e_faceB=2]="e_faceB"})(wi||(Tt.b2ManifoldType=wi={}));class Pc{constructor(){this.points=(0,Kt.b2MakeArray)(Kt.b2_maxManifoldPoints,zu),this.localNormal=new tt.b2Vec2,this.localPoint=new tt.b2Vec2,this.type=wi.e_circles,this.pointCount=0}Reset(){for(let t=0;t<Kt.b2_maxManifoldPoints;++t)this.points[t].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=wi.e_circles,this.pointCount=0}Copy(t){this.pointCount=t.pointCount;for(let e=0;e<Kt.b2_maxManifoldPoints;++e)this.points[e].Copy(t.points[e]);return this.localNormal.Copy(t.localNormal),this.localPoint.Copy(t.localPoint),this.type=t.type,this}Clone(){return new Pc().Copy(this)}}Tt.b2Manifold=Pc;class ge{constructor(){this.normal=new tt.b2Vec2,this.points=(0,Kt.b2MakeArray)(Kt.b2_maxManifoldPoints,tt.b2Vec2),this.separations=(0,Kt.b2MakeNumberArray)(Kt.b2_maxManifoldPoints)}Initialize(t,e,s,n,r){if(t.pointCount!==0)switch(t.type){case wi.e_circles:{this.normal.Set(1,0);const o=tt.b2Transform.MultiplyVec2(e,t.localPoint,ge.Initialize_s_pointA),a=tt.b2Transform.MultiplyVec2(n,t.points[0].localPoint,ge.Initialize_s_pointB);tt.b2Vec2.DistanceSquared(o,a)>Kt.b2_epsilon_sq&&tt.b2Vec2.Subtract(a,o,this.normal).Normalize();const c=tt.b2Vec2.AddScaled(o,s,this.normal,ge.Initialize_s_cA),h=tt.b2Vec2.SubtractScaled(a,r,this.normal,ge.Initialize_s_cB);tt.b2Vec2.Mid(c,h,this.points[0]),this.separations[0]=tt.b2Vec2.Dot(tt.b2Vec2.Subtract(h,c,tt.b2Vec2.s_t0),this.normal);break}case wi.e_faceA:{tt.b2Rot.MultiplyVec2(e.q,t.localNormal,this.normal);const o=tt.b2Transform.MultiplyVec2(e,t.localPoint,ge.Initialize_s_planePoint);for(let a=0;a<t.pointCount;++a){const c=tt.b2Transform.MultiplyVec2(n,t.points[a].localPoint,ge.Initialize_s_clipPoint),h=s-tt.b2Vec2.Dot(tt.b2Vec2.Subtract(c,o,tt.b2Vec2.s_t0),this.normal),l=tt.b2Vec2.AddScaled(c,h,this.normal,ge.Initialize_s_cA),u=tt.b2Vec2.SubtractScaled(c,r,this.normal,ge.Initialize_s_cB);tt.b2Vec2.Mid(l,u,this.points[a]),this.separations[a]=tt.b2Vec2.Dot(tt.b2Vec2.Subtract(u,l,tt.b2Vec2.s_t0),this.normal)}break}case wi.e_faceB:{tt.b2Rot.MultiplyVec2(n.q,t.localNormal,this.normal);const o=tt.b2Transform.MultiplyVec2(n,t.localPoint,ge.Initialize_s_planePoint);for(let a=0;a<t.pointCount;++a){const c=tt.b2Transform.MultiplyVec2(e,t.points[a].localPoint,ge.Initialize_s_clipPoint),h=r-tt.b2Vec2.Dot(tt.b2Vec2.Subtract(c,o,tt.b2Vec2.s_t0),this.normal),l=tt.b2Vec2.AddScaled(c,h,this.normal,ge.Initialize_s_cB),u=tt.b2Vec2.SubtractScaled(c,s,this.normal,ge.Initialize_s_cA);tt.b2Vec2.Mid(u,l,this.points[a]),this.separations[a]=tt.b2Vec2.Dot(tt.b2Vec2.Subtract(u,l,tt.b2Vec2.s_t0),this.normal)}this.normal.Negate();break}}}}Tt.b2WorldManifold=ge;ge.Initialize_s_pointA=new tt.b2Vec2;ge.Initialize_s_pointB=new tt.b2Vec2;ge.Initialize_s_cA=new tt.b2Vec2;ge.Initialize_s_cB=new tt.b2Vec2;ge.Initialize_s_planePoint=new tt.b2Vec2;ge.Initialize_s_clipPoint=new tt.b2Vec2;var ei;(function(i){i[i.b2_nullState=0]="b2_nullState",i[i.b2_addState=1]="b2_addState",i[i.b2_persistState=2]="b2_persistState",i[i.b2_removeState=3]="b2_removeState"})(ei||(Tt.b2PointState=ei={}));function Ab(i,t,e,s){let n;for(n=0;n<e.pointCount;++n){const{key:r}=e.points[n].id;i[n]=ei.b2_removeState;for(let o=0;o<s.pointCount;++o)if(s.points[o].id.key===r){i[n]=ei.b2_persistState;break}}for(;n<Kt.b2_maxManifoldPoints;++n)i[n]=ei.b2_nullState;for(n=0;n<s.pointCount;++n){const{key:r}=s.points[n].id;t[n]=ei.b2_addState;for(let o=0;o<e.pointCount;++o)if(e.points[o].id.key===r){t[n]=ei.b2_persistState;break}}for(;n<Kt.b2_maxManifoldPoints;++n)t[n]=ei.b2_nullState}Tt.b2GetPointStates=Ab;class wb{constructor(){this.v=new tt.b2Vec2,this.id=new Zn}Copy(t){return this.v.Copy(t.v),this.id.Copy(t.id),this}}Tt.b2ClipVertex=wb;class Cb{constructor(){this.p1=new tt.b2Vec2,this.p2=new tt.b2Vec2,this.maxFraction=1}Copy(t){return this.p1.Copy(t.p1),this.p2.Copy(t.p2),this.maxFraction=t.maxFraction,this}}Tt.b2RayCastInput=Cb;class Sb{constructor(){this.normal=new tt.b2Vec2,this.fraction=0}Copy(t){return this.normal.Copy(t.normal),this.fraction=t.fraction,this}}Tt.b2RayCastOutput=Sb;class Ou{constructor(){this.lowerBound=new tt.b2Vec2,this.upperBound=new tt.b2Vec2}Copy(t){return this.lowerBound.Copy(t.lowerBound),this.upperBound.Copy(t.upperBound),this}IsValid(){return this.lowerBound.IsValid()&&this.upperBound.IsValid()&&this.upperBound.x>=this.lowerBound.x&&this.upperBound.y>=this.lowerBound.y}GetCenter(t){return tt.b2Vec2.Mid(this.lowerBound,this.upperBound,t)}GetExtents(t){return tt.b2Vec2.Extents(this.lowerBound,this.upperBound,t)}GetPerimeter(){const t=this.upperBound.x-this.lowerBound.x,e=this.upperBound.y-this.lowerBound.y;return 2*(t+e)}Combine1(t){return this.lowerBound.x=Math.min(this.lowerBound.x,t.lowerBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,t.lowerBound.y),this.upperBound.x=Math.max(this.upperBound.x,t.upperBound.x),this.upperBound.y=Math.max(this.upperBound.y,t.upperBound.y),this}Combine2(t,e){return this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y),this}static Combine(t,e,s){return s.Combine2(t,e),s}Contains(t){return this.lowerBound.x<=t.lowerBound.x&&this.lowerBound.y<=t.lowerBound.y&&t.upperBound.x<=this.upperBound.x&&t.upperBound.y<=this.upperBound.y}RayCast(t,e){let s=-Kt.b2_maxFloat,n=Kt.b2_maxFloat;const r=e.p1.x,o=e.p1.y,a=e.p2.x-e.p1.x,c=e.p2.y-e.p1.y,h=Math.abs(a),l=Math.abs(c),{normal:u}=t;if(h<Kt.b2_epsilon){if(r<this.lowerBound.x||this.upperBound.x<r)return!1}else{const m=1/a;let d=(this.lowerBound.x-r)*m,f=(this.upperBound.x-r)*m,p=-1;if(d>f){const y=d;d=f,f=y,p=1}if(d>s&&(u.x=p,u.y=0,s=d),n=Math.min(n,f),s>n)return!1}if(l<Kt.b2_epsilon){if(o<this.lowerBound.y||this.upperBound.y<o)return!1}else{const m=1/c;let d=(this.lowerBound.y-o)*m,f=(this.upperBound.y-o)*m,p=-1;if(d>f){const y=d;d=f,f=y,p=1}if(d>s&&(u.x=0,u.y=p,s=d),n=Math.min(n,f),s>n)return!1}return s<0||e.maxFraction<s?!1:(t.fraction=s,!0)}TestContain(t){return!(t.x<this.lowerBound.x||this.upperBound.x<t.x||t.y<this.lowerBound.y||this.upperBound.y<t.y)}TestOverlap(t){return!(this.upperBound.x<t.lowerBound.x||this.upperBound.y<t.lowerBound.y||t.upperBound.x<this.lowerBound.x||t.upperBound.y<this.lowerBound.y)}}Tt.b2AABB=Ou;function Bb(i,[t,e],s,n,r){let o=0;const a=tt.b2Vec2.Dot(s,t.v)-n,c=tt.b2Vec2.Dot(s,e.v)-n;if(a<=0&&i[o++].Copy(t),c<=0&&i[o++].Copy(e),a*c<0){const h=a/(a-c),{v:l,id:u}=i[o];l.x=t.v.x+h*(e.v.x-t.v.x),l.y=t.v.y+h*(e.v.y-t.v.y),u.cf.indexA=r,u.cf.indexB=t.id.cf.indexB,u.cf.typeA=rn.e_vertex,u.cf.typeB=rn.e_face,++o}return o}Tt.b2ClipSegmentToLine=Bb;const Vb=new Zr.b2DistanceInput,Mb=new Zr.b2SimplexCache,Pb=new Zr.b2DistanceOutput;function Ib(i,t,e,s,n,r){const o=Vb.Reset();o.proxyA.SetShape(i,t),o.proxyB.SetShape(e,s),o.transformA.Copy(n),o.transformB.Copy(r),o.useRadii=!0;const a=Mb.Reset();a.count=0;const c=Pb.Reset();return(0,Zr.b2Distance)(c,a,o),c.distance<10*Kt.b2_epsilon}Tt.b2TestOverlap=Ib;const Tb=new tt.b2Vec2,xh=new tt.b2Vec2,In=[];function Rr(i,t,e){if(e.length===0)return In;const s=tt.b2Vec2.Subtract(t,i,Tb);s.Normalize();const n=[];let r=0,o=tt.b2Vec2.Cross(tt.b2Vec2.Subtract(e[r],i,xh),s);o>0&&n.push(e[r]);for(let u=1;u<e.length;++u){const m=tt.b2Vec2.Cross(tt.b2Vec2.Subtract(e[u],i,xh),s);m>o&&(r=u,o=m),m>0&&n.push(e[u])}if(o<2*Kt.b2_linearSlop)return In;const a=e[r],c=Rr(i,a,n),h=Rr(a,t,n),l=[...c,a,...h];return(0,Kt.b2Assert)(l.length<Pn.b2_maxPolygonVertices),l}const vh=new tt.b2Vec2,kb=new tt.b2Vec2,Eb=new tt.b2Vec2,Db=new tt.b2Vec2,Lb=new Ou;function Gb(i,t){if(t<3||t>Pn.b2_maxPolygonVertices)return In;t=Math.min(t,Pn.b2_maxPolygonVertices);const e=Lb;e.lowerBound.Set(Kt.b2_maxFloat,Kt.b2_maxFloat),e.upperBound.Set(-Kt.b2_maxFloat,-Kt.b2_maxFloat);const s=[],n=16*Kt.b2_linearSlop*Kt.b2_linearSlop;for(let g=0;g<t;++g){tt.b2Vec2.Min(e.lowerBound,i[g],e.lowerBound),tt.b2Vec2.Max(e.upperBound,i[g],e.upperBound);const A=i[g];let B=!0;for(let w=0;w<g;++w){const P=i[w];if(tt.b2Vec2.DistanceSquared(A,P)<n){B=!1;break}}B&&s.push(A)}let r=s.length;if(r<3)return In;const o=e.GetCenter(Eb);let a=0,c=tt.b2Vec2.DistanceSquared(o,s[a]);for(let g=1;g<r;++g){const A=tt.b2Vec2.DistanceSquared(o,s[g]);A>c&&(a=g,c=A)}const h=s[a];s[a]=s[r-1],r-=1;let l=0,u=tt.b2Vec2.DistanceSquared(h,s[l]);for(let g=1;g<r;++g){const A=tt.b2Vec2.DistanceSquared(h,s[g]);A>u&&(l=g,u=A)}const m=s[l];s[l]=s[r-1],r-=1;const d=[],f=[],p=tt.b2Vec2.Subtract(m,h,vh);p.Normalize();for(let g=0;g<r;++g){const A=tt.b2Vec2.Cross(tt.b2Vec2.Subtract(s[g],h,Db),p);A>=2*Kt.b2_linearSlop?d.push(s[g]):A<=-2*Kt.b2_linearSlop&&f.push(s[g])}const y=Rr(h,m,d),x=Rr(m,h,f);if(y.length===0&&x.length===0)return In;const _=[h,...y,m,...x];(0,Kt.b2Assert)(_.length<=Pn.b2_maxPolygonVertices);let b=!0;for(;b&&_.length>2;){b=!1;for(let g=0;g<_.length;++g){const A=g,B=(g+1)%_.length,w=(g+2)%_.length,P=_[A],V=_[B],S=_[w],D=tt.b2Vec2.Subtract(S,P,vh);D.Normalize();const L=tt.b2Vec2.Subtract(V,P,kb);if(tt.b2Vec2.Cross(L,D)<=2*Kt.b2_linearSlop){_.splice(B,1),b=!0;break}}}return _.length<3&&(_.length=0),_}Tt.b2ComputeHull=Gb;const Ah=new tt.b2Vec2,wh=new tt.b2Vec2;function Rb(i,t){if(t<3||Pn.b2_maxPolygonVertices<t)return!1;for(let e=0;e<t;++e){const s=e,n=e<t-1?s+1:0,r=i[s],o=tt.b2Vec2.Subtract(i[n],r,Ah);o.Normalize();for(let a=0;a<t;++a){if(a===s||a===n)continue;if(tt.b2Vec2.Cross(tt.b2Vec2.Subtract(i[a],r,wh),o)>=0)return!1}}for(let e=0;e<t;++e){const s=e,n=(e+1)%t,r=(e+2)%t,o=i[s],a=i[n],c=i[r],h=tt.b2Vec2.Subtract(c,o,Ah);if(h.Normalize(),tt.b2Vec2.Cross(tt.b2Vec2.Subtract(a,o,wh),h)<=Kt.b2_linearSlop)return!1}return!0}Tt.b2ValidateHull=Rb;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.b2Fixture=i.b2FixtureProxy=i.b2DefaultFilter=void 0;const t=Nt,e=Tt,s=ze,n=Xt,r=us,o={c1:new t.b2Vec2,c2:new t.b2Vec2};i.b2DefaultFilter={categoryBits:1,maskBits:65535,groupIndex:0};class a{constructor(d,f,p,y){this.aabb=new e.b2AABB,this.fixture=d,this.childIndex=y,d.m_shape.ComputeAABB(this.aabb,p,y),this.treeNode=f.CreateProxy(this.aabb,this)}}i.b2FixtureProxy=a;const c=new e.b2AABB,h=new e.b2AABB,l=new t.b2Vec2;class u{get m_proxyCount(){return this.m_proxies.length}constructor(d,f){var p,y,x,_,b;this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_restitutionThreshold=0,this.m_proxies=[],this.m_isSensor=!1,this.m_userData={},this.m_body=d,this.m_shape=f.shape.Clone(),f.userData&&this.SetUserData(f.userData),this.m_friction=(p=f.friction)!==null&&p!==void 0?p:.2,this.m_restitution=(y=f.restitution)!==null&&y!==void 0?y:0,this.m_restitutionThreshold=(x=f.restitutionThreshold)!==null&&x!==void 0?x:r.b2_lengthUnitsPerMeter,this.m_filter={...i.b2DefaultFilter,...f.filter},this.m_isSensor=(_=f.isSensor)!==null&&_!==void 0?_:!1,this.m_density=(b=f.density)!==null&&b!==void 0?b:0}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(d){d!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=d)}IsSensor(){return this.m_isSensor}SetFilterData(d){var f,p,y;this.m_filter.categoryBits=(f=d.categoryBits)!==null&&f!==void 0?f:i.b2DefaultFilter.categoryBits,this.m_filter.groupIndex=(p=d.groupIndex)!==null&&p!==void 0?p:i.b2DefaultFilter.groupIndex,this.m_filter.maskBits=(y=d.maskBits)!==null&&y!==void 0?y:i.b2DefaultFilter.maskBits,this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let d=this.m_body.GetContactList();for(;d;){const{contact:y}=d,x=y.GetFixtureA(),_=y.GetFixtureB();(x===this||_===this)&&y.FlagForFiltering(),d=d.next}const p=this.m_body.GetWorld().m_contactManager.m_broadPhase;for(const y of this.m_proxies)p.TouchProxy(y.treeNode)}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(d){Object.assign(this.m_userData,d)}TestPoint(d){return this.m_shape.TestPoint(this.m_body.GetTransform(),d)}RayCast(d,f,p){return this.m_shape.RayCast(d,f,this.m_body.GetTransform(),p)}GetMassData(d=new s.b2MassData){return this.m_shape.ComputeMass(d,this.m_density),d}SetDensity(d){this.m_density=d}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(d){this.m_friction=d}GetRestitution(){return this.m_restitution}SetRestitution(d){this.m_restitution=d}GetRestitutionThreshold(){return this.m_restitutionThreshold}SetRestitutionThreshold(d){this.m_restitutionThreshold=d}GetAABB(d){return this.m_proxies[d].aabb}CreateProxies(d,f){(0,n.b2Assert)(this.m_proxies.length===0),this.m_proxies.length=this.m_shape.GetChildCount();for(let p=0;p<this.m_proxies.length;++p)this.m_proxies[p]=new a(this,d,f,p)}DestroyProxies(d){for(const f of this.m_proxies)d.DestroyProxy(f.treeNode);this.m_proxies.length=0}Synchronize(d,f,p){const{c1:y,c2:x}=o,_=l;for(const b of this.m_proxies){const g=c,A=h;this.m_shape.ComputeAABB(g,f,b.childIndex),this.m_shape.ComputeAABB(A,p,b.childIndex),b.aabb.Combine2(g,A),t.b2Vec2.Subtract(A.GetCenter(x),g.GetCenter(y),_),d.MoveProxy(b.treeNode,b.aabb,_)}}}i.b2Fixture=u})(Mc);Object.defineProperty(Ls,"__esModule",{value:!0});Ls.b2Body=Ls.b2BodyType=void 0;const Ft=Nt,Fb=ze,zb=Mc,$i=Xt;var pe;(function(i){i[i.b2_staticBody=0]="b2_staticBody",i[i.b2_kinematicBody=1]="b2_kinematicBody",i[i.b2_dynamicBody=2]="b2_dynamicBody"})(pe||(Ls.b2BodyType=pe={}));class os{constructor(t,e){var s,n,r,o,a,c,h,l,u,m,d,f,p,y;this.m_type=pe.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_enabledFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new Ft.b2Transform,this.m_sweep=new Ft.b2Sweep,this.m_linearVelocity=new Ft.b2Vec2,this.m_angularVelocity=0,this.m_force=new Ft.b2Vec2,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData={},this.m_bulletFlag=(s=t.bullet)!==null&&s!==void 0?s:!1,this.m_fixedRotationFlag=(n=t.fixedRotation)!==null&&n!==void 0?n:!1,this.m_autoSleepFlag=(r=t.allowSleep)!==null&&r!==void 0?r:!0,(!((o=t.awake)!==null&&o!==void 0)||o)&&((a=t.type)!==null&&a!==void 0?a:pe.b2_staticBody)!==pe.b2_staticBody&&(this.m_awakeFlag=!0),this.m_enabledFlag=(c=t.enabled)!==null&&c!==void 0?c:!0,this.m_world=e,this.m_xf.p.Copy((h=t.position)!==null&&h!==void 0?h:Ft.b2Vec2.ZERO),this.m_xf.q.Set((l=t.angle)!==null&&l!==void 0?l:0),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy((u=t.linearVelocity)!==null&&u!==void 0?u:Ft.b2Vec2.ZERO),this.m_angularVelocity=(m=t.angularVelocity)!==null&&m!==void 0?m:0,this.m_linearDamping=(d=t.linearDamping)!==null&&d!==void 0?d:0,this.m_angularDamping=(f=t.angularDamping)!==null&&f!==void 0?f:0,this.m_gravityScale=(p=t.gravityScale)!==null&&p!==void 0?p:1,this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=(y=t.type)!==null&&y!==void 0?y:pe.b2_staticBody,this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,t.userData&&this.SetUserData(t.userData),this.m_fixtureList=null,this.m_fixtureCount=0}CreateFixture(t){(0,$i.b2Assert)(!this.m_world.IsLocked());const e=new zb.b2Fixture(this,t);if(this.m_enabledFlag){const s=this.m_world.m_contactManager.m_broadPhase;e.CreateProxies(s,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_density>0&&this.ResetMassData(),this.m_world.m_newContacts=!0,e}DestroyFixture(t){(0,$i.b2Assert)(!this.m_world.IsLocked());let e=this.m_fixtureList,s=null;for(;e!==null;){if(e===t){s?s.m_next=t.m_next:this.m_fixtureList=t.m_next;break}s=e,e=e.m_next}const n=t.m_density;let r=this.m_contactList;for(;r;){const o=r.contact;r=r.next;const a=o.GetFixtureA(),c=o.GetFixtureB();(t===a||t===c)&&this.m_world.m_contactManager.Destroy(o)}if(this.m_enabledFlag){const o=this.m_world.m_contactManager.m_broadPhase;t.DestroyProxies(o)}t.m_next=null,--this.m_fixtureCount,n>0&&this.ResetMassData()}SetTransformVec(t,e){this.SetTransformXY(t.x,t.y,e)}SetTransformXY(t,e,s){(0,$i.b2Assert)(!this.m_world.IsLocked()),this.m_xf.q.Set(s),this.m_xf.p.Set(t,e),Ft.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=s,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=s;const n=this.m_world.m_contactManager.m_broadPhase;for(let r=this.m_fixtureList;r;r=r.m_next)r.Synchronize(n,this.m_xf,this.m_xf);this.m_world.m_newContacts=!0}SetTransform(t){this.SetTransformVec(t.p,t.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}GetAngle(){return this.m_sweep.a}SetAngle(t){this.SetTransformVec(this.GetPosition(),t)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(t){this.m_type!==pe.b2_staticBody&&(Ft.b2Vec2.Dot(t,t)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(t))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(t){this.m_type!==pe.b2_staticBody&&(t*t>0&&this.SetAwake(!0),this.m_angularVelocity=t)}GetAngularVelocity(){return this.m_angularVelocity}ApplyForce(t,e,s=!0){this.m_type===pe.b2_dynamicBody&&(s&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))}ApplyForceToCenter(t,e=!0){this.m_type===pe.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=t.x,this.m_force.y+=t.y))}ApplyTorque(t,e=!0){this.m_type===pe.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=t))}ApplyLinearImpulse(t,e,s=!0){this.m_type===pe.b2_dynamicBody&&(s&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)))}ApplyLinearImpulseToCenter(t,e=!0){this.m_type===pe.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y))}ApplyAngularImpulse(t,e=!0){this.m_type===pe.b2_dynamicBody&&(e&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*t))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*Ft.b2Vec2.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(t){return t.mass=this.m_mass,t.I=this.m_I+this.m_mass*Ft.b2Vec2.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter),t.center.Copy(this.m_sweep.localCenter),t}SetMassData(t){if((0,$i.b2Assert)(!this.m_world.IsLocked()),this.m_type!==pe.b2_dynamicBody)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=t.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,t.I>0&&!this.m_fixedRotationFlag&&(this.m_I=t.I-this.m_mass*Ft.b2Vec2.Dot(t.center,t.center),this.m_invI=1/this.m_I);const e=os.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(t.center),Ft.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),Ft.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,Ft.b2Vec2.Subtract(this.m_sweep.c,e,Ft.b2Vec2.s_t0),this.m_linearVelocity)}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===pe.b2_staticBody||this.m_type===pe.b2_kinematicBody){this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}const t=os.ResetMassData_s_localCenter.SetZero();for(let s=this.m_fixtureList;s;s=s.m_next){if(s.m_density===0)continue;const n=s.GetMassData(os.ResetMassData_s_massData);this.m_mass+=n.mass,t.AddScaled(n.mass,n.center),this.m_I+=n.I}this.m_mass>0&&(this.m_invMass=1/this.m_mass,t.Scale(this.m_invMass)),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*Ft.b2Vec2.Dot(t,t),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);const e=os.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(t),Ft.b2Transform.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),Ft.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,Ft.b2Vec2.Subtract(this.m_sweep.c,e,Ft.b2Vec2.s_t0),this.m_linearVelocity)}GetWorldPoint(t,e){return Ft.b2Transform.MultiplyVec2(this.m_xf,t,e)}GetWorldVector(t,e){return Ft.b2Rot.MultiplyVec2(this.m_xf.q,t,e)}GetLocalPoint(t,e){return Ft.b2Transform.TransposeMultiplyVec2(this.m_xf,t,e)}GetLocalVector(t,e){return Ft.b2Rot.TransposeMultiplyVec2(this.m_xf.q,t,e)}GetLinearVelocityFromWorldPoint(t,e){return Ft.b2Vec2.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,Ft.b2Vec2.Subtract(t,this.m_sweep.c,Ft.b2Vec2.s_t0),e)}GetLinearVelocityFromLocalPoint(t,e){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(t,e),e)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(t){this.m_linearDamping=t}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(t){this.m_angularDamping=t}GetGravityScale(){return this.m_gravityScale}SetGravityScale(t){this.m_gravityScale=t}SetType(t){if((0,$i.b2Assert)(!this.m_world.IsLocked()),this.m_type===t)return;this.m_type=t,this.ResetMassData(),this.m_type===pe.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_awakeFlag=!1,this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let e=this.m_contactList;for(;e;){const n=e;e=e.next,this.m_world.m_contactManager.Destroy(n.contact)}this.m_contactList=null;const s=this.m_world.m_contactManager.m_broadPhase;for(let n=this.m_fixtureList;n;n=n.m_next)for(const r of n.m_proxies)s.TouchProxy(r.treeNode)}GetType(){return this.m_type}SetBullet(t){this.m_bulletFlag=t}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(t){this.m_autoSleepFlag=t,t||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(t){this.m_type!==pe.b2_staticBody&&(t?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0))}IsAwake(){return this.m_awakeFlag}SetEnabled(t){if((0,$i.b2Assert)(!this.m_world.IsLocked()),t===this.IsEnabled())return;this.m_enabledFlag=t;const e=this.m_world.m_contactManager.m_broadPhase;if(t){for(let s=this.m_fixtureList;s;s=s.m_next)s.CreateProxies(e,this.m_xf);this.m_world.m_newContacts=!0}else{for(let n=this.m_fixtureList;n;n=n.m_next)n.DestroyProxies(e);let s=this.m_contactList;for(;s;){const n=s;s=s.next,this.m_world.m_contactManager.Destroy(n.contact)}this.m_contactList=null}}IsEnabled(){return this.m_enabledFlag}SetFixedRotation(t){this.m_fixedRotationFlag!==t&&(this.m_fixedRotationFlag=t,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(t){Object.assign(this.m_userData,t)}GetWorld(){return this.m_world}SynchronizeFixtures(){const t=this.m_world.m_contactManager.m_broadPhase;if(this.m_awakeFlag){const e=os.SynchronizeFixtures_s_xf1;e.q.Set(this.m_sweep.a0),Ft.b2Rot.MultiplyVec2(e.q,this.m_sweep.localCenter,e.p),Ft.b2Vec2.Subtract(this.m_sweep.c0,e.p,e.p);for(let s=this.m_fixtureList;s;s=s.m_next)s.Synchronize(t,e,this.m_xf)}else for(let e=this.m_fixtureList;e;e=e.m_next)e.Synchronize(t,this.m_xf,this.m_xf)}SynchronizeTransform(){this.m_xf.q.Set(this.m_sweep.a),Ft.b2Rot.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),Ft.b2Vec2.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(t){return this.m_type!==pe.b2_dynamicBody&&t.m_type!==pe.b2_dynamicBody?!1:this.ShouldCollideConnected(t)}ShouldCollideConnected(t){for(let e=this.m_jointList;e;e=e.next)if(e.other===t&&!e.joint.m_collideConnected)return!1;return!0}Advance(t){this.m_sweep.Advance(t),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.Set(this.m_sweep.a),Ft.b2Rot.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),Ft.b2Vec2.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}}Ls.b2Body=os;os.SetMassData_s_oldCenter=new Ft.b2Vec2;os.ResetMassData_s_localCenter=new Ft.b2Vec2;os.ResetMassData_s_oldCenter=new Ft.b2Vec2;os.ResetMassData_s_massData=new Fb.b2MassData;os.SynchronizeFixtures_s_xf1=new Ft.b2Transform;Object.defineProperty(qe,"__esModule",{value:!0});qe.DrawCenterOfMasses=qe.DrawAABBs=qe.DrawPairs=qe.DrawJoints=qe.DrawShapes=qe.GetShapeColor=void 0;const xr=Nt,si=Oe,Ko=Ls,Ob=Xt,Fr={cA:new xr.b2Vec2,cB:new xr.b2Vec2,vs:(0,Ob.b2MakeArray)(4,xr.b2Vec2),xf:new xr.b2Transform};function $u(i){return i.GetType()===Ko.b2BodyType.b2_dynamicBody&&i.m_mass===0?si.debugColors.badBody:i.IsEnabled()?i.GetType()===Ko.b2BodyType.b2_staticBody?si.debugColors.staticBody:i.GetType()===Ko.b2BodyType.b2_kinematicBody?si.debugColors.kinematicBody:i.IsAwake()?si.debugColors.body:si.debugColors.sleepingBody:si.debugColors.disabledBody}qe.GetShapeColor=$u;function $b(i,t){for(let e=0;e<i.m_proxyCount;e++)if(t.TestOverlap(i.GetAABB(e)))return!0;return!1}function jb(i,t,e){for(let s=t.GetBodyList();s;s=s.m_next){const n=s.m_xf;i.PushTransform(n);for(let r=s.GetFixtureList();r;r=r.m_next)e&&!$b(r,e)||r.GetShape().Draw(i,$u(s));i.PopTransform(n)}}qe.DrawShapes=jb;function Nb(i,t){for(let e=t.GetJointList();e;e=e.m_next)e.Draw(i)}qe.DrawJoints=Nb;function qb(i,t){for(let e=t.GetContactList();e;e=e.m_next){const s=e.GetFixtureA(),n=e.GetFixtureB(),r=e.GetChildIndexA(),o=e.GetChildIndexB(),a=s.GetAABB(r).GetCenter(Fr.cA),c=n.GetAABB(o).GetCenter(Fr.cB);i.DrawSegment(a,c,si.debugColors.pair)}}qe.DrawPairs=qb;function Hb(i,t,e){const{vs:s}=Fr;for(let n=t.GetBodyList();n;n=n.m_next)if(n.IsEnabled())for(let r=n.GetFixtureList();r;r=r.m_next)for(let o=0;o<r.m_proxyCount;++o){const{aabb:a}=r.m_proxies[o].treeNode;e&&!e.TestOverlap(a)||(s[0].Set(a.lowerBound.x,a.lowerBound.y),s[1].Set(a.upperBound.x,a.lowerBound.y),s[2].Set(a.upperBound.x,a.upperBound.y),s[3].Set(a.lowerBound.x,a.upperBound.y),i.DrawPolygon(s,4,si.debugColors.aabb))}}qe.DrawAABBs=Hb;function Ub(i,t){const{xf:e}=Fr;for(let s=t.GetBodyList();s;s=s.m_next)e.q.Copy(s.m_xf.q),e.p.Copy(s.GetWorldCenter()),i.DrawTransform(e)}qe.DrawCenterOfMasses=Ub;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.b2Timer=void 0;class Wb{constructor(){this.m_start=performance.now()}Reset(){return this.m_start=performance.now(),this}GetMilliseconds(){return performance.now()-this.m_start}}Ri.b2Timer=Wb;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.b2_augment=void 0;function Jb(i,t){for(const e of Object.keys(t)){const s=t[e],n=i[e],r=function(...o){return s.call(this,n.bind(this),...o)};Object.defineProperty(r,"name",{value:e}),i[e]=r}}Kr.b2_augment=Jb;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});var Kn={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.b2DynamicTree=Vi.b2TreeNode=void 0;const ee=Xt,be=Nt,vi=Tt,Os={stack:[],t:new be.b2Vec2,r:new be.b2Vec2,v:new be.b2Vec2,abs_v:new be.b2Vec2,segmentAABB:new vi.b2AABB,subInput:new vi.b2RayCastInput,combinedAABB:new vi.b2AABB,aabb:new vi.b2AABB,fatAABB:new vi.b2AABB,hugeAABB:new vi.b2AABB,c:new be.b2Vec2,h:new be.b2Vec2};let Xb=0;class Nu{constructor(){this.aabb=new vi.b2AABB,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.moved=!1,this.id=Xb++}Reset(){this.child1=null,this.child2=null,this.height=-1,this.userData=null}IsLeaf(){return this.child1===null}GetArea(){if(this.IsLeaf())return 0;let t=this.aabb.GetPerimeter();return this.child1&&(t+=this.child1.GetArea()),this.child2&&(t+=this.child2.GetArea()),t}ComputeHeight(){if(this.IsLeaf())return 0;(0,ee.b2Assert)(this.child1!==null&&this.child2!==null);const t=(0,ee.b2Verify)(this.child1).ComputeHeight(),e=(0,ee.b2Verify)(this.child2).ComputeHeight();return 1+Math.max(t,e)}GetMaxBalance(){if(this.height<=1)return 0;const t=(0,ee.b2Verify)(this.child1),e=(0,ee.b2Verify)(this.child2);return Math.max(t.GetMaxBalance(),e.GetMaxBalance(),Math.abs(e.height-t.height))}ShiftOrigin(t){this.height<=1||((0,ee.b2Verify)(this.child1).ShiftOrigin(t),(0,ee.b2Verify)(this.child2).ShiftOrigin(t),this.aabb.lowerBound.Subtract(t),this.aabb.upperBound.Subtract(t))}}Vi.b2TreeNode=Nu;class Yb{constructor(){this.m_root=null,this.m_freeList=null}Query(t,e){const s=Os.stack;s.length=0;let n=this.m_root;for(;n;){if(n.aabb.TestOverlap(t))if(n.IsLeaf()){if(!e(n))return}else s.push(n.child1),s.push(n.child2);n=s.pop()}}QueryPoint(t,e){const s=Os.stack;s.length=0;let n=this.m_root;for(;n;){if(n.aabb.TestContain(t))if(n.IsLeaf()){if(!e(n))return}else s.push(n.child1),s.push(n.child2);n=s.pop()}}RayCast(t,e){const{p1:s,p2:n}=t,r=be.b2Vec2.Subtract(n,s,Os.r);r.Normalize();const o=be.b2Vec2.CrossOneVec2(r,Os.v),a=o.GetAbs(Os.abs_v);let{maxFraction:c}=t;const{segmentAABB:h,subInput:l,c:u,h:m,t:d}=Os;be.b2Vec2.AddScaled(s,c,be.b2Vec2.Subtract(n,s,d),d),be.b2Vec2.Min(s,d,h.lowerBound),be.b2Vec2.Max(s,d,h.upperBound);const f=Os.stack;f.length=0;let p=this.m_root;for(;p;){if(!p.aabb.TestOverlap(h)){p=f.pop();continue}if(p.aabb.GetCenter(u),p.aabb.GetExtents(m),Math.abs(be.b2Vec2.Dot(o,be.b2Vec2.Subtract(s,u,be.b2Vec2.s_t0)))-be.b2Vec2.Dot(a,m)>0){p=f.pop();continue}if(p.IsLeaf()){l.p1.Copy(t.p1),l.p2.Copy(t.p2),l.maxFraction=c;const x=e(l,p);if(x===0)return;x>0&&(c=x,be.b2Vec2.AddScaled(s,c,be.b2Vec2.Subtract(n,s,d),d),be.b2Vec2.Min(s,d,h.lowerBound),be.b2Vec2.Max(s,d,h.upperBound))}else f.push(p.child1),f.push(p.child2);p=f.pop()}}AllocateNode(){if(this.m_freeList===null)return new Nu;const t=this.m_freeList;return this.m_freeList=t.parent,t.parent=null,t.child1=null,t.child2=null,t.height=0,t.moved=!1,t}FreeNode(t){t.parent=this.m_freeList,t.Reset(),this.m_freeList=t}CreateProxy(t,e){const s=this.AllocateNode(),n=ee.b2_aabbExtension;return s.aabb.lowerBound.Set(t.lowerBound.x-n,t.lowerBound.y-n),s.aabb.upperBound.Set(t.upperBound.x+n,t.upperBound.y+n),s.userData=e,s.height=0,s.moved=!0,this.InsertLeaf(s),s}DestroyProxy(t){this.RemoveLeaf(t),this.FreeNode(t)}MoveProxy(t,e,s){const{fatAABB:n,hugeAABB:r}=Os,o=ee.b2_aabbExtension;n.lowerBound.Set(e.lowerBound.x-o,e.lowerBound.y-o),n.upperBound.Set(e.upperBound.x+o,e.upperBound.y+o);const a=ee.b2_aabbMultiplier*s.x,c=ee.b2_aabbMultiplier*s.y;a<0?n.lowerBound.x+=a:n.upperBound.x+=a,c<0?n.lowerBound.y+=c:n.upperBound.y+=c;const h=t.aabb;if(h.Contains(e)){const l=4*ee.b2_aabbExtension;if(r.lowerBound.Set(n.lowerBound.x-l,e.lowerBound.y-l),r.upperBound.Set(n.upperBound.x+l,e.upperBound.y+l),r.Contains(h))return!1}return this.RemoveLeaf(t),t.aabb.Copy(n),this.InsertLeaf(t),t.moved=!0,!0}InsertLeaf(t){if(this.m_root===null){this.m_root=t,this.m_root.parent=null;return}const{combinedAABB:e,aabb:s}=Os,n=t.aabb;let r=this.m_root;for(;!r.IsLeaf();){const h=(0,ee.b2Verify)(r.child1),l=(0,ee.b2Verify)(r.child2),u=r.aabb.GetPerimeter();e.Combine2(r.aabb,n);const m=e.GetPerimeter(),d=2*m,f=2*(m-u);let p,y,x;h.IsLeaf()?(s.Combine2(n,h.aabb),p=s.GetPerimeter()+f):(s.Combine2(n,h.aabb),y=h.aabb.GetPerimeter(),x=s.GetPerimeter(),p=x-y+f);let _;if(l.IsLeaf()?(s.Combine2(n,l.aabb),_=s.GetPerimeter()+f):(s.Combine2(n,l.aabb),y=l.aabb.GetPerimeter(),x=s.GetPerimeter(),_=x-y+f),d<p&&d<_)break;p<_?r=h:r=l}const o=r.parent,a=this.AllocateNode();a.parent=o,a.userData=null,a.aabb.Combine2(n,r.aabb),a.height=r.height+1,o!==null?(o.child1===r?o.child1=a:o.child2=a,a.child1=r,a.child2=t,r.parent=a,t.parent=a):(a.child1=r,a.child2=t,r.parent=a,t.parent=a,this.m_root=a);let c=t.parent;for(;c!==null;){c=this.Balance(c);const h=(0,ee.b2Verify)(c.child1),l=(0,ee.b2Verify)(c.child2);c.height=1+Math.max(h.height,l.height),c.aabb.Combine2(h.aabb,l.aabb),c=c.parent}}RemoveLeaf(t){if(t===this.m_root){this.m_root=null;return}const e=(0,ee.b2Verify)(t.parent),s=e.parent,n=(0,ee.b2Verify)(e.child1===t?e.child2:e.child1);if(s!==null){s.child1===e?s.child1=n:s.child2=n,n.parent=s,this.FreeNode(e);let r=s;for(;r!==null;){r=this.Balance(r);const o=(0,ee.b2Verify)(r.child1),a=(0,ee.b2Verify)(r.child2);r.aabb.Combine2(o.aabb,a.aabb),r.height=1+Math.max(o.height,a.height),r=r.parent}}else this.m_root=n,n.parent=null,this.FreeNode(e)}Balance(t){if(t.IsLeaf()||t.height<2)return t;const e=(0,ee.b2Verify)(t.child1),s=(0,ee.b2Verify)(t.child2),n=s.height-e.height;if(n>1){const r=(0,ee.b2Verify)(s.child1),o=(0,ee.b2Verify)(s.child2);return s.child1=t,s.parent=t.parent,t.parent=s,s.parent!==null?s.parent.child1===t?s.parent.child1=s:s.parent.child2=s:this.m_root=s,r.height>o.height?(s.child2=r,t.child2=o,o.parent=t,t.aabb.Combine2(e.aabb,o.aabb),s.aabb.Combine2(t.aabb,r.aabb),t.height=1+Math.max(e.height,o.height),s.height=1+Math.max(t.height,r.height)):(s.child2=o,t.child2=r,r.parent=t,t.aabb.Combine2(e.aabb,r.aabb),s.aabb.Combine2(t.aabb,o.aabb),t.height=1+Math.max(e.height,r.height),s.height=1+Math.max(t.height,o.height)),s}if(n<-1){const r=(0,ee.b2Verify)(e.child1),o=(0,ee.b2Verify)(e.child2);return e.child1=t,e.parent=t.parent,t.parent=e,e.parent!==null?e.parent.child1===t?e.parent.child1=e:e.parent.child2=e:this.m_root=e,r.height>o.height?(e.child2=r,t.child1=o,o.parent=t,t.aabb.Combine2(s.aabb,o.aabb),e.aabb.Combine2(t.aabb,r.aabb),t.height=1+Math.max(s.height,o.height),e.height=1+Math.max(t.height,r.height)):(e.child2=o,t.child1=r,r.parent=t,t.aabb.Combine2(s.aabb,r.aabb),e.aabb.Combine2(t.aabb,o.aabb),t.height=1+Math.max(s.height,r.height),e.height=1+Math.max(t.height,o.height)),e}return t}GetHeight(){return this.m_root===null?0:this.m_root.height}GetAreaRatio(){if(this.m_root===null)return 0;const t=this.m_root,e=t.aabb.GetPerimeter();return t.GetArea()/e}GetMaxBalance(){return this.m_root===null?0:this.m_root.GetMaxBalance()}ShiftOrigin(t){var e;(e=this.m_root)===null||e===void 0||e.ShiftOrigin(t)}}Vi.b2DynamicTree=Yb;Object.defineProperty(Kn,"__esModule",{value:!0});Kn.b2BroadPhase=void 0;const Ch=Xt,Sh=Vi;class Zb{constructor(){this.m_tree=new Sh.b2DynamicTree,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[],this.m_queryProxy=new Sh.b2TreeNode,this.QueryCallback=t=>(t.id===this.m_queryProxy.id||t.moved&&t.id>this.m_queryProxy.id||(this.m_pairBuffer[this.m_pairCount]=t.id<this.m_queryProxy.id?[t,this.m_queryProxy]:[this.m_queryProxy,t],++this.m_pairCount),!0)}CreateProxy(t,e){const s=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(s),s}DestroyProxy(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)}MoveProxy(t,e,s){this.m_tree.MoveProxy(t,e,s)&&this.BufferMove(t)}TouchProxy(t){this.BufferMove(t)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(t){this.m_pairCount=0;for(let e=0;e<this.m_moveCount;++e){const s=this.m_moveBuffer[e];if(s===null)continue;this.m_queryProxy=s;const n=s.aabb;this.m_tree.Query(n,this.QueryCallback)}for(let e=0;e<this.m_pairCount;++e){const s=this.m_pairBuffer[e],n=(0,Ch.b2Verify)(s[0].userData),r=(0,Ch.b2Verify)(s[1].userData);t(n,r)}for(let e=0;e<this.m_moveCount;++e){const s=this.m_moveBuffer[e];s&&(s.moved=!1)}this.m_moveCount=0}Query(t,e){this.m_tree.Query(t,e)}QueryPoint(t,e){this.m_tree.QueryPoint(t,e)}RayCast(t,e){this.m_tree.RayCast(t,e)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(t){this.m_tree.ShiftOrigin(t)}BufferMove(t){this.m_moveBuffer[this.m_moveCount]=t,++this.m_moveCount}UnBufferMove(t){const e=this.m_moveBuffer.indexOf(t);this.m_moveBuffer[e]=null}}Kn.b2BroadPhase=Zb;var Ic={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.b2TimeOfImpact=i.b2TOIOutput=i.b2TOIOutputState=i.b2TOIInput=i.b2Toi=void 0;const t=Xt,e=us,s=Nt,n=Ri,r=Yr;i.b2Toi={time:0,maxTime:0,calls:0,iters:0,maxIters:0,rootIters:0,maxRootIters:0,reset(){this.time=0,this.maxTime=0,this.calls=0,this.iters=0,this.maxIters=0,this.rootIters=0,this.maxRootIters=0}};const o=new s.b2Transform,a=new s.b2Transform,c=new s.b2Vec2,h=new s.b2Vec2,l=new s.b2Vec2,u=new s.b2Vec2,m=new s.b2Vec2;class d{constructor(){this.proxyA=new r.b2DistanceProxy,this.proxyB=new r.b2DistanceProxy,this.sweepA=new s.b2Sweep,this.sweepB=new s.b2Sweep,this.tMax=0}}i.b2TOIInput=d;var f;(function(L){L[L.e_unknown=0]="e_unknown",L[L.e_failed=1]="e_failed",L[L.e_overlapped=2]="e_overlapped",L[L.e_touching=3]="e_touching",L[L.e_separated=4]="e_separated"})(f||(i.b2TOIOutputState=f={}));class p{constructor(){this.state=f.e_unknown,this.t=0}}i.b2TOIOutput=p;var y;(function(L){L[L.e_points=0]="e_points",L[L.e_faceA=1]="e_faceA",L[L.e_faceB=2]="e_faceB"})(y||(y={}));class x{constructor(){this.m_sweepA=new s.b2Sweep,this.m_sweepB=new s.b2Sweep,this.m_type=y.e_points,this.m_localPoint=new s.b2Vec2,this.m_axis=new s.b2Vec2}Initialize(k,E,R,z,U,at){this.m_proxyA=E,this.m_proxyB=z;const{count:N}=k;this.m_sweepA.Copy(R),this.m_sweepB.Copy(U);const j=this.m_sweepA.GetTransform(o,at),G=this.m_sweepB.GetTransform(a,at);if(N===1){this.m_type=y.e_points;const it=this.m_proxyA.GetVertex(k.indexA[0]),nt=this.m_proxyB.GetVertex(k.indexB[0]),pt=s.b2Transform.MultiplyVec2(j,it,c),Q=s.b2Transform.MultiplyVec2(G,nt,h);return s.b2Vec2.Subtract(Q,pt,this.m_axis),this.m_axis.Normalize()}if(k.indexA[0]===k.indexA[1]){this.m_type=y.e_faceB;const it=this.m_proxyB.GetVertex(k.indexB[0]),nt=this.m_proxyB.GetVertex(k.indexB[1]);s.b2Vec2.CrossVec2One(s.b2Vec2.Subtract(nt,it,s.b2Vec2.s_t0),this.m_axis).Normalize();const pt=s.b2Rot.MultiplyVec2(G.q,this.m_axis,l);s.b2Vec2.Mid(it,nt,this.m_localPoint);const Q=s.b2Transform.MultiplyVec2(G,this.m_localPoint,h),Ct=this.m_proxyA.GetVertex(k.indexA[0]),kt=s.b2Transform.MultiplyVec2(j,Ct,c);let Pt=s.b2Vec2.Dot(s.b2Vec2.Subtract(kt,Q,s.b2Vec2.s_t0),pt);return Pt<0&&(this.m_axis.Negate(),Pt=-Pt),Pt}this.m_type=y.e_faceA;const W=this.m_proxyA.GetVertex(k.indexA[0]),ht=this.m_proxyA.GetVertex(k.indexA[1]);s.b2Vec2.CrossVec2One(s.b2Vec2.Subtract(ht,W,s.b2Vec2.s_t0),this.m_axis).Normalize();const xt=s.b2Rot.MultiplyVec2(j.q,this.m_axis,l);s.b2Vec2.Mid(W,ht,this.m_localPoint);const ut=s.b2Transform.MultiplyVec2(j,this.m_localPoint,c),Rt=this.m_proxyB.GetVertex(k.indexB[0]),dt=s.b2Transform.MultiplyVec2(G,Rt,h);let lt=s.b2Vec2.Dot(s.b2Vec2.Subtract(dt,ut,s.b2Vec2.s_t0),xt);return lt<0&&(this.m_axis.Negate(),lt=-lt),lt}FindMinSeparation(k,E,R){const z=this.m_sweepA.GetTransform(o,R),U=this.m_sweepB.GetTransform(a,R);switch(this.m_type){case y.e_points:{const at=s.b2Rot.TransposeMultiplyVec2(z.q,this.m_axis,u),N=s.b2Rot.TransposeMultiplyVec2(U.q,s.b2Vec2.Negate(this.m_axis,s.b2Vec2.s_t0),m);k[0]=this.m_proxyA.GetSupport(at),E[0]=this.m_proxyB.GetSupport(N);const j=this.m_proxyA.GetVertex(k[0]),G=this.m_proxyB.GetVertex(E[0]),W=s.b2Transform.MultiplyVec2(z,j,c),ht=s.b2Transform.MultiplyVec2(U,G,h);return s.b2Vec2.Dot(s.b2Vec2.Subtract(ht,W,s.b2Vec2.s_t0),this.m_axis)}case y.e_faceA:{const at=s.b2Rot.MultiplyVec2(z.q,this.m_axis,l),N=s.b2Transform.MultiplyVec2(z,this.m_localPoint,c),j=s.b2Rot.TransposeMultiplyVec2(U.q,s.b2Vec2.Negate(at,s.b2Vec2.s_t0),m);k[0]=-1,E[0]=this.m_proxyB.GetSupport(j);const G=this.m_proxyB.GetVertex(E[0]),W=s.b2Transform.MultiplyVec2(U,G,h);return s.b2Vec2.Dot(s.b2Vec2.Subtract(W,N,s.b2Vec2.s_t0),at)}case y.e_faceB:{const at=s.b2Rot.MultiplyVec2(U.q,this.m_axis,l),N=s.b2Transform.MultiplyVec2(U,this.m_localPoint,h),j=s.b2Rot.TransposeMultiplyVec2(z.q,s.b2Vec2.Negate(at,s.b2Vec2.s_t0),u);E[0]=-1,k[0]=this.m_proxyA.GetSupport(j);const G=this.m_proxyA.GetVertex(k[0]),W=s.b2Transform.MultiplyVec2(z,G,c);return s.b2Vec2.Dot(s.b2Vec2.Subtract(W,N,s.b2Vec2.s_t0),at)}default:return k[0]=-1,E[0]=-1,0}}Evaluate(k,E,R){const z=this.m_sweepA.GetTransform(o,R),U=this.m_sweepB.GetTransform(a,R);switch(this.m_type){case y.e_points:{const at=this.m_proxyA.GetVertex(k),N=this.m_proxyB.GetVertex(E),j=s.b2Transform.MultiplyVec2(z,at,c),G=s.b2Transform.MultiplyVec2(U,N,h);return s.b2Vec2.Dot(s.b2Vec2.Subtract(G,j,s.b2Vec2.s_t0),this.m_axis)}case y.e_faceA:{const at=s.b2Rot.MultiplyVec2(z.q,this.m_axis,l),N=s.b2Transform.MultiplyVec2(z,this.m_localPoint,c),j=this.m_proxyB.GetVertex(E),G=s.b2Transform.MultiplyVec2(U,j,h);return s.b2Vec2.Dot(s.b2Vec2.Subtract(G,N,s.b2Vec2.s_t0),at)}case y.e_faceB:{const at=s.b2Rot.MultiplyVec2(U.q,this.m_axis,l),N=s.b2Transform.MultiplyVec2(U,this.m_localPoint,h),j=this.m_proxyA.GetVertex(k),G=s.b2Transform.MultiplyVec2(z,j,c);return s.b2Vec2.Dot(s.b2Vec2.Subtract(G,N,s.b2Vec2.s_t0),at)}default:return(0,t.b2Assert)(!1),0}}}const _=new n.b2Timer,b=new r.b2SimplexCache,g=new r.b2DistanceInput,A=new r.b2DistanceOutput,B=new x,w=[0],P=[0],V=new s.b2Sweep,S=new s.b2Sweep;function D(L,k){const E=_.Reset();++i.b2Toi.calls,L.state=f.e_unknown,L.t=k.tMax;const{proxyA:R,proxyB:z,tMax:U}=k,at=Math.max(e.b2_maxPolygonVertices,R.m_count,z.m_count),N=V.Copy(k.sweepA),j=S.Copy(k.sweepB);N.Normalize(),j.Normalize();const G=R.m_radius+z.m_radius,W=Math.max(t.b2_linearSlop,G-3*t.b2_linearSlop),ht=.25*t.b2_linearSlop;let xt=0;const ut=20;let Rt=0;const dt=b;dt.count=0;const lt=g;for(lt.proxyA.Copy(k.proxyA),lt.proxyB.Copy(k.proxyB),lt.useRadii=!1;;){const nt=N.GetTransform(o,xt),pt=j.GetTransform(a,xt);lt.transformA.Copy(nt),lt.transformB.Copy(pt);const Q=A;if((0,r.b2Distance)(Q,dt,lt),Q.distance<=0){L.state=f.e_overlapped,L.t=0;break}if(Q.distance<W+ht){L.state=f.e_touching,L.t=xt;break}const Ct=B;Ct.Initialize(dt,R,N,z,j,xt);let kt=!1,Pt=U,St=0;for(;;){const Ot=w,ne=P;let _e=Ct.FindMinSeparation(Ot,ne,Pt);if(_e>W+ht){L.state=f.e_separated,L.t=U,kt=!0;break}if(_e>W-ht){xt=Pt;break}let ce=Ct.Evaluate(Ot[0],ne[0],xt);if(ce<W-ht){L.state=f.e_failed,L.t=xt,kt=!0;break}if(ce<=W+ht){L.state=f.e_touching,L.t=xt,kt=!0;break}let fe=0,Rs=xt,hi=Pt;for(;;){let Fs;fe&1?Fs=Rs+(W-ce)*(hi-Rs)/(_e-ce):Fs=.5*(Rs+hi),++fe,++i.b2Toi.rootIters;const ui=Ct.Evaluate(Ot[0],ne[0],Fs);if(Math.abs(ui-W)<ht){Pt=Fs;break}if(ui>W?(Rs=Fs,ce=ui):(hi=Fs,_e=ui),fe===50)break}if(i.b2Toi.maxRootIters=Math.max(i.b2Toi.maxRootIters,fe),++St,St===at)break}if(++Rt,++i.b2Toi.iters,kt)break;if(Rt===ut){L.state=f.e_failed,L.t=xt;break}}i.b2Toi.maxIters=Math.max(i.b2Toi.maxIters,Rt);const it=E.GetMilliseconds();i.b2Toi.maxTime=Math.max(i.b2Toi.maxTime,it),i.b2Toi.time+=it}i.b2TimeOfImpact=D})(Ic);var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.b2CollidePolygonAndCircle=ai.b2CollideCircles=void 0;const Bh=Xt,Ht=Nt,An=Tt,Kb=new Ht.b2Vec2,Qb=new Ht.b2Vec2;function t4(i,t,e,s,n){i.pointCount=0;const r=Ht.b2Transform.MultiplyVec2(e,t.m_p,Kb),o=Ht.b2Transform.MultiplyVec2(n,s.m_p,Qb),a=Ht.b2Vec2.DistanceSquared(r,o),c=t.m_radius+s.m_radius;a>c*c||(i.type=An.b2ManifoldType.e_circles,i.localPoint.Copy(t.m_p),i.localNormal.SetZero(),i.pointCount=1,i.points[0].localPoint.Copy(s.m_p),i.points[0].id.key=0)}ai.b2CollideCircles=t4;const e4=new Ht.b2Vec2,s4=new Ht.b2Vec2,i4=new Ht.b2Vec2;function n4(i,t,e,s,n){i.pointCount=0;const r=Ht.b2Transform.MultiplyVec2(n,s.m_p,e4),o=Ht.b2Transform.TransposeMultiplyVec2(e,r,s4);let a=0,c=-Bh.b2_maxFloat;const h=t.m_radius+s.m_radius,l=t.m_count,u=t.m_vertices,m=t.m_normals;for(let b=0;b<l;++b){const g=Ht.b2Vec2.Dot(m[b],Ht.b2Vec2.Subtract(o,u[b],Ht.b2Vec2.s_t0));if(g>h)return;g>c&&(c=g,a=b)}const d=a,f=d+1<l?d+1:0,p=u[d],y=u[f];if(c<Bh.b2_epsilon){i.pointCount=1,i.type=An.b2ManifoldType.e_faceA,i.localNormal.Copy(m[a]),Ht.b2Vec2.Mid(p,y,i.localPoint),i.points[0].localPoint.Copy(s.m_p),i.points[0].id.key=0;return}const x=Ht.b2Vec2.Dot(Ht.b2Vec2.Subtract(o,p,Ht.b2Vec2.s_t0),Ht.b2Vec2.Subtract(y,p,Ht.b2Vec2.s_t1)),_=Ht.b2Vec2.Dot(Ht.b2Vec2.Subtract(o,y,Ht.b2Vec2.s_t0),Ht.b2Vec2.Subtract(p,y,Ht.b2Vec2.s_t1));if(x<=0){if(Ht.b2Vec2.DistanceSquared(o,p)>h*h)return;i.pointCount=1,i.type=An.b2ManifoldType.e_faceA,Ht.b2Vec2.Subtract(o,p,i.localNormal).Normalize(),i.localPoint.Copy(p),i.points[0].localPoint.Copy(s.m_p),i.points[0].id.key=0}else if(_<=0){if(Ht.b2Vec2.DistanceSquared(o,y)>h*h)return;i.pointCount=1,i.type=An.b2ManifoldType.e_faceA,Ht.b2Vec2.Subtract(o,y,i.localNormal).Normalize(),i.localPoint.Copy(y),i.points[0].localPoint.Copy(s.m_p),i.points[0].id.key=0}else{const b=Ht.b2Vec2.Mid(p,y,i4);if(Ht.b2Vec2.Dot(Ht.b2Vec2.Subtract(o,b,Ht.b2Vec2.s_t1),m[d])>h)return;i.pointCount=1,i.type=An.b2ManifoldType.e_faceA,i.localNormal.Copy(m[d]),i.localPoint.Copy(b),i.points[0].localPoint.Copy(s.m_p),i.points[0].id.key=0}}ai.b2CollidePolygonAndCircle=n4;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.b2CollidePolygons=void 0;const Wn=Xt,zt=Nt,He=Tt,r4=new zt.b2Transform,o4=new zt.b2Vec2,a4=new zt.b2Vec2;function Vh(i,t,e,s,n){const r=t.m_count,o=s.m_count,a=t.m_normals,c=t.m_vertices,h=s.m_vertices,l=zt.b2Transform.TransposeMultiply(n,e,r4);let u=0,m=-Wn.b2_maxFloat;for(let d=0;d<r;++d){const f=zt.b2Rot.MultiplyVec2(l.q,a[d],o4),p=zt.b2Transform.MultiplyVec2(l,c[d],a4);let y=Wn.b2_maxFloat;for(let x=0;x<o;++x){const _=zt.b2Vec2.Dot(f,zt.b2Vec2.Subtract(h[x],p,zt.b2Vec2.s_t0));_<y&&(y=_)}y>m&&(m=y,u=d)}return i[0]=u,m}const c4=new zt.b2Vec2;function l4(i,t,e,s,n,r){const o=t.m_normals,a=n.m_count,c=n.m_vertices,h=n.m_normals,l=zt.b2Rot.TransposeMultiplyVec2(r.q,zt.b2Rot.MultiplyVec2(e.q,o[s],zt.b2Vec2.s_t0),c4);let u=0,m=Wn.b2_maxFloat;for(let b=0;b<a;++b){const g=zt.b2Vec2.Dot(l,h[b]);g<m&&(m=g,u=b)}const d=u,f=d+1<a?d+1:0,p=i[0];zt.b2Transform.MultiplyVec2(r,c[d],p.v);const y=p.id.cf;y.indexA=s,y.indexB=d,y.typeA=He.b2ContactFeatureType.e_face,y.typeB=He.b2ContactFeatureType.e_vertex;const x=i[1];zt.b2Transform.MultiplyVec2(r,c[f],x.v);const _=x.id.cf;_.indexA=s,_.indexB=f,_.typeA=He.b2ContactFeatureType.e_face,_.typeB=He.b2ContactFeatureType.e_vertex}const h4=[new He.b2ClipVertex,new He.b2ClipVertex],u4=[new He.b2ClipVertex,new He.b2ClipVertex],m4=[new He.b2ClipVertex,new He.b2ClipVertex],d4=[0],_4=[0],f4=new zt.b2Vec2,p4=new zt.b2Vec2,b4=new zt.b2Vec2,y4=new zt.b2Vec2,g4=new zt.b2Vec2,x4=new zt.b2Vec2,v4=new zt.b2Vec2,A4=new zt.b2Vec2;function w4(i,t,e,s,n){i.pointCount=0;const r=t.m_radius+s.m_radius,o=d4,a=Vh(o,t,e,s,n);if(a>r)return;const c=_4,h=Vh(c,s,n,t,e);if(h>r)return;let l,u,m,d,f,p;const y=.1*Wn.b2_linearSlop;h>a+y?(l=s,u=t,m=n,d=e,f=c[0],i.type=He.b2ManifoldType.e_faceB,p=1):(l=t,u=s,m=e,d=n,f=o[0],i.type=He.b2ManifoldType.e_faceA,p=0);const x=h4;l4(x,l,m,f,u,d);const _=l.m_count,b=l.m_vertices,g=f,A=f+1<_?f+1:0;let B=b[g],w=b[A];const P=zt.b2Vec2.Subtract(w,B,f4);P.Normalize();const V=zt.b2Vec2.CrossVec2One(P,p4),S=zt.b2Vec2.Mid(B,w,b4),D=zt.b2Rot.MultiplyVec2(m.q,P,g4),L=zt.b2Vec2.CrossVec2One(D,y4);B=zt.b2Transform.MultiplyVec2(m,B,v4),w=zt.b2Transform.MultiplyVec2(m,w,A4);const k=zt.b2Vec2.Dot(L,B),E=-zt.b2Vec2.Dot(D,B)+r,R=zt.b2Vec2.Dot(D,w)+r,z=u4,U=m4,at=zt.b2Vec2.Negate(D,x4);let N=(0,He.b2ClipSegmentToLine)(z,x,at,E,g);if(N<2||(N=(0,He.b2ClipSegmentToLine)(U,z,D,R,A),N<2))return;i.localNormal.Copy(V),i.localPoint.Copy(S);let j=0;for(let G=0;G<Wn.b2_maxManifoldPoints;++G){const W=U[G];if(zt.b2Vec2.Dot(L,W.v)-k<=r){const xt=i.points[j];if(zt.b2Transform.TransposeMultiplyVec2(d,W.v,xt.localPoint),xt.id.Copy(W.id),p){const{cf:ut}=xt.id;ut.indexA=ut.indexB,ut.indexB=ut.indexA,ut.typeA=ut.typeB,ut.typeB=ut.typeA}++j}}i.pointCount=j}Qn.b2CollidePolygons=w4;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.b2CollideEdgeAndPolygon=Gs.b2CollideEdgeAndCircle=void 0;const oi=Xt,Z=Nt,se=Tt,Mh=us,C4=new Z.b2Vec2,S4=new Z.b2Vec2,Qo=new Z.b2Vec2,B4=new Z.b2Vec2,V4=new Z.b2Vec2,M4=new Z.b2Vec2,P4=new Z.b2Vec2,I4=new se.b2ContactID;function T4(i,t,e,s,n){i.pointCount=0;const r=Z.b2Transform.TransposeMultiplyVec2(e,Z.b2Transform.MultiplyVec2(n,s.m_p,Z.b2Vec2.s_t0),C4),o=t.m_vertex1,a=t.m_vertex2,c=Z.b2Vec2.Subtract(a,o,S4),h=P4.Set(c.y,-c.x),l=Z.b2Vec2.Dot(h,Z.b2Vec2.Subtract(r,o,Z.b2Vec2.s_t0));if(t.m_oneSided&&l<0)return;const m=Z.b2Vec2.Dot(c,Z.b2Vec2.Subtract(a,r,Z.b2Vec2.s_t0)),d=Z.b2Vec2.Dot(c,Z.b2Vec2.Subtract(r,o,Z.b2Vec2.s_t0)),f=t.m_radius+s.m_radius,p=I4;if(p.cf.indexB=0,p.cf.typeB=se.b2ContactFeatureType.e_vertex,d<=0){const g=o,A=Z.b2Vec2.Subtract(r,g,Qo);if(Z.b2Vec2.Dot(A,A)>f*f)return;if(t.m_oneSided){const w=t.m_vertex0,P=o,V=Z.b2Vec2.Subtract(P,w,B4);if(Z.b2Vec2.Dot(V,Z.b2Vec2.Subtract(P,r,Z.b2Vec2.s_t0))>0)return}p.cf.indexA=0,p.cf.typeA=se.b2ContactFeatureType.e_vertex,i.pointCount=1,i.type=se.b2ManifoldType.e_circles,i.localNormal.SetZero(),i.localPoint.Copy(g),i.points[0].id.Copy(p),i.points[0].localPoint.Copy(s.m_p);return}if(m<=0){const g=a,A=Z.b2Vec2.Subtract(r,g,Qo);if(Z.b2Vec2.Dot(A,A)>f*f)return;if(t.m_oneSided){const w=t.m_vertex3,P=a,V=Z.b2Vec2.Subtract(w,P,V4);if(Z.b2Vec2.Dot(V,Z.b2Vec2.Subtract(r,P,Z.b2Vec2.s_t0))>0)return}p.cf.indexA=1,p.cf.typeA=se.b2ContactFeatureType.e_vertex,i.pointCount=1,i.type=se.b2ManifoldType.e_circles,i.localNormal.SetZero(),i.localPoint.Copy(g),i.points[0].id.Copy(p),i.points[0].localPoint.Copy(s.m_p);return}const y=Z.b2Vec2.Dot(c,c),x=M4;x.x=1/y*(m*o.x+d*a.x),x.y=1/y*(m*o.y+d*a.y);const _=Z.b2Vec2.Subtract(r,x,Qo);Z.b2Vec2.Dot(_,_)>f*f||(l<0&&h.Set(-h.x,-h.y),h.Normalize(),p.cf.indexA=0,p.cf.typeA=se.b2ContactFeatureType.e_face,i.pointCount=1,i.type=se.b2ManifoldType.e_faceA,i.localNormal.Copy(h),i.localPoint.Copy(o),i.points[0].id.Copy(p),i.points[0].localPoint.Copy(s.m_p))}Gs.b2CollideEdgeAndCircle=T4;var Ws;(function(i){i[i.e_unknown=0]="e_unknown",i[i.e_edgeA=1]="e_edgeA",i[i.e_edgeB=2]="e_edgeB"})(Ws||(Ws={}));class qu{constructor(){this.normal=new Z.b2Vec2,this.type=Ws.e_unknown,this.index=0,this.separation=0}}class k4{constructor(){this.vertices=(0,oi.b2MakeArray)(Mh.b2_maxPolygonVertices,Z.b2Vec2),this.normals=(0,oi.b2MakeArray)(Mh.b2_maxPolygonVertices,Z.b2Vec2),this.count=0}}class E4{constructor(){this.i1=0,this.i2=0,this.v1=new Z.b2Vec2,this.v2=new Z.b2Vec2,this.normal=new Z.b2Vec2,this.sideNormal1=new Z.b2Vec2,this.sideOffset1=0,this.sideNormal2=new Z.b2Vec2,this.sideOffset2=0}}const D4=new qu,L4=[new Z.b2Vec2,new Z.b2Vec2];function G4(i,t,e){const s=D4;s.type=Ws.e_edgeA,s.index=-1,s.separation=-oi.b2_maxFloat,s.normal.SetZero();const n=L4;n[0].Copy(e),Z.b2Vec2.Negate(e,n[1]);for(let r=0;r<2;++r){let o=oi.b2_maxFloat;for(let a=0;a<i.count;++a){const c=Z.b2Vec2.Dot(n[r],Z.b2Vec2.Subtract(i.vertices[a],t,Z.b2Vec2.s_t0));c<o&&(o=c)}o>s.separation&&(s.index=r,s.separation=o,s.normal.Copy(n[r]))}return s}const R4=new qu,F4=new Z.b2Vec2;function z4(i,t,e){const s=R4;s.type=Ws.e_unknown,s.index=-1,s.separation=-oi.b2_maxFloat,s.normal.SetZero();for(let n=0;n<i.count;++n){const r=Z.b2Vec2.Negate(i.normals[n],F4),o=Z.b2Vec2.Dot(r,Z.b2Vec2.Subtract(i.vertices[n],t,Z.b2Vec2.s_t0)),a=Z.b2Vec2.Dot(r,Z.b2Vec2.Subtract(i.vertices[n],e,Z.b2Vec2.s_t0)),c=Math.min(o,a);c>s.separation&&(s.type=Ws.e_edgeB,s.index=n,s.separation=c,s.normal.Copy(r))}return s}const O4=new Z.b2Transform,$4=new Z.b2Vec2,j4=new Z.b2Vec2,N4=new Z.b2Vec2,q4=new Z.b2Vec2,H4=new Z.b2Vec2,U4=new Z.b2Vec2,W4=new Z.b2Vec2,J4=new k4,X4=new E4,Y4=[new se.b2ClipVertex,new se.b2ClipVertex],Z4=[new se.b2ClipVertex,new se.b2ClipVertex],K4=[new se.b2ClipVertex,new se.b2ClipVertex];function Q4(i,t,e,s,n){i.pointCount=0;const r=Z.b2Transform.TransposeMultiply(e,n,O4),o=Z.b2Transform.MultiplyVec2(r,s.m_centroid,$4),a=t.m_vertex1,c=t.m_vertex2,h=Z.b2Vec2.Subtract(c,a,j4);h.Normalize();const l=N4.Set(h.y,-h.x),u=Z.b2Vec2.Dot(l,Z.b2Vec2.Subtract(o,a,Z.b2Vec2.s_t0)),m=t.m_oneSided;if(m&&u<0)return;const d=J4;d.count=s.m_count;for(let S=0;S<s.m_count;++S)Z.b2Transform.MultiplyVec2(r,s.m_vertices[S],d.vertices[S]),Z.b2Rot.MultiplyVec2(r.q,s.m_normals[S],d.normals[S]);const f=s.m_radius+t.m_radius,p=G4(d,a,l);if(p.separation>f)return;const y=z4(d,a,c);if(y.separation>f)return;const x=.98,_=.001;let b;if(y.separation-f>x*(p.separation-f)+_?b=y:b=p,m){const S=Z.b2Vec2.Subtract(a,t.m_vertex0,q4);S.Normalize();const D=H4.Set(S.y,-S.x),L=Z.b2Vec2.Cross(S,h)>=0,k=Z.b2Vec2.Subtract(t.m_vertex3,c,U4);k.Normalize();const E=W4.Set(k.y,-k.x),R=Z.b2Vec2.Cross(h,k)>=0,z=.1;if(Z.b2Vec2.Dot(b.normal,h)<=0)if(L){if(Z.b2Vec2.Cross(b.normal,D)>z)return}else b=p;else if(R){if(Z.b2Vec2.Cross(E,b.normal)>z)return}else b=p}const g=Y4,A=X4;if(b.type===Ws.e_edgeA){i.type=se.b2ManifoldType.e_faceA;let S=0,D=Z.b2Vec2.Dot(b.normal,d.normals[0]);for(let E=1;E<d.count;++E){const R=Z.b2Vec2.Dot(b.normal,d.normals[E]);R<D&&(D=R,S=E)}const L=S,k=L+1<d.count?L+1:0;g[0].v.Copy(d.vertices[L]),g[0].id.cf.indexA=0,g[0].id.cf.indexB=L,g[0].id.cf.typeA=se.b2ContactFeatureType.e_face,g[0].id.cf.typeB=se.b2ContactFeatureType.e_vertex,g[1].v.Copy(d.vertices[k]),g[1].id.cf.indexA=0,g[1].id.cf.indexB=k,g[1].id.cf.typeA=se.b2ContactFeatureType.e_face,g[1].id.cf.typeB=se.b2ContactFeatureType.e_vertex,A.i1=0,A.i2=1,A.v1.Copy(a),A.v2.Copy(c),A.normal.Copy(b.normal),Z.b2Vec2.Negate(h,A.sideNormal1),A.sideNormal2.Copy(h)}else i.type=se.b2ManifoldType.e_faceB,g[0].v.Copy(c),g[0].id.cf.indexA=1,g[0].id.cf.indexB=b.index,g[0].id.cf.typeA=se.b2ContactFeatureType.e_vertex,g[0].id.cf.typeB=se.b2ContactFeatureType.e_face,g[1].v.Copy(a),g[1].id.cf.indexA=0,g[1].id.cf.indexB=b.index,g[1].id.cf.typeA=se.b2ContactFeatureType.e_vertex,g[1].id.cf.typeB=se.b2ContactFeatureType.e_face,A.i1=b.index,A.i2=A.i1+1<d.count?A.i1+1:0,A.v1.Copy(d.vertices[A.i1]),A.v2.Copy(d.vertices[A.i2]),A.normal.Copy(d.normals[A.i1]),A.sideNormal1.Set(A.normal.y,-A.normal.x),Z.b2Vec2.Negate(A.sideNormal1,A.sideNormal2);A.sideOffset1=Z.b2Vec2.Dot(A.sideNormal1,A.v1),A.sideOffset2=Z.b2Vec2.Dot(A.sideNormal2,A.v2);const B=Z4,w=K4;let P;if(P=(0,se.b2ClipSegmentToLine)(B,g,A.sideNormal1,A.sideOffset1,A.i1),P<oi.b2_maxManifoldPoints||(P=(0,se.b2ClipSegmentToLine)(w,B,A.sideNormal2,A.sideOffset2,A.i2),P<oi.b2_maxManifoldPoints))return;b.type===Ws.e_edgeA?(i.localNormal.Copy(A.normal),i.localPoint.Copy(A.v1)):(i.localNormal.Copy(s.m_normals[A.i1]),i.localPoint.Copy(s.m_vertices[A.i1]));let V=0;for(let S=0;S<oi.b2_maxManifoldPoints;++S)if(Z.b2Vec2.Dot(A.normal,Z.b2Vec2.Subtract(w[S].v,A.v1,Z.b2Vec2.s_t0))<=f){const L=i.points[V];b.type===Ws.e_edgeA?(Z.b2Transform.TransposeMultiplyVec2(r,w[S].v,L.localPoint),L.id.Copy(w[S].id)):(L.localPoint.Copy(w[S].v),L.id.cf.typeA=w[S].id.cf.typeB,L.id.cf.typeB=w[S].id.cf.typeA,L.id.cf.indexA=w[S].id.cf.indexB,L.id.cf.indexB=w[S].id.cf.indexA),++V}i.pointCount=V}Gs.b2CollideEdgeAndPolygon=Q4;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.b2CircleShape=void 0;const t5=Xt,ye=Nt,Ph=ze;class Le extends Ph.b2Shape{constructor(t=0){super(Ph.b2ShapeType.e_circle,t),this.m_p=new ye.b2Vec2}Set(t,e=this.m_radius){return this.m_p.Copy(t),this.m_radius=e,this}Clone(){return new Le().Copy(this)}Copy(t){return super.Copy(t),this.m_p.Copy(t.m_p),this}GetChildCount(){return 1}TestPoint(t,e){const s=ye.b2Transform.MultiplyVec2(t,this.m_p,Le.TestPoint_s_center),n=ye.b2Vec2.Subtract(e,s,Le.TestPoint_s_d);return ye.b2Vec2.Dot(n,n)<=this.m_radius**2}RayCast(t,e,s,n){const r=ye.b2Transform.MultiplyVec2(s,this.m_p,Le.RayCast_s_position),o=ye.b2Vec2.Subtract(e.p1,r,Le.RayCast_s_s),a=ye.b2Vec2.Dot(o,o)-this.m_radius**2,c=ye.b2Vec2.Subtract(e.p2,e.p1,Le.RayCast_s_r),h=ye.b2Vec2.Dot(o,c),l=ye.b2Vec2.Dot(c,c),u=h*h-l*a;if(u<0||l<t5.b2_epsilon)return!1;let m=-(h+Math.sqrt(u));return m>=0&&m<=e.maxFraction*l?(m/=l,t.fraction=m,ye.b2Vec2.AddScaled(o,m,c,t.normal).Normalize(),!0):!1}ComputeAABB(t,e,s){const n=ye.b2Transform.MultiplyVec2(e,this.m_p,Le.ComputeAABB_s_p);t.lowerBound.Set(n.x-this.m_radius,n.y-this.m_radius),t.upperBound.Set(n.x+this.m_radius,n.y+this.m_radius)}ComputeMass(t,e){const s=this.m_radius**2;t.mass=e*Math.PI*s,t.center.Copy(this.m_p),t.I=t.mass*(.5*s+ye.b2Vec2.Dot(this.m_p,this.m_p))}SetupDistanceProxy(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0]=this.m_p,t.m_count=1,t.m_radius=this.m_radius}Draw(t,e){const s=this.m_p,n=this.m_radius,r=ye.b2Vec2.UNITX;t.DrawSolidCircle(s,n,r,e)}}Qr.b2CircleShape=Le;Le.TestPoint_s_center=new ye.b2Vec2;Le.TestPoint_s_d=new ye.b2Vec2;Le.RayCast_s_position=new ye.b2Vec2;Le.RayCast_s_s=new ye.b2Vec2;Le.RayCast_s_r=new ye.b2Vec2;Le.ComputeAABB_s_p=new ye.b2Vec2;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.b2PolygonShape=void 0;const Ks=Xt,ft=Nt,e5=us,Ih=Tt,Th=ze,_s={ComputeCentroid:{s:new ft.b2Vec2,p1:new ft.b2Vec2,p2:new ft.b2Vec2,p3:new ft.b2Vec2,e1:new ft.b2Vec2,e2:new ft.b2Vec2},TestPoint:{pLocal:new ft.b2Vec2},ComputeAABB:{v:new ft.b2Vec2},ComputeMass:{center:new ft.b2Vec2,s:new ft.b2Vec2,e1:new ft.b2Vec2,e2:new ft.b2Vec2},Validate:{e:new ft.b2Vec2,v:new ft.b2Vec2},Set:{r:new ft.b2Vec2,v:new ft.b2Vec2},RayCast:{p1:new ft.b2Vec2,p2:new ft.b2Vec2,d:new ft.b2Vec2},SetAsBox:{xf:new ft.b2Transform}};function s5(i,t,e){const s=e;s.SetZero();let n=0;const{s:r,p1:o,p2:a,p3:c,e1:h,e2:l}=_s.ComputeCentroid;r.Copy(i[0]);const u=1/3;for(let d=0;d<t;++d){ft.b2Vec2.Subtract(i[0],r,o),ft.b2Vec2.Subtract(i[d],r,a),ft.b2Vec2.Subtract(i[d+1<t?d+1:0],r,c),ft.b2Vec2.Subtract(a,o,h),ft.b2Vec2.Subtract(c,o,l);const p=.5*ft.b2Vec2.Cross(h,l);n+=p,s.x+=p*u*(o.x+a.x+c.x),s.y+=p*u*(o.y+a.y+c.y)}const m=1/n;return s.x=m*s.x+r.x,s.y=m*s.y+r.y,s}const i5=new ft.b2Vec2;class Tc extends Th.b2Shape{constructor(){super(Th.b2ShapeType.e_polygon,Ks.b2_polygonRadius),this.m_centroid=new ft.b2Vec2,this.m_vertices=[],this.m_normals=[],this.m_count=0}Clone(){return new Tc().Copy(this)}Copy(t){super.Copy(t),this.m_centroid.Copy(t.m_centroid),this.m_count=t.m_count,this.m_vertices=(0,Ks.b2MakeArray)(this.m_count,ft.b2Vec2),this.m_normals=(0,Ks.b2MakeArray)(this.m_count,ft.b2Vec2);for(let e=0;e<this.m_count;++e)this.m_vertices[e].Copy(t.m_vertices[e]),this.m_normals[e].Copy(t.m_normals[e]);return this}GetChildCount(){return 1}Set(t,e=t.length){const s=(0,Ih.b2ComputeHull)(t,e);return s.length<3?!1:(this.SetHull(s,s.length),!0)}SetHull(t,e){(0,Ks.b2Assert)(e>=3),this.m_count=e,this.m_vertices=(0,Ks.b2MakeArray)(e,ft.b2Vec2);for(let s=0;s<e;++s)this.m_vertices[s].Copy(t[s]);this.m_normals=(0,Ks.b2MakeArray)(e,ft.b2Vec2);for(let s=0;s<this.m_count;++s){const n=s,r=s+1<this.m_count?s+1:0,o=ft.b2Vec2.Subtract(this.m_vertices[r],this.m_vertices[n],i5);ft.b2Vec2.CrossVec2Scalar(o,1,this.m_normals[s]),this.m_normals[s].Normalize()}return s5(this.m_vertices,this.m_count,this.m_centroid),this}SetAsBox(t,e,s,n=0){if(this.m_count=4,this.m_vertices=(0,Ks.b2MakeArray)(this.m_count,ft.b2Vec2),this.m_normals=(0,Ks.b2MakeArray)(this.m_count,ft.b2Vec2),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),s){this.m_centroid.Copy(s);const{xf:r}=_s.SetAsBox;r.SetPosition(s),r.SetRotationAngle(n);for(let o=0;o<this.m_count;++o)ft.b2Transform.MultiplyVec2(r,this.m_vertices[o],this.m_vertices[o]),ft.b2Rot.MultiplyVec2(r.q,this.m_normals[o],this.m_normals[o])}else this.m_centroid.SetZero();return this}TestPoint(t,e){const s=ft.b2Transform.TransposeMultiplyVec2(t,e,_s.TestPoint.pLocal);for(let n=0;n<this.m_count;++n)if(ft.b2Vec2.Dot(this.m_normals[n],ft.b2Vec2.Subtract(s,this.m_vertices[n],ft.b2Vec2.s_t0))>0)return!1;return!0}RayCast(t,e,s,n){const r=ft.b2Transform.TransposeMultiplyVec2(s,e.p1,_s.RayCast.p1),o=ft.b2Transform.TransposeMultiplyVec2(s,e.p2,_s.RayCast.p2),a=ft.b2Vec2.Subtract(o,r,_s.RayCast.d);let c=0,h=e.maxFraction,l=-1;for(let u=0;u<this.m_count;++u){const m=ft.b2Vec2.Dot(this.m_normals[u],ft.b2Vec2.Subtract(this.m_vertices[u],r,ft.b2Vec2.s_t0)),d=ft.b2Vec2.Dot(this.m_normals[u],a);if(d===0){if(m<0)return!1}else d<0&&m<c*d?(c=m/d,l=u):d>0&&m<h*d&&(h=m/d);if(h<c)return!1}return l>=0?(t.fraction=c,ft.b2Rot.MultiplyVec2(s.q,this.m_normals[l],t.normal),!0):!1}ComputeAABB(t,e,s){const n=ft.b2Transform.MultiplyVec2(e,this.m_vertices[0],t.lowerBound),r=t.upperBound.Copy(n);for(let a=1;a<this.m_count;++a){const c=ft.b2Transform.MultiplyVec2(e,this.m_vertices[a],_s.ComputeAABB.v);ft.b2Vec2.Min(n,c,n),ft.b2Vec2.Max(r,c,r)}const o=this.m_radius;n.SubtractXY(o,o),r.AddXY(o,o)}ComputeMass(t,e){const s=_s.ComputeMass.center.SetZero();let n=0,r=0;const o=_s.ComputeMass.s.Copy(this.m_vertices[0]),a=1/3;for(let c=0;c<this.m_count;++c){const h=ft.b2Vec2.Subtract(this.m_vertices[c],o,_s.ComputeMass.e1),l=ft.b2Vec2.Subtract(this.m_vertices[c+1<this.m_count?c+1:0],o,_s.ComputeMass.e2),u=ft.b2Vec2.Cross(h,l),m=.5*u;n+=m,s.AddScaled(m*a,ft.b2Vec2.Add(h,l,ft.b2Vec2.s_t0));const d=h.x,f=h.y,p=l.x,y=l.y,x=d*d+p*d+p*p,_=f*f+y*f+y*y;r+=.25*a*u*(x+_)}t.mass=e*n,s.Scale(1/n),ft.b2Vec2.Add(s,o,t.center),t.I=e*r,t.I+=t.mass*(ft.b2Vec2.Dot(t.center,t.center)-ft.b2Vec2.Dot(s,s))}Validate(){return this.m_count<3||e5.b2_maxPolygonVertices<this.m_count?!1:(0,Ih.b2ValidateHull)(this.m_vertices,this.m_count)}SetupDistanceProxy(t,e){t.m_vertices=this.m_vertices,t.m_count=this.m_count,t.m_radius=this.m_radius}Draw(t,e){const s=this.m_count,n=this.m_vertices;t.DrawSolidPolygon(n,s,e)}}to.b2PolygonShape=Tc;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.b2EdgeShape=void 0;const n5=Xt,Ut=Nt,kh=ze;class we extends kh.b2Shape{constructor(){super(kh.b2ShapeType.e_edge,n5.b2_polygonRadius),this.m_vertex1=new Ut.b2Vec2,this.m_vertex2=new Ut.b2Vec2,this.m_vertex0=new Ut.b2Vec2,this.m_vertex3=new Ut.b2Vec2,this.m_oneSided=!1}SetOneSided(t,e,s,n){return this.m_vertex0.Copy(t),this.m_vertex1.Copy(e),this.m_vertex2.Copy(s),this.m_vertex3.Copy(n),this.m_oneSided=!0,this}SetTwoSided(t,e){return this.m_vertex1.Copy(t),this.m_vertex2.Copy(e),this.m_oneSided=!1,this}Clone(){return new we().Copy(this)}Copy(t){return super.Copy(t),this.m_vertex1.Copy(t.m_vertex1),this.m_vertex2.Copy(t.m_vertex2),this.m_vertex0.Copy(t.m_vertex0),this.m_vertex3.Copy(t.m_vertex3),this.m_oneSided=t.m_oneSided,this}GetChildCount(){return 1}TestPoint(t,e){return!1}RayCast(t,e,s,n){const r=Ut.b2Transform.TransposeMultiplyVec2(s,e.p1,we.RayCast_s_p1),o=Ut.b2Transform.TransposeMultiplyVec2(s,e.p2,we.RayCast_s_p2),a=Ut.b2Vec2.Subtract(o,r,we.RayCast_s_d),c=this.m_vertex1,h=this.m_vertex2,l=Ut.b2Vec2.Subtract(h,c,we.RayCast_s_e),{normal:u}=t;u.Set(l.y,-l.x).Normalize();const m=Ut.b2Vec2.Dot(u,Ut.b2Vec2.Subtract(c,r,Ut.b2Vec2.s_t0));if(this.m_oneSided&&m>0)return!1;const d=Ut.b2Vec2.Dot(u,a);if(d===0)return!1;const f=m/d;if(f<0||e.maxFraction<f)return!1;const p=Ut.b2Vec2.AddScaled(r,f,a,we.RayCast_s_q),y=Ut.b2Vec2.Subtract(h,c,we.RayCast_s_r),x=Ut.b2Vec2.Dot(y,y);if(x===0)return!1;const _=Ut.b2Vec2.Dot(Ut.b2Vec2.Subtract(p,c,Ut.b2Vec2.s_t0),y)/x;return _<0||_>1?!1:(t.fraction=f,Ut.b2Rot.MultiplyVec2(s.q,t.normal,t.normal),m>0&&t.normal.Negate(),!0)}ComputeAABB(t,e,s){const n=Ut.b2Transform.MultiplyVec2(e,this.m_vertex1,we.ComputeAABB_s_v1),r=Ut.b2Transform.MultiplyVec2(e,this.m_vertex2,we.ComputeAABB_s_v2);Ut.b2Vec2.Min(n,r,t.lowerBound),Ut.b2Vec2.Max(n,r,t.upperBound);const o=this.m_radius;t.lowerBound.SubtractXY(o,o),t.upperBound.AddXY(o,o)}ComputeMass(t,e){t.mass=0,Ut.b2Vec2.Mid(this.m_vertex1,this.m_vertex2,t.center),t.I=0}SetupDistanceProxy(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0]=this.m_vertex1,t.m_vertices[1]=this.m_vertex2,t.m_count=2,t.m_radius=this.m_radius}Draw(t,e){const s=this.m_vertex1,n=this.m_vertex2;t.DrawSegment(s,n,e),this.m_oneSided===!1&&(t.DrawPoint(s,4,e),t.DrawPoint(n,4,e))}}Fi.b2EdgeShape=we;we.RayCast_s_p1=new Ut.b2Vec2;we.RayCast_s_p2=new Ut.b2Vec2;we.RayCast_s_d=new Ut.b2Vec2;we.RayCast_s_e=new Ut.b2Vec2;we.RayCast_s_q=new Ut.b2Vec2;we.RayCast_s_r=new Ut.b2Vec2;we.ComputeAABB_s_v1=new Ut.b2Vec2;we.ComputeAABB_s_v2=new Ut.b2Vec2;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.b2ChainShape=void 0;const r5=Xt,ns=Nt,Eh=ze,o5=Fi;class Qe extends Eh.b2Shape{constructor(){super(Eh.b2ShapeType.e_chain,r5.b2_polygonRadius),this.m_vertices=[],this.m_prevVertex=new ns.b2Vec2,this.m_nextVertex=new ns.b2Vec2}CreateLoop(t,e=t.length){if(e<3)return this;this.m_vertices.length=e+1;for(let s=0;s<e;++s){const{x:n,y:r}=t[s];this.m_vertices[s]=new ns.b2Vec2(n,r)}return this.m_vertices[e]=this.m_vertices[0].Clone(),this.m_prevVertex.Copy(this.m_vertices[this.m_vertices.length-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this}CreateChain(t,e,s,n){this.m_vertices.length=e;for(let r=0;r<e;++r){const{x:o,y:a}=t[r];this.m_vertices[r]=new ns.b2Vec2(o,a)}return this.m_prevVertex.Copy(s),this.m_nextVertex.Copy(n),this}Clone(){return new Qe().Copy(this)}Copy(t){return super.Copy(t),this.CreateChain(t.m_vertices,t.m_vertices.length,t.m_prevVertex,t.m_nextVertex)}GetChildCount(){return this.m_vertices.length-1}GetChildEdge(t,e){t.m_radius=this.m_radius,t.m_vertex1.Copy(this.m_vertices[e]),t.m_vertex2.Copy(this.m_vertices[e+1]),t.m_oneSided=!0,e>0?t.m_vertex0.Copy(this.m_vertices[e-1]):t.m_vertex0.Copy(this.m_prevVertex),e<this.m_vertices.length-2?t.m_vertex3.Copy(this.m_vertices[e+2]):t.m_vertex3.Copy(this.m_nextVertex)}TestPoint(t,e){return!1}RayCast(t,e,s,n){const r=Qe.RayCast_s_edgeShape,o=n;let a=n+1;return a===this.m_vertices.length&&(a=0),r.m_vertex1.Copy(this.m_vertices[o]),r.m_vertex2.Copy(this.m_vertices[a]),r.RayCast(t,e,s,0)}ComputeAABB(t,e,s){const n=s;let r=s+1;r===this.m_vertices.length&&(r=0);const o=ns.b2Transform.MultiplyVec2(e,this.m_vertices[n],Qe.ComputeAABB_s_v1),a=ns.b2Transform.MultiplyVec2(e,this.m_vertices[r],Qe.ComputeAABB_s_v2),c=ns.b2Vec2.Min(o,a,Qe.ComputeAABB_s_lower),h=ns.b2Vec2.Max(o,a,Qe.ComputeAABB_s_upper);t.lowerBound.x=c.x-this.m_radius,t.lowerBound.y=c.y-this.m_radius,t.upperBound.x=h.x+this.m_radius,t.upperBound.y=h.y+this.m_radius}ComputeMass(t,e){t.mass=0,t.center.SetZero(),t.I=0}SetupDistanceProxy(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0]=this.m_vertices[e];const s=e+1<this.m_vertices.length?e+1:0;t.m_vertices[1]=this.m_vertices[s],t.m_count=2,t.m_radius=this.m_radius}Draw(t,e){const s=this.m_vertices;let n=s[0];for(let r=1;r<s.length;++r){const o=s[r];t.DrawSegment(n,o,e),n=o}}}eo.b2ChainShape=Qe;Qe.RayCast_s_edgeShape=new o5.b2EdgeShape;Qe.ComputeAABB_s_v1=new ns.b2Vec2;Qe.ComputeAABB_s_v2=new ns.b2Vec2;Qe.ComputeAABB_s_lower=new ns.b2Vec2;Qe.ComputeAABB_s_upper=new ns.b2Vec2;var so={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.b2Joint=ie.b2AngularStiffness=ie.b2LinearStiffness=ie.b2JointDef=ie.b2JointEdge=ie.b2JointType=void 0;const ta=Oe,Dh=Nt,Lh={pA:new Dh.b2Vec2,pB:new Dh.b2Vec2};var Ga;(function(i){i[i.e_unknownJoint=0]="e_unknownJoint",i[i.e_revoluteJoint=1]="e_revoluteJoint",i[i.e_prismaticJoint=2]="e_prismaticJoint",i[i.e_distanceJoint=3]="e_distanceJoint",i[i.e_pulleyJoint=4]="e_pulleyJoint",i[i.e_mouseJoint=5]="e_mouseJoint",i[i.e_gearJoint=6]="e_gearJoint",i[i.e_wheelJoint=7]="e_wheelJoint",i[i.e_weldJoint=8]="e_weldJoint",i[i.e_frictionJoint=9]="e_frictionJoint",i[i.e_motorJoint=10]="e_motorJoint",i[i.e_areaJoint=11]="e_areaJoint"})(Ga||(ie.b2JointType=Ga={}));class Ra{constructor(t,e){this.prev=null,this.next=null,this.joint=t,this.other=e}}ie.b2JointEdge=Ra;class a5{constructor(t){this.userData={},this.collideConnected=!1,this.type=t}}ie.b2JointDef=a5;function c5(i,t,e,s,n){const r=s.GetMass(),o=n.GetMass();let a;r>0&&o>0?a=r*o/(r+o):r>0?a=r:a=o;const c=2*Math.PI*t;i.stiffness=a*c*c,i.damping=2*a*e*c}ie.b2LinearStiffness=c5;function l5(i,t,e,s,n){const r=s.GetInertia(),o=n.GetInertia();let a;r>0&&o>0?a=r*o/(r+o):r>0?a=r:a=o;const c=2*Math.PI*t;i.stiffness=a*c*c,i.damping=2*a*e*c}ie.b2AngularStiffness=l5;class h5{constructor(t){var e;this.m_type=Ga.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData={},this.m_type=t.type,this.m_edgeA=new Ra(this,t.bodyB),this.m_edgeB=new Ra(this,t.bodyA),this.m_bodyA=t.bodyA,this.m_bodyB=t.bodyB,this.m_collideConnected=(e=t.collideConnected)!==null&&e!==void 0?e:!1,this.SetUserData(t.userData)}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(t){Object.assign(this.m_userData,t)}IsEnabled(){return this.m_bodyA.IsEnabled()&&this.m_bodyB.IsEnabled()}GetCollideConnected(){return this.m_collideConnected}ShiftOrigin(t){}Draw(t){const e=this.m_bodyA.GetTransform().p,s=this.m_bodyB.GetTransform().p,n=this.GetAnchorA(Lh.pA),r=this.GetAnchorB(Lh.pB);t.DrawSegment(e,n,ta.debugColors.joint6),t.DrawSegment(n,r,ta.debugColors.joint6),t.DrawSegment(s,r,ta.debugColors.joint6)}}ie.b2Joint=h5;var Mi={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.b2DistanceJoint=ci.b2DistanceJointDef=void 0;const Is=Xt,ct=Nt,Fa=ie,vr=Oe,oe={worldPointA:new ct.b2Vec2,worldPointB:new ct.b2Vec2,vpA:new ct.b2Vec2,vpB:new ct.b2Vec2,vpBA:new ct.b2Vec2,P:new ct.b2Vec2,qA:new ct.b2Rot,qB:new ct.b2Rot,lalcA:new ct.b2Vec2,lalcB:new ct.b2Vec2,Draw:{pA:new ct.b2Vec2,pB:new ct.b2Vec2,axis:new ct.b2Vec2,pRest:new ct.b2Vec2,p1:new ct.b2Vec2,p2:new ct.b2Vec2}};class u5 extends Fa.b2JointDef{constructor(){super(Fa.b2JointType.e_distanceJoint),this.localAnchorA=new ct.b2Vec2,this.localAnchorB=new ct.b2Vec2,this.length=1,this.minLength=0,this.maxLength=Is.b2_maxFloat,this.stiffness=0,this.damping=0}Initialize(t,e,s,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.length=Math.max(ct.b2Vec2.Distance(s,n),Is.b2_linearSlop),this.minLength=this.length,this.maxLength=this.length}}ci.b2DistanceJointDef=u5;class m5 extends Fa.b2Joint{constructor(t){var e,s;super(t),this.m_bias=0,this.m_localAnchorA=new ct.b2Vec2,this.m_localAnchorB=new ct.b2Vec2,this.m_gamma=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new ct.b2Vec2,this.m_rA=new ct.b2Vec2,this.m_rB=new ct.b2Vec2,this.m_localCenterA=new ct.b2Vec2,this.m_localCenterB=new ct.b2Vec2,this.m_currentLength=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_softMass=0,this.m_mass=0,this.m_localAnchorA.Copy(t.localAnchorA),this.m_localAnchorB.Copy(t.localAnchorB),this.m_length=Math.max(t.length,Is.b2_linearSlop),this.m_minLength=Math.max(t.minLength,Is.b2_linearSlop),this.m_maxLength=Math.max(t.maxLength,this.m_minLength),this.m_stiffness=(e=t.stiffness)!==null&&e!==void 0?e:0,this.m_damping=(s=t.damping)!==null&&s!==void 0?s:0}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){const s=t*(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse);return e.x=s*this.m_u.x,e.y=s*this.m_u.y,e}GetReactionTorque(t){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(t){return this.m_impulse=0,this.m_length=Math.max(Is.b2_linearSlop,t),this.m_length}GetLength(){return this.m_length}SetMinLength(t){return this.m_lowerImpulse=0,this.m_minLength=(0,ct.b2Clamp)(t,Is.b2_linearSlop,this.m_maxLength),this.m_minLength}GetMinLength(){return this.m_minLength}SetMaxLength(t){return this.m_upperImpulse=0,this.m_maxLength=Math.max(t,this.m_minLength),this.m_maxLength}GetMaxLength(){return this.m_maxLength}GetCurrentLength(){const t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,oe.worldPointA),e=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,oe.worldPointB);return ct.b2Vec2.Distance(e,t)}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].c,s=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v;let r=t.velocities[this.m_indexA].w;const o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{qA:l,qB:u,lalcA:m,lalcB:d}=oe;l.Set(s),u.Set(a),ct.b2Rot.MultiplyVec2(l,ct.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,m),this.m_rA),ct.b2Rot.MultiplyVec2(u,ct.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,d),this.m_rB),this.m_u.x=o.x+this.m_rB.x-e.x-this.m_rA.x,this.m_u.y=o.y+this.m_rB.y-e.y-this.m_rA.y,this.m_currentLength=this.m_u.Length(),this.m_currentLength>Is.b2_linearSlop?this.m_u.Scale(1/this.m_currentLength):(this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0);const f=ct.b2Vec2.Cross(this.m_rA,this.m_u),p=ct.b2Vec2.Cross(this.m_rB,this.m_u);let y=this.m_invMassA+this.m_invIA*f*f+this.m_invMassB+this.m_invIB*p*p;if(this.m_mass=y!==0?1/y:0,this.m_stiffness>0&&this.m_minLength<this.m_maxLength){const x=this.m_currentLength-this.m_length,_=this.m_damping,b=this.m_stiffness,g=t.step.dt;this.m_gamma=g*(_+g*b),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=x*g*b*this.m_gamma,y+=this.m_gamma,this.m_softMass=y!==0?1/y:0}else this.m_gamma=0,this.m_bias=0,this.m_softMass=this.m_mass;if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_lowerImpulse*=t.step.dtRatio,this.m_upperImpulse*=t.step.dtRatio;const{P:x}=oe;ct.b2Vec2.Scale(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse,this.m_u,x),n.SubtractScaled(this.m_invMassA,x),r-=this.m_invIA*ct.b2Vec2.Cross(this.m_rA,x),c.AddScaled(this.m_invMassB,x),h+=this.m_invIB*ct.b2Vec2.Cross(this.m_rB,x)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=h}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;if(this.m_minLength<this.m_maxLength){if(this.m_stiffness>0){const o=ct.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,oe.vpA),a=ct.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,oe.vpB),c=ct.b2Vec2.Dot(this.m_u,ct.b2Vec2.Subtract(a,o,oe.vpBA)),h=-this.m_softMass*(c+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=h;const l=ct.b2Vec2.Scale(h,this.m_u,oe.P);e.SubtractScaled(this.m_invMassA,l),s-=this.m_invIA*ct.b2Vec2.Cross(this.m_rA,l),n.AddScaled(this.m_invMassB,l),r+=this.m_invIB*ct.b2Vec2.Cross(this.m_rB,l)}{const o=this.m_currentLength-this.m_minLength,a=Math.max(0,o)*t.step.inv_dt,c=ct.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,oe.vpA),h=ct.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,oe.vpB),l=ct.b2Vec2.Dot(this.m_u,ct.b2Vec2.Subtract(h,c,oe.vpBA));let u=-this.m_mass*(l+a);const m=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(0,this.m_lowerImpulse+u),u=this.m_lowerImpulse-m;const d=ct.b2Vec2.Scale(u,this.m_u,oe.P);e.SubtractScaled(this.m_invMassA,d),s-=this.m_invIA*ct.b2Vec2.Cross(this.m_rA,d),n.AddScaled(this.m_invMassB,d),r+=this.m_invIB*ct.b2Vec2.Cross(this.m_rB,d)}{const o=this.m_maxLength-this.m_currentLength,a=Math.max(0,o)*t.step.inv_dt,c=ct.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,oe.vpA),h=ct.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,oe.vpB),l=ct.b2Vec2.Dot(this.m_u,ct.b2Vec2.Subtract(c,h,oe.vpBA));let u=-this.m_mass*(l+a);const m=this.m_upperImpulse;this.m_upperImpulse=Math.max(0,this.m_upperImpulse+u),u=this.m_upperImpulse-m;const d=ct.b2Vec2.Scale(-u,this.m_u,oe.P);e.SubtractScaled(this.m_invMassA,d),s-=this.m_invIA*ct.b2Vec2.Cross(this.m_rA,d),n.AddScaled(this.m_invMassB,d),r+=this.m_invIB*ct.b2Vec2.Cross(this.m_rB,d)}}else{const o=ct.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,oe.vpA),a=ct.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,oe.vpB),c=ct.b2Vec2.Dot(this.m_u,ct.b2Vec2.Subtract(a,o,oe.vpBA)),h=-this.m_mass*c;this.m_impulse+=h;const l=ct.b2Vec2.Scale(h,this.m_u,oe.P);e.SubtractScaled(this.m_invMassA,l),s-=this.m_invIA*ct.b2Vec2.Cross(this.m_rA,l),n.AddScaled(this.m_invMassB,l),r+=this.m_invIB*ct.b2Vec2.Cross(this.m_rB,l)}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const{qA:o,qB:a,lalcA:c,lalcB:h,P:l}=oe;o.Set(s),a.Set(r);const u=ct.b2Rot.MultiplyVec2(o,ct.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),this.m_rA),m=ct.b2Rot.MultiplyVec2(a,ct.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),this.m_rB);this.m_u.x=n.x+m.x-e.x-u.x,this.m_u.y=n.y+m.y-e.y-u.y;const d=this.m_u.Normalize();let f;if(this.m_minLength===this.m_maxLength)f=d-this.m_minLength;else if(d<this.m_minLength)f=d-this.m_minLength;else if(this.m_maxLength<d)f=d-this.m_maxLength;else return!0;const p=-this.m_mass*f;return ct.b2Vec2.Scale(p,this.m_u,l),e.SubtractScaled(this.m_invMassA,l),s-=this.m_invIA*ct.b2Vec2.Cross(u,l),n.AddScaled(this.m_invMassB,l),r+=this.m_invIB*ct.b2Vec2.Cross(m,l),t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,Math.abs(f)<Is.b2_linearSlop}Draw(t){const{pA:e,pB:s,axis:n,pRest:r}=oe.Draw,o=this.m_bodyA.GetTransform(),a=this.m_bodyB.GetTransform();if(ct.b2Transform.MultiplyVec2(o,this.m_localAnchorA,e),ct.b2Transform.MultiplyVec2(a,this.m_localAnchorB,s),ct.b2Vec2.Subtract(s,e,n),n.Normalize(),t.DrawSegment(e,s,vr.debugColors.joint5),ct.b2Vec2.AddScaled(e,this.m_length,n,r),t.DrawPoint(r,8,vr.debugColors.joint1),this.m_minLength!==this.m_maxLength){if(this.m_minLength>Is.b2_linearSlop){const c=ct.b2Vec2.AddScaled(e,this.m_minLength,n,oe.Draw.p1);t.DrawPoint(c,4,vr.debugColors.joint2)}if(this.m_maxLength<Is.b2_maxFloat){const c=ct.b2Vec2.AddScaled(e,this.m_maxLength,n,oe.Draw.p1);t.DrawPoint(c,4,vr.debugColors.joint3)}}}}ci.b2DistanceJoint=m5;Object.defineProperty(Mi,"__esModule",{value:!0});Mi.b2AreaJoint=Mi.b2AreaJointDef=void 0;const di=Xt,Vs=Nt,za=ie,d5=ci;class _5 extends za.b2JointDef{constructor(){super(za.b2JointType.e_areaJoint),this.bodies=[],this.stiffness=0,this.damping=0}AddBody(t){this.bodies.push(t),this.bodies.length===1?this.bodyA=t:this.bodies.length===2&&(this.bodyB=t)}}Mi.b2AreaJointDef=_5;class f5 extends za.b2Joint{constructor(t){var e,s;super(t),this.m_stiffness=0,this.m_damping=0,this.m_impulse=0,this.m_targetArea=0,this.m_joints=[],this.m_delta=new Vs.b2Vec2,this.m_bodies=t.bodies,this.m_stiffness=(e=t.stiffness)!==null&&e!==void 0?e:0,this.m_damping=(s=t.damping)!==null&&s!==void 0?s:0,this.m_targetLengths=(0,di.b2MakeNumberArray)(t.bodies.length),this.m_normals=(0,di.b2MakeArray)(t.bodies.length,Vs.b2Vec2),this.m_deltas=(0,di.b2MakeArray)(t.bodies.length,Vs.b2Vec2);const n=new d5.b2DistanceJointDef;n.stiffness=this.m_stiffness,n.damping=this.m_damping,this.m_targetArea=0;for(let r=0;r<this.m_bodies.length;++r){const o=this.m_bodies[r],a=this.m_bodies[(r+1)%this.m_bodies.length],c=o.GetWorldCenter(),h=a.GetWorldCenter();this.m_targetLengths[r]=Vs.b2Vec2.Distance(c,h),this.m_targetArea+=Vs.b2Vec2.Cross(c,h),n.Initialize(o,a,c,h),this.m_joints[r]=o.GetWorld().CreateJoint(n)}this.m_targetArea*=.5}GetAnchorA(t){return t}GetAnchorB(t){return t}GetReactionForce(t,e){return e}GetReactionTorque(t){return 0}SetStiffness(t){this.m_stiffness=t;for(const e of this.m_joints)e.SetStiffness(t)}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t;for(const e of this.m_joints)e.SetDamping(t)}GetDamping(){return this.m_damping}InitVelocityConstraints(t){for(let e=0;e<this.m_bodies.length;++e){const s=this.m_bodies[(e+this.m_bodies.length-1)%this.m_bodies.length],n=this.m_bodies[(e+1)%this.m_bodies.length],r=t.positions[s.m_islandIndex].c,o=t.positions[n.m_islandIndex].c,a=this.m_deltas[e];Vs.b2Vec2.Subtract(o,r,a)}if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;for(let e=0;e<this.m_bodies.length;++e){const s=this.m_bodies[e],n=t.velocities[s.m_islandIndex].v,r=this.m_deltas[e];n.x+=s.m_invMass*r.y*.5*this.m_impulse,n.y+=s.m_invMass*-r.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(t){let e=0,s=0;for(let r=0;r<this.m_bodies.length;++r){const o=this.m_bodies[r],a=t.velocities[o.m_islandIndex].v,c=this.m_deltas[r];e+=c.LengthSquared()/o.GetMass(),s+=Vs.b2Vec2.Cross(a,c)}const n=-2*s/e;this.m_impulse+=n;for(let r=0;r<this.m_bodies.length;++r){const o=this.m_bodies[r],a=t.velocities[o.m_islandIndex].v,c=this.m_deltas[r];a.x+=o.m_invMass*c.y*.5*n,a.y+=o.m_invMass*-c.x*.5*n}}SolvePositionConstraints(t){let e=0,s=0;for(let a=0;a<this.m_bodies.length;++a){const c=this.m_bodies[a],h=this.m_bodies[(a+1)%this.m_bodies.length],l=t.positions[c.m_islandIndex].c,u=t.positions[h.m_islandIndex].c,m=Vs.b2Vec2.Subtract(u,l,this.m_delta);let d=m.Length();d<di.b2_epsilon&&(d=1),this.m_normals[a].x=m.y/d,this.m_normals[a].y=-m.x/d,e+=d,s+=Vs.b2Vec2.Cross(l,u)}s*=.5;const r=.5*(this.m_targetArea-s)/e;let o=!0;for(let a=0;a<this.m_bodies.length;++a){const c=this.m_bodies[a],h=t.positions[c.m_islandIndex].c,l=(a+1)%this.m_bodies.length,u=Vs.b2Vec2.Add(this.m_normals[a],this.m_normals[l],this.m_delta);u.Scale(r);const m=u.LengthSquared();m>di.b2_maxLinearCorrection**2&&u.Scale(di.b2_maxLinearCorrection/Math.sqrt(m)),m>di.b2_linearSlop**2&&(o=!1),h.Add(u)}return o}}Mi.b2AreaJoint=f5;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.b2FrictionJoint=Pi.b2FrictionJointDef=void 0;const qt=Nt,Oa=ie,Gh={qA:new qt.b2Rot,qB:new qt.b2Rot,lalcA:new qt.b2Vec2,lalcB:new qt.b2Vec2,Cdot:new qt.b2Vec2,impulse:new qt.b2Vec2,oldImpulse:new qt.b2Vec2};class p5 extends Oa.b2JointDef{constructor(){super(Oa.b2JointType.e_frictionJoint),this.localAnchorA=new qt.b2Vec2,this.localAnchorB=new qt.b2Vec2,this.maxForce=0,this.maxTorque=0}Initialize(t,e,s){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB)}}Pi.b2FrictionJointDef=p5;class b5 extends Oa.b2Joint{constructor(t){var e,s;super(t),this.m_localAnchorA=new qt.b2Vec2,this.m_localAnchorB=new qt.b2Vec2,this.m_linearImpulse=new qt.b2Vec2,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new qt.b2Vec2,this.m_rB=new qt.b2Vec2,this.m_localCenterA=new qt.b2Vec2,this.m_localCenterB=new qt.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new qt.b2Mat22,this.m_angularMass=0,this.m_localAnchorA.Copy(t.localAnchorA),this.m_localAnchorB.Copy(t.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=(e=t.maxForce)!==null&&e!==void 0?e:0,this.m_maxTorque=(s=t.maxTorque)!==null&&s!==void 0?s:0}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].a,s=t.velocities[this.m_indexA].v;let n=t.velocities[this.m_indexA].w;const r=t.positions[this.m_indexB].a,o=t.velocities[this.m_indexB].v;let a=t.velocities[this.m_indexB].w;const{qA:c,qB:h,lalcA:l,lalcB:u}=Gh;c.Set(e),h.Set(r),qt.b2Rot.MultiplyVec2(c,qt.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,l),this.m_rA),qt.b2Rot.MultiplyVec2(h,qt.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,u),this.m_rB);const m=this.m_invMassA,d=this.m_invMassB,f=this.m_invIA,p=this.m_invIB,y=this.m_linearMass;if(y.ex.x=m+d+f*this.m_rA.y*this.m_rA.y+p*this.m_rB.y*this.m_rB.y,y.ex.y=-f*this.m_rA.x*this.m_rA.y-p*this.m_rB.x*this.m_rB.y,y.ey.x=y.ex.y,y.ey.y=m+d+f*this.m_rA.x*this.m_rA.x+p*this.m_rB.x*this.m_rB.x,y.Inverse(),this.m_angularMass=f+p,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.step.warmStarting){this.m_linearImpulse.Scale(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;const x=this.m_linearImpulse;s.SubtractScaled(m,x),n-=f*(qt.b2Vec2.Cross(this.m_rA,x)+this.m_angularImpulse),o.AddScaled(d,x),a+=p*(qt.b2Vec2.Cross(this.m_rB,x)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=a}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,h=this.m_invIB,l=t.step.dt;{const u=r-s;let m=-this.m_angularMass*u;const d=this.m_angularImpulse,f=l*this.m_maxTorque;this.m_angularImpulse=(0,qt.b2Clamp)(this.m_angularImpulse+m,-f,f),m=this.m_angularImpulse-d,s-=c*m,r+=h*m}{const{Cdot:u,impulse:m,oldImpulse:d}=Gh;qt.b2Vec2.Subtract(qt.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,qt.b2Vec2.s_t0),qt.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,qt.b2Vec2.s_t1),u),qt.b2Mat22.MultiplyVec2(this.m_linearMass,u,m).Negate(),d.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(m);const f=l*this.m_maxForce;this.m_linearImpulse.LengthSquared()>f*f&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(f)),qt.b2Vec2.Subtract(this.m_linearImpulse,d,m),e.SubtractScaled(o,m),s-=c*qt.b2Vec2.Cross(this.m_rA,m),n.AddScaled(a,m),r+=h*qt.b2Vec2.Cross(this.m_rB,m)}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){return!0}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return e.x=t*this.m_linearImpulse.x,e.y=t*this.m_linearImpulse.y,e}GetReactionTorque(t){return t*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetMaxTorque(t){this.m_maxTorque=t}GetMaxTorque(){return this.m_maxTorque}}Pi.b2FrictionJoint=b5;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.b2GearJoint=Ii.b2GearJointDef=void 0;const Rh=Xt,et=Nt,fs=ie,ji={qA:new et.b2Rot,qB:new et.b2Rot,qC:new et.b2Rot,qD:new et.b2Rot,lalcA:new et.b2Vec2,lalcB:new et.b2Vec2,lalcC:new et.b2Vec2,lalcD:new et.b2Vec2,u:new et.b2Vec2,rA:new et.b2Vec2,rB:new et.b2Vec2,rC:new et.b2Vec2,rD:new et.b2Vec2,JvAC:new et.b2Vec2,JvBD:new et.b2Vec2};class y5 extends fs.b2JointDef{constructor(){super(fs.b2JointType.e_gearJoint),this.ratio=1}}Ii.b2GearJointDef=y5;class g5 extends fs.b2Joint{constructor(t){var e;super(t),this.m_typeA=fs.b2JointType.e_unknownJoint,this.m_typeB=fs.b2JointType.e_unknownJoint,this.m_localAnchorA=new et.b2Vec2,this.m_localAnchorB=new et.b2Vec2,this.m_localAnchorC=new et.b2Vec2,this.m_localAnchorD=new et.b2Vec2,this.m_localAxisC=new et.b2Vec2,this.m_localAxisD=new et.b2Vec2,this.m_referenceAngleA=0,this.m_referenceAngleB=0,this.m_constant=0,this.m_ratio=0,this.m_tolerance=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_indexC=0,this.m_indexD=0,this.m_lcA=new et.b2Vec2,this.m_lcB=new et.b2Vec2,this.m_lcC=new et.b2Vec2,this.m_lcD=new et.b2Vec2,this.m_mA=0,this.m_mB=0,this.m_mC=0,this.m_mD=0,this.m_iA=0,this.m_iB=0,this.m_iC=0,this.m_iD=0,this.m_JvAC=new et.b2Vec2,this.m_JvBD=new et.b2Vec2,this.m_JwA=0,this.m_JwB=0,this.m_JwC=0,this.m_JwD=0,this.m_mass=0,this.m_joint1=t.joint1,this.m_joint2=t.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType();let s,n;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();const r=this.m_bodyA.m_xf,o=this.m_bodyA.m_sweep.a,a=this.m_bodyC.m_xf,c=this.m_bodyC.m_sweep.a;if(this.m_typeA===fs.b2JointType.e_revoluteJoint){const d=t.joint1;this.m_localAnchorC.Copy(d.m_localAnchorA),this.m_localAnchorA.Copy(d.m_localAnchorB),this.m_referenceAngleA=d.m_referenceAngle,this.m_localAxisC.SetZero(),s=o-c-this.m_referenceAngleA,this.m_tolerance=Rh.b2_angularSlop}else{const d=t.joint1;this.m_localAnchorC.Copy(d.m_localAnchorA),this.m_localAnchorA.Copy(d.m_localAnchorB),this.m_referenceAngleA=d.m_referenceAngle,this.m_localAxisC.Copy(d.m_localXAxisA);const f=this.m_localAnchorC,p=et.b2Rot.TransposeMultiplyVec2(a.q,et.b2Rot.MultiplyVec2(r.q,this.m_localAnchorA,et.b2Vec2.s_t0).Add(r.p).Subtract(a.p),et.b2Vec2.s_t0);s=et.b2Vec2.Dot(p.Subtract(f),this.m_localAxisC),this.m_tolerance=Rh.b2_linearSlop}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();const h=this.m_bodyB.m_xf,l=this.m_bodyB.m_sweep.a,u=this.m_bodyD.m_xf,m=this.m_bodyD.m_sweep.a;if(this.m_typeB===fs.b2JointType.e_revoluteJoint){const d=t.joint2;this.m_localAnchorD.Copy(d.m_localAnchorA),this.m_localAnchorB.Copy(d.m_localAnchorB),this.m_referenceAngleB=d.m_referenceAngle,this.m_localAxisD.SetZero(),n=l-m-this.m_referenceAngleB}else{const d=t.joint2;this.m_localAnchorD.Copy(d.m_localAnchorA),this.m_localAnchorB.Copy(d.m_localAnchorB),this.m_referenceAngleB=d.m_referenceAngle,this.m_localAxisD.Copy(d.m_localXAxisA);const f=this.m_localAnchorD,p=et.b2Rot.TransposeMultiplyVec2(u.q,et.b2Rot.MultiplyVec2(h.q,this.m_localAnchorB,et.b2Vec2.s_t0).Add(h.p).Subtract(u.p),et.b2Vec2.s_t0);n=et.b2Vec2.Dot(p.Subtract(f),this.m_localAxisD)}this.m_ratio=(e=t.ratio)!==null&&e!==void 0?e:1,this.m_constant=s+this.m_ratio*n,this.m_impulse=0}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;const e=t.positions[this.m_indexA].a,s=t.velocities[this.m_indexA].v;let n=t.velocities[this.m_indexA].w;const r=t.positions[this.m_indexB].a,o=t.velocities[this.m_indexB].v;let a=t.velocities[this.m_indexB].w;const c=t.positions[this.m_indexC].a,h=t.velocities[this.m_indexC].v;let l=t.velocities[this.m_indexC].w;const u=t.positions[this.m_indexD].a,m=t.velocities[this.m_indexD].v;let d=t.velocities[this.m_indexD].w;const{qA:f,qB:p,qC:y,qD:x}=ji;if(f.Set(e),p.Set(r),y.Set(c),x.Set(u),this.m_mass=0,this.m_typeA===fs.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{const{u:_,rC:b,rA:g,lalcA:A,lalcC:B}=ji;et.b2Rot.MultiplyVec2(y,this.m_localAxisC,_),et.b2Rot.MultiplyVec2(y,et.b2Vec2.Subtract(this.m_localAnchorC,this.m_lcC,B),b),et.b2Rot.MultiplyVec2(f,et.b2Vec2.Subtract(this.m_localAnchorA,this.m_lcA,A),g),this.m_JvAC.Copy(_),this.m_JwC=et.b2Vec2.Cross(b,_),this.m_JwA=et.b2Vec2.Cross(g,_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===fs.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{const{u:_,rB:b,rD:g,lalcB:A,lalcD:B}=ji;et.b2Rot.MultiplyVec2(x,this.m_localAxisD,_),et.b2Rot.MultiplyVec2(x,et.b2Vec2.Subtract(this.m_localAnchorD,this.m_lcD,B),g),et.b2Rot.MultiplyVec2(p,et.b2Vec2.Subtract(this.m_localAnchorB,this.m_lcB,A),b),et.b2Vec2.Scale(this.m_ratio,_,this.m_JvBD),this.m_JwD=this.m_ratio*et.b2Vec2.Cross(g,_),this.m_JwB=this.m_ratio*et.b2Vec2.Cross(b,_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,t.step.warmStarting?(s.AddScaled(this.m_mA*this.m_impulse,this.m_JvAC),n+=this.m_iA*this.m_impulse*this.m_JwA,o.AddScaled(this.m_mB*this.m_impulse,this.m_JvBD),a+=this.m_iB*this.m_impulse*this.m_JwB,h.SubtractScaled(this.m_mC*this.m_impulse,this.m_JvAC),l-=this.m_iC*this.m_impulse*this.m_JwC,m.SubtractScaled(this.m_mD*this.m_impulse,this.m_JvBD),d-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=a,t.velocities[this.m_indexC].w=l,t.velocities[this.m_indexD].w=d}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=t.velocities[this.m_indexC].v;let a=t.velocities[this.m_indexC].w;const c=t.velocities[this.m_indexD].v;let h=t.velocities[this.m_indexD].w,l=et.b2Vec2.Dot(this.m_JvAC,et.b2Vec2.Subtract(e,o,et.b2Vec2.s_t0))+et.b2Vec2.Dot(this.m_JvBD,et.b2Vec2.Subtract(n,c,et.b2Vec2.s_t0));l+=this.m_JwA*s-this.m_JwC*a+(this.m_JwB*r-this.m_JwD*h);const u=-this.m_mass*l;this.m_impulse+=u,e.AddScaled(this.m_mA*u,this.m_JvAC),s+=this.m_iA*u*this.m_JwA,n.AddScaled(this.m_mB*u,this.m_JvBD),r+=this.m_iB*u*this.m_JwB,o.SubtractScaled(this.m_mC*u,this.m_JvAC),a-=this.m_iC*u*this.m_JwC,c.SubtractScaled(this.m_mD*u,this.m_JvBD),h-=this.m_iD*u*this.m_JwD,t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r,t.velocities[this.m_indexC].w=a,t.velocities[this.m_indexD].w=h}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const o=t.positions[this.m_indexC].c;let a=t.positions[this.m_indexC].a;const c=t.positions[this.m_indexD].c;let h=t.positions[this.m_indexD].a;const{qA:l,qB:u,qC:m,qD:d,JvAC:f,JvBD:p}=ji;l.Set(s),u.Set(r),m.Set(a),d.Set(h);let y,x,_,b,g,A,B=0;if(this.m_typeA===fs.b2JointType.e_revoluteJoint)f.SetZero(),_=1,g=1,B+=this.m_iA+this.m_iC,y=s-a-this.m_referenceAngleA;else{const{u:V,rC:S,rA:D,lalcC:L,lalcA:k}=ji;et.b2Rot.MultiplyVec2(m,this.m_localAxisC,V),et.b2Rot.MultiplyVec2(m,et.b2Vec2.Subtract(this.m_localAnchorC,this.m_lcC,L),S),et.b2Rot.MultiplyVec2(l,et.b2Vec2.Subtract(this.m_localAnchorA,this.m_lcA,k),D),f.Copy(V),g=et.b2Vec2.Cross(S,V),_=et.b2Vec2.Cross(D,V),B+=this.m_mC+this.m_mA+this.m_iC*g*g+this.m_iA*_*_;const E=L,R=et.b2Rot.TransposeMultiplyVec2(m,et.b2Vec2.Add(D,e,et.b2Vec2.s_t0).Subtract(o),et.b2Vec2.s_t0);y=et.b2Vec2.Dot(et.b2Vec2.Subtract(R,E,et.b2Vec2.s_t0),this.m_localAxisC)}if(this.m_typeB===fs.b2JointType.e_revoluteJoint)p.SetZero(),b=this.m_ratio,A=this.m_ratio,B+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),x=r-h-this.m_referenceAngleB;else{const{u:V,rD:S,rB:D,lalcD:L,lalcB:k}=ji;et.b2Rot.MultiplyVec2(d,this.m_localAxisD,V),et.b2Rot.MultiplyVec2(d,et.b2Vec2.Subtract(this.m_localAnchorD,this.m_lcD,L),S),et.b2Rot.MultiplyVec2(u,et.b2Vec2.Subtract(this.m_localAnchorB,this.m_lcB,k),D),et.b2Vec2.Scale(this.m_ratio,V,p),A=this.m_ratio*et.b2Vec2.Cross(S,V),b=this.m_ratio*et.b2Vec2.Cross(D,V),B+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*A*A+this.m_iB*b*b;const E=L,R=et.b2Rot.TransposeMultiplyVec2(d,et.b2Vec2.Add(D,n,et.b2Vec2.s_t0).Subtract(c),et.b2Vec2.s_t0);x=et.b2Vec2.Dot(R.Subtract(E),this.m_localAxisD)}const w=y+this.m_ratio*x-this.m_constant;let P=0;return B>0&&(P=-w/B),e.AddScaled(this.m_mA*P,f),s+=this.m_iA*P*_,n.AddScaled(this.m_mB*P,p),r+=this.m_iB*P*b,o.SubtractScaled(this.m_mC*P,f),a-=this.m_iC*P*g,c.SubtractScaled(this.m_mD*P,p),h-=this.m_iD*P*A,t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,t.positions[this.m_indexC].a=a,t.positions[this.m_indexD].a=h,Math.abs(w)<this.m_tolerance}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return et.b2Vec2.Scale(t*this.m_impulse,this.m_JvAC,e)}GetReactionTorque(t){return t*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(t){this.m_ratio=t}}Ii.b2GearJoint=g5;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.b2MotorJoint=Ti.b2MotorJointDef=void 0;const Et=Nt,$a=ie,Fh={qA:new Et.b2Rot,qB:new Et.b2Rot,K:new Et.b2Mat22,Cdot:new Et.b2Vec2,impulse:new Et.b2Vec2,oldImpulse:new Et.b2Vec2};class x5 extends $a.b2JointDef{constructor(){super($a.b2JointType.e_motorJoint),this.linearOffset=new Et.b2Vec2,this.angularOffset=0,this.maxForce=1,this.maxTorque=1,this.correctionFactor=.3}Initialize(t,e){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(e.GetPosition(),this.linearOffset);const s=t.GetAngle(),n=e.GetAngle();this.angularOffset=n-s}}Ti.b2MotorJointDef=x5;class v5 extends $a.b2Joint{constructor(t){var e,s,n,r,o;super(t),this.m_linearOffset=new Et.b2Vec2,this.m_linearImpulse=new Et.b2Vec2,this.m_angularImpulse=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new Et.b2Vec2,this.m_rB=new Et.b2Vec2,this.m_localCenterA=new Et.b2Vec2,this.m_localCenterB=new Et.b2Vec2,this.m_linearError=new Et.b2Vec2,this.m_angularError=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new Et.b2Mat22,this.m_angularMass=0,this.m_linearOffset.Copy((e=t.linearOffset)!==null&&e!==void 0?e:Et.b2Vec2.ZERO),this.m_angularOffset=(s=t.angularOffset)!==null&&s!==void 0?s:0,this.m_linearImpulse.SetZero(),this.m_maxForce=(n=t.maxForce)!==null&&n!==void 0?n:1,this.m_maxTorque=(r=t.maxTorque)!==null&&r!==void 0?r:1,this.m_correctionFactor=(o=t.correctionFactor)!==null&&o!==void 0?o:.3}GetAnchorA(t){const e=this.m_bodyA.GetPosition();return t.x=e.x,t.y=e.y,t}GetAnchorB(t){const e=this.m_bodyB.GetPosition();return t.x=e.x,t.y=e.y,t}GetReactionForce(t,e){return Et.b2Vec2.Scale(t,this.m_linearImpulse,e)}GetReactionTorque(t){return t*this.m_angularImpulse}SetLinearOffset(t){Et.b2Vec2.Equals(t,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(t))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(t){t!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=t)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetMaxTorque(t){this.m_maxTorque=t}GetMaxTorque(){return this.m_maxTorque}GetCorrectionFactor(){return this.m_correctionFactor}SetCorrectionFactor(t){this.m_correctionFactor=t}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].c,s=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v;let r=t.velocities[this.m_indexA].w;const o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{qA:l,qB:u}=Fh;l.Set(s),u.Set(a);const m=Et.b2Rot.MultiplyVec2(l,Et.b2Vec2.Subtract(this.m_linearOffset,this.m_localCenterA,Et.b2Vec2.s_t0),this.m_rA),d=Et.b2Rot.MultiplyVec2(u,Et.b2Vec2.Negate(this.m_localCenterB,Et.b2Vec2.s_t0),this.m_rB),f=this.m_invMassA,p=this.m_invMassB,y=this.m_invIA,x=this.m_invIB,_=this.m_linearMass;if(_.ex.x=f+p+y*m.y*m.y+x*d.y*d.y,_.ex.y=-y*m.x*m.y-x*d.x*d.y,_.ey.x=_.ex.y,_.ey.y=f+p+y*m.x*m.x+x*d.x*d.x,_.Inverse(),this.m_angularMass=y+x,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),Et.b2Vec2.Subtract(Et.b2Vec2.Add(o,d,Et.b2Vec2.s_t0),Et.b2Vec2.Add(e,m,Et.b2Vec2.s_t1),this.m_linearError),this.m_angularError=a-s-this.m_angularOffset,t.step.warmStarting){this.m_linearImpulse.Scale(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;const b=this.m_linearImpulse;n.SubtractScaled(f,b),r-=y*(Et.b2Vec2.Cross(m,b)+this.m_angularImpulse),c.AddScaled(p,b),h+=x*(Et.b2Vec2.Cross(d,b)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=h}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,h=this.m_invIB,l=t.step.dt,u=t.step.inv_dt;{const m=r-s+u*this.m_correctionFactor*this.m_angularError;let d=-this.m_angularMass*m;const f=this.m_angularImpulse,p=l*this.m_maxTorque;this.m_angularImpulse=(0,Et.b2Clamp)(this.m_angularImpulse+d,-p,p),d=this.m_angularImpulse-f,s-=c*d,r+=h*d}{const{impulse:m,oldImpulse:d,Cdot:f}=Fh;Et.b2Vec2.AddScaled(Et.b2Vec2.Subtract(Et.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,Et.b2Vec2.s_t0),Et.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,Et.b2Vec2.s_t1),Et.b2Vec2.s_t2),u*this.m_correctionFactor,this.m_linearError,f),Et.b2Mat22.MultiplyVec2(this.m_linearMass,f,m).Negate(),d.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(m);const p=l*this.m_maxForce;this.m_linearImpulse.LengthSquared()>p*p&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(p)),Et.b2Vec2.Subtract(this.m_linearImpulse,d,m),e.SubtractScaled(o,m),s-=c*Et.b2Vec2.Cross(this.m_rA,m),n.AddScaled(a,m),r+=h*Et.b2Vec2.Cross(this.m_rB,m)}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){return!0}}Ti.b2MotorJoint=v5;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.b2MouseJoint=ki.b2MouseJointDef=void 0;const ea=Oe,te=Nt,ja=ie,Ar={qB:new te.b2Rot,lalcB:new te.b2Vec2,Cdot:new te.b2Vec2,impulse:new te.b2Vec2,oldImpulse:new te.b2Vec2,pA:new te.b2Vec2,pB:new te.b2Vec2};class A5 extends ja.b2JointDef{constructor(){super(ja.b2JointType.e_mouseJoint),this.target=new te.b2Vec2,this.maxForce=0,this.stiffness=0,this.damping=0}}ki.b2MouseJointDef=A5;class w5 extends ja.b2Joint{constructor(t){var e,s,n,r;super(t),this.m_localAnchorB=new te.b2Vec2,this.m_targetA=new te.b2Vec2,this.m_stiffness=0,this.m_damping=0,this.m_beta=0,this.m_impulse=new te.b2Vec2,this.m_maxForce=0,this.m_gamma=0,this.m_indexB=0,this.m_rB=new te.b2Vec2,this.m_localCenterB=new te.b2Vec2,this.m_invMassB=0,this.m_invIB=0,this.m_mass=new te.b2Mat22,this.m_C=new te.b2Vec2,this.m_targetA.Copy((e=t.target)!==null&&e!==void 0?e:te.b2Vec2.ZERO),te.b2Transform.TransposeMultiplyVec2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=(s=t.maxForce)!==null&&s!==void 0?s:0,this.m_stiffness=(n=t.stiffness)!==null&&n!==void 0?n:0,this.m_damping=(r=t.damping)!==null&&r!==void 0?r:0,this.m_beta=0,this.m_gamma=0}SetTarget(t){te.b2Vec2.Equals(t,this.m_targetA)||(this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(t))}GetTarget(){return this.m_targetA}SetMaxForce(t){this.m_maxForce=t}GetMaxForce(){return this.m_maxForce}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(t){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const{qB:o,lalcB:a}=Ar;o.Set(s);const c=this.m_damping,h=this.m_stiffness,l=t.step.dt;this.m_gamma=l*(c+l*h),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=l*h*this.m_gamma,te.b2Rot.MultiplyVec2(o,te.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,a),this.m_rB);const u=this.m_mass;u.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,u.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,u.ey.x=u.ex.y,u.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,u.Inverse(),te.b2Vec2.Add(e,this.m_rB,this.m_C).Subtract(this.m_targetA),this.m_C.Scale(this.m_beta),r*=Math.max(0,1-.02*(60*t.step.dt)),t.step.warmStarting?(this.m_impulse.Scale(t.step.dtRatio),n.AddScaled(this.m_invMassB,this.m_impulse),r+=this.m_invIB*te.b2Vec2.Cross(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),t.velocities[this.m_indexB].w=r}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexB].v;let s=t.velocities[this.m_indexB].w;const{Cdot:n,impulse:r,oldImpulse:o}=Ar;te.b2Vec2.AddCrossScalarVec2(e,s,this.m_rB,n),te.b2Mat22.MultiplyVec2(this.m_mass,te.b2Vec2.Add(n,this.m_C,r).AddScaled(this.m_gamma,this.m_impulse).Negate(),r),o.Copy(this.m_impulse),this.m_impulse.Add(r);const a=t.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>a*a&&this.m_impulse.Scale(a/this.m_impulse.Length()),te.b2Vec2.Subtract(this.m_impulse,o,r),e.AddScaled(this.m_invMassB,r),s+=this.m_invIB*te.b2Vec2.Cross(this.m_rB,r),t.velocities[this.m_indexB].w=s}SolvePositionConstraints(t){return!0}GetAnchorA(t){return t.x=this.m_targetA.x,t.y=this.m_targetA.y,t}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return te.b2Vec2.Scale(t,this.m_impulse,e)}GetReactionTorque(t){return 0}ShiftOrigin(t){this.m_targetA.Subtract(t)}Draw(t){const e=this.GetAnchorA(Ar.pA),s=this.GetAnchorB(Ar.pB);t.DrawPoint(e,4,ea.debugColors.joint7),t.DrawPoint(s,4,ea.debugColors.joint7),t.DrawSegment(e,s,ea.debugColors.joint8)}}ki.b2MouseJoint=w5;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.b2PrismaticJoint=Ei.b2PrismaticJointDef=void 0;const sa=Xt,_i=Oe,q=Nt,Na=ie,Ye={K3:new q.b2Mat33,K2:new q.b2Mat22,qA:new q.b2Rot,qB:new q.b2Rot,lalcA:new q.b2Vec2,lalcB:new q.b2Vec2,rA:new q.b2Vec2,rB:new q.b2Vec2,GetJointTranslation:{pA:new q.b2Vec2,pB:new q.b2Vec2,d:new q.b2Vec2,axis:new q.b2Vec2},InitVelocityConstraints:{d:new q.b2Vec2,P:new q.b2Vec2},SolveVelocityConstraints:{P:new q.b2Vec2,df:new q.b2Vec2},SolvePositionConstraints:{d:new q.b2Vec2,impulse:new q.b2Vec3,impulse1:new q.b2Vec2,P:new q.b2Vec2},Draw:{p1:new q.b2Vec2,p2:new q.b2Vec2,pA:new q.b2Vec2,pB:new q.b2Vec2,axis:new q.b2Vec2,lower:new q.b2Vec2,upper:new q.b2Vec2,perp:new q.b2Vec2}};class C5 extends Na.b2JointDef{constructor(){super(Na.b2JointType.e_prismaticJoint),this.localAnchorA=new q.b2Vec2,this.localAnchorB=new q.b2Vec2,this.localAxisA=new q.b2Vec2(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0}Initialize(t,e,s,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}Ei.b2PrismaticJointDef=C5;class S5 extends Na.b2Joint{constructor(t){var e,s,n,r,o,a,c,h,l,u;super(t),this.m_localAnchorA=new q.b2Vec2,this.m_localAnchorB=new q.b2Vec2,this.m_localXAxisA=new q.b2Vec2,this.m_localYAxisA=new q.b2Vec2,this.m_referenceAngle=0,this.m_impulse=new q.b2Vec2,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorForce=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new q.b2Vec2,this.m_localCenterB=new q.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_axis=new q.b2Vec2,this.m_perp=new q.b2Vec2,this.m_s1=0,this.m_s2=0,this.m_a1=0,this.m_a2=0,this.m_K=new q.b2Mat22,this.m_translation=0,this.m_axialMass=0,this.m_localAnchorA.Copy((e=t.localAnchorA)!==null&&e!==void 0?e:q.b2Vec2.ZERO),this.m_localAnchorB.Copy((s=t.localAnchorB)!==null&&s!==void 0?s:q.b2Vec2.ZERO),q.b2Vec2.Normalize((n=t.localAxisA)!==null&&n!==void 0?n:q.b2Vec2.UNITX,this.m_localXAxisA),q.b2Vec2.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=(r=t.referenceAngle)!==null&&r!==void 0?r:0,this.m_lowerTranslation=(o=t.lowerTranslation)!==null&&o!==void 0?o:0,this.m_upperTranslation=(a=t.upperTranslation)!==null&&a!==void 0?a:0,this.m_maxMotorForce=(c=t.maxMotorForce)!==null&&c!==void 0?c:0,this.m_motorSpeed=(h=t.motorSpeed)!==null&&h!==void 0?h:0,this.m_enableLimit=(l=t.enableLimit)!==null&&l!==void 0?l:!1,this.m_enableMotor=(u=t.enableMotor)!==null&&u!==void 0?u:!1}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].c,s=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v;let r=t.velocities[this.m_indexA].w;const o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{qA:l,qB:u,lalcA:m,lalcB:d,rA:f,rB:p}=Ye;l.Set(s),u.Set(a),q.b2Rot.MultiplyVec2(l,q.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,m),f),q.b2Rot.MultiplyVec2(u,q.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,d),p);const y=q.b2Vec2.Subtract(o,e,Ye.InitVelocityConstraints.d).Add(p).Subtract(f),x=this.m_invMassA,_=this.m_invMassB,b=this.m_invIA,g=this.m_invIB;q.b2Rot.MultiplyVec2(l,this.m_localXAxisA,this.m_axis),this.m_a1=q.b2Vec2.Cross(q.b2Vec2.Add(y,f,q.b2Vec2.s_t0),this.m_axis),this.m_a2=q.b2Vec2.Cross(p,this.m_axis),this.m_axialMass=x+_+b*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2,this.m_axialMass>0&&(this.m_axialMass=1/this.m_axialMass),q.b2Rot.MultiplyVec2(l,this.m_localYAxisA,this.m_perp),this.m_s1=q.b2Vec2.Cross(q.b2Vec2.Add(y,f,q.b2Vec2.s_t0),this.m_perp),this.m_s2=q.b2Vec2.Cross(p,this.m_perp);const A=x+_+b*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2,B=b*this.m_s1+g*this.m_s2;let w=b+g;if(w===0&&(w=1),this.m_K.ex.Set(A,B),this.m_K.ey.Set(B,w),this.m_enableLimit?this.m_translation=q.b2Vec2.Dot(this.m_axis,y):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor||(this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse.Scale(t.step.dtRatio),this.m_motorImpulse*=t.step.dtRatio,this.m_lowerImpulse*=t.step.dtRatio,this.m_upperImpulse*=t.step.dtRatio;const P=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:V}=Ye.InitVelocityConstraints;q.b2Vec2.Scale(this.m_impulse.x,this.m_perp,V).AddScaled(P,this.m_axis);const S=this.m_impulse.x*this.m_s1+this.m_impulse.y+P*this.m_a1,D=this.m_impulse.x*this.m_s2+this.m_impulse.y+P*this.m_a2;n.SubtractScaled(x,V),r-=b*S,c.AddScaled(_,V),h+=g*D}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=h}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,h=this.m_invIB,{P:l,df:u}=Ye.SolveVelocityConstraints;if(this.m_enableMotor){const m=q.b2Vec2.Dot(this.m_axis,q.b2Vec2.Subtract(n,e,q.b2Vec2.s_t0))+this.m_a2*r-this.m_a1*s;let d=this.m_axialMass*(this.m_motorSpeed-m);const f=this.m_motorImpulse,p=t.step.dt*this.m_maxMotorForce;this.m_motorImpulse=(0,q.b2Clamp)(this.m_motorImpulse+d,-p,p),d=this.m_motorImpulse-f,q.b2Vec2.Scale(d,this.m_axis,l);const y=d*this.m_a1,x=d*this.m_a2;e.SubtractScaled(o,l),s-=c*y,n.AddScaled(a,l),r+=h*x}if(this.m_enableLimit){{const m=this.m_translation-this.m_lowerTranslation,d=q.b2Vec2.Dot(this.m_axis,q.b2Vec2.Subtract(n,e,q.b2Vec2.s_t0))+this.m_a2*r-this.m_a1*s;let f=-this.m_axialMass*(d+Math.max(m,0)*t.step.inv_dt);const p=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+f,0),f=this.m_lowerImpulse-p,q.b2Vec2.Scale(f,this.m_axis,l);const y=f*this.m_a1,x=f*this.m_a2;e.SubtractScaled(o,l),s-=c*y,n.AddScaled(a,l),r+=h*x}{const m=this.m_upperTranslation-this.m_translation,d=q.b2Vec2.Dot(this.m_axis,q.b2Vec2.Subtract(e,n,q.b2Vec2.s_t0))+this.m_a1*s-this.m_a2*r;let f=-this.m_axialMass*(d+Math.max(m,0)*t.step.inv_dt);const p=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+f,0),f=this.m_upperImpulse-p,q.b2Vec2.Scale(f,this.m_axis,l);const y=f*this.m_a1,x=f*this.m_a2;e.AddScaled(o,l),s+=c*y,n.SubtractScaled(a,l),r-=h*x}}{const m=q.b2Vec2.Dot(this.m_perp,q.b2Vec2.Subtract(n,e,q.b2Vec2.s_t0))+this.m_s2*r-this.m_s1*s,d=r-s;this.m_K.Solve(-m,-d,u),this.m_impulse.Add(u),q.b2Vec2.Scale(u.x,this.m_perp,l);const f=u.x*this.m_s1+u.y,p=u.x*this.m_s2+u.y;e.SubtractScaled(o,l),s-=c*f,n.AddScaled(a,l),r+=h*p}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const{qA:o,qB:a,lalcA:c,lalcB:h,rA:l,rB:u}=Ye;o.Set(s),a.Set(r);const m=this.m_invMassA,d=this.m_invMassB,f=this.m_invIA,p=this.m_invIB,{d:y,impulse:x,P:_}=Ye.SolvePositionConstraints;q.b2Rot.MultiplyVec2(o,q.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),l),q.b2Rot.MultiplyVec2(a,q.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),u),q.b2Vec2.Add(n,u,y).Subtract(e).Subtract(l);const b=q.b2Rot.MultiplyVec2(o,this.m_localXAxisA,this.m_axis),g=q.b2Vec2.Cross(q.b2Vec2.Add(y,l,q.b2Vec2.s_t0),b),A=q.b2Vec2.Cross(u,b),B=q.b2Rot.MultiplyVec2(o,this.m_localYAxisA,this.m_perp),w=q.b2Vec2.Cross(q.b2Vec2.Add(y,l,q.b2Vec2.s_t0),B),P=q.b2Vec2.Cross(u,B),V=q.b2Vec2.Dot(B,y),S=r-s-this.m_referenceAngle;let D=Math.abs(V);const L=Math.abs(S);let k=!1,E=0;if(this.m_enableLimit){const U=q.b2Vec2.Dot(b,y);Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*sa.b2_linearSlop?(E=U,D=Math.max(D,Math.abs(U)),k=!0):U<=this.m_lowerTranslation?(E=Math.min(U-this.m_lowerTranslation,0),D=Math.max(D,this.m_lowerTranslation-U),k=!0):U>=this.m_upperTranslation&&(E=Math.max(U-this.m_upperTranslation,0),D=Math.max(D,U-this.m_upperTranslation),k=!0)}if(k){const U=m+d+f*w*w+p*P*P,at=f*w+p*P,N=f*w*g+p*P*A;let j=f+p;j===0&&(j=1);const G=f*g+p*A,W=m+d+f*g*g+p*A*A,ht=Ye.K3;ht.ex.Set(U,at,N),ht.ey.Set(at,j,G),ht.ez.Set(N,G,W),ht.Solve33(-V,-S,-E,x)}else{const U=m+d+f*w*w+p*P*P,at=f*w+p*P;let N=f+p;N===0&&(N=1);const j=Ye.K2;j.ex.Set(U,at),j.ey.Set(at,N);const G=j.Solve(-V,-S,Ye.SolvePositionConstraints.impulse1);x.x=G.x,x.y=G.y,x.z=0}q.b2Vec2.Scale(x.x,B,_).AddScaled(x.z,b);const R=x.x*w+x.y+x.z*g,z=x.x*P+x.y+x.z*A;return e.SubtractScaled(m,_),s-=f*R,n.AddScaled(d,_),r+=p*z,t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,D<=sa.b2_linearSlop&&L<=sa.b2_angularSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){const s=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse;return e.x=t*(this.m_impulse.x*this.m_perp.x+s*this.m_axis.x),e.y=t*(this.m_impulse.x*this.m_perp.y+s*this.m_axis.y),e}GetReactionTorque(t){return t*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){const{pA:t,pB:e,axis:s,d:n}=Ye.GetJointTranslation;return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t),this.m_bodyB.GetWorldPoint(this.m_localAnchorB,e),q.b2Vec2.Subtract(e,t,n),this.m_bodyA.GetWorldVector(this.m_localXAxisA,s),q.b2Vec2.Dot(n,s)}GetJointSpeed(){const t=this.m_bodyA,e=this.m_bodyB,{lalcA:s,lalcB:n,rA:r,rB:o}=Ye;q.b2Rot.MultiplyVec2(t.m_xf.q,q.b2Vec2.Subtract(this.m_localAnchorA,t.m_sweep.localCenter,s),r),q.b2Rot.MultiplyVec2(e.m_xf.q,q.b2Vec2.Subtract(this.m_localAnchorB,e.m_sweep.localCenter,n),o);const a=q.b2Vec2.Add(t.m_sweep.c,r,q.b2Vec2.s_t0),c=q.b2Vec2.Add(e.m_sweep.c,o,q.b2Vec2.s_t1),h=q.b2Vec2.Subtract(c,a,q.b2Vec2.s_t2),l=q.b2Rot.MultiplyVec2(t.m_xf.q,this.m_localXAxisA,this.m_axis),u=t.m_linearVelocity,m=e.m_linearVelocity,d=t.m_angularVelocity,f=e.m_angularVelocity;return q.b2Vec2.Dot(h,q.b2Vec2.CrossScalarVec2(d,l,q.b2Vec2.s_t0))+q.b2Vec2.Dot(l,q.b2Vec2.Subtract(q.b2Vec2.AddCrossScalarVec2(m,f,o,q.b2Vec2.s_t0),q.b2Vec2.AddCrossScalarVec2(u,d,r,q.b2Vec2.s_t1),q.b2Vec2.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(t){return t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_lowerImpulse=0,this.m_upperImpulse=0),t}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(t,e){(t!==this.m_lowerTranslation||e!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_lowerImpulse=0,this.m_upperImpulse=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(t){return t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t),t}SetMotorSpeed(t){return t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t),t}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(t){t!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(t){return t*this.m_motorImpulse}Draw(t){const{p1:e,p2:s,pA:n,pB:r,axis:o}=Ye.Draw,a=this.m_bodyA.GetTransform(),c=this.m_bodyB.GetTransform();if(q.b2Transform.MultiplyVec2(a,this.m_localAnchorA,n),q.b2Transform.MultiplyVec2(c,this.m_localAnchorB,r),q.b2Rot.MultiplyVec2(a.q,this.m_localXAxisA,o),t.DrawSegment(n,r,_i.debugColors.joint5),this.m_enableLimit){const{lower:h,upper:l,perp:u}=Ye.Draw;q.b2Vec2.AddScaled(n,this.m_lowerTranslation,o,h),q.b2Vec2.AddScaled(n,this.m_upperTranslation,o,l),q.b2Rot.MultiplyVec2(a.q,this.m_localYAxisA,u),t.DrawSegment(h,l,_i.debugColors.joint1),t.DrawSegment(q.b2Vec2.SubtractScaled(h,.5,u,e),q.b2Vec2.AddScaled(h,.5,u,s),_i.debugColors.joint2),t.DrawSegment(q.b2Vec2.SubtractScaled(l,.5,u,e),q.b2Vec2.AddScaled(l,.5,u,s),_i.debugColors.joint3)}else t.DrawSegment(q.b2Vec2.Subtract(n,o,e),q.b2Vec2.Add(n,o,s),_i.debugColors.joint1);t.DrawPoint(n,5,_i.debugColors.joint1),t.DrawPoint(r,5,_i.debugColors.joint4)}}Ei.b2PrismaticJoint=S5;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.b2PulleyJoint=Js.b2PulleyJointDef=Js.b2_minPulleyLength=void 0;const fn=Xt,ia=Oe,mt=Nt,qa=ie;Js.b2_minPulleyLength=2;const Qs={qA:new mt.b2Rot,qB:new mt.b2Rot,lalcA:new mt.b2Vec2,lalcB:new mt.b2Vec2,p:new mt.b2Vec2,PA:new mt.b2Vec2,PB:new mt.b2Vec2,vpA:new mt.b2Vec2,vpB:new mt.b2Vec2,pA:new mt.b2Vec2,pB:new mt.b2Vec2};class B5 extends qa.b2JointDef{constructor(){super(qa.b2JointType.e_pulleyJoint),this.groundAnchorA=new mt.b2Vec2(-1,1),this.groundAnchorB=new mt.b2Vec2(1,1),this.localAnchorA=new mt.b2Vec2(-1,0),this.localAnchorB=new mt.b2Vec2(1,0),this.lengthA=0,this.lengthB=0,this.ratio=1,this.collideConnected=!0}Initialize(t,e,s,n,r,o,a){this.bodyA=t,this.bodyB=e,this.groundAnchorA.Copy(s),this.groundAnchorB.Copy(n),this.bodyA.GetLocalPoint(r,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.lengthA=mt.b2Vec2.Distance(r,s),this.lengthB=mt.b2Vec2.Distance(o,n),this.ratio=a}}Js.b2PulleyJointDef=B5;const V5=new mt.b2Vec2(-1,1),M5=mt.b2Vec2.UNITX,P5=new mt.b2Vec2(-1,0),I5=mt.b2Vec2.UNITX;class T5 extends qa.b2Joint{constructor(t){var e,s,n,r,o,a,c;super(t),this.m_groundAnchorA=new mt.b2Vec2,this.m_groundAnchorB=new mt.b2Vec2,this.m_lengthA=0,this.m_lengthB=0,this.m_localAnchorA=new mt.b2Vec2,this.m_localAnchorB=new mt.b2Vec2,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_uA=new mt.b2Vec2,this.m_uB=new mt.b2Vec2,this.m_rA=new mt.b2Vec2,this.m_rB=new mt.b2Vec2,this.m_localCenterA=new mt.b2Vec2,this.m_localCenterB=new mt.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_groundAnchorA.Copy((e=t.groundAnchorA)!==null&&e!==void 0?e:V5),this.m_groundAnchorB.Copy((s=t.groundAnchorB)!==null&&s!==void 0?s:M5),this.m_localAnchorA.Copy((n=t.localAnchorA)!==null&&n!==void 0?n:P5),this.m_localAnchorB.Copy((r=t.localAnchorB)!==null&&r!==void 0?r:I5),this.m_lengthA=(o=t.lengthA)!==null&&o!==void 0?o:0,this.m_lengthB=(a=t.lengthB)!==null&&a!==void 0?a:0,this.m_ratio=(c=t.ratio)!==null&&c!==void 0?c:1,this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].c,s=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v;let r=t.velocities[this.m_indexA].w;const o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{qA:l,qB:u,lalcA:m,lalcB:d}=Qs;l.Set(s),u.Set(a),mt.b2Rot.MultiplyVec2(l,mt.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,m),this.m_rA),mt.b2Rot.MultiplyVec2(u,mt.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,d),this.m_rB),mt.b2Vec2.Add(e,this.m_rA,this.m_uA).Subtract(this.m_groundAnchorA),mt.b2Vec2.Add(o,this.m_rB,this.m_uB).Subtract(this.m_groundAnchorB);const f=this.m_uA.Length(),p=this.m_uB.Length();f>10*fn.b2_linearSlop?this.m_uA.Scale(1/f):this.m_uA.SetZero(),p>10*fn.b2_linearSlop?this.m_uB.Scale(1/p):this.m_uB.SetZero();const y=mt.b2Vec2.Cross(this.m_rA,this.m_uA),x=mt.b2Vec2.Cross(this.m_rB,this.m_uB),_=this.m_invMassA+this.m_invIA*y*y,b=this.m_invMassB+this.m_invIB*x*x;if(this.m_mass=_+this.m_ratio*this.m_ratio*b,this.m_mass>0&&(this.m_mass=1/this.m_mass),t.step.warmStarting){this.m_impulse*=t.step.dtRatio;const{PA:g,PB:A}=Qs;mt.b2Vec2.Scale(-this.m_impulse,this.m_uA,g),mt.b2Vec2.Scale(-this.m_ratio*this.m_impulse,this.m_uB,A),n.AddScaled(this.m_invMassA,g),r+=this.m_invIA*mt.b2Vec2.Cross(this.m_rA,g),c.AddScaled(this.m_invMassB,A),h+=this.m_invIB*mt.b2Vec2.Cross(this.m_rB,A)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=h}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const{PA:o,PB:a,vpA:c,vpB:h}=Qs;mt.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,c),mt.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,h);const l=-mt.b2Vec2.Dot(this.m_uA,c)-this.m_ratio*mt.b2Vec2.Dot(this.m_uB,h),u=-this.m_mass*l;this.m_impulse+=u,mt.b2Vec2.Scale(-u,this.m_uA,o),mt.b2Vec2.Scale(-this.m_ratio*u,this.m_uB,a),e.AddScaled(this.m_invMassA,o),s+=this.m_invIA*mt.b2Vec2.Cross(this.m_rA,o),n.AddScaled(this.m_invMassB,a),r+=this.m_invIB*mt.b2Vec2.Cross(this.m_rB,a),t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const{qA:o,qB:a,lalcA:c,lalcB:h,PA:l,PB:u}=Qs;o.Set(s),a.Set(r);const m=mt.b2Rot.MultiplyVec2(o,mt.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),this.m_rA),d=mt.b2Rot.MultiplyVec2(a,mt.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),this.m_rB),f=mt.b2Vec2.Add(e,m,this.m_uA).Subtract(this.m_groundAnchorA),p=mt.b2Vec2.Add(n,d,this.m_uB).Subtract(this.m_groundAnchorB),y=f.Length(),x=p.Length();y>10*fn.b2_linearSlop?f.Scale(1/y):f.SetZero(),x>10*fn.b2_linearSlop?p.Scale(1/x):p.SetZero();const _=mt.b2Vec2.Cross(m,f),b=mt.b2Vec2.Cross(d,p),g=this.m_invMassA+this.m_invIA*_*_,A=this.m_invMassB+this.m_invIB*b*b;let B=g+this.m_ratio*this.m_ratio*A;B>0&&(B=1/B);const w=this.m_constant-y-this.m_ratio*x,P=Math.abs(w),V=-B*w;return mt.b2Vec2.Scale(-V,f,l),mt.b2Vec2.Scale(-this.m_ratio*V,p,u),e.AddScaled(this.m_invMassA,l),s+=this.m_invIA*mt.b2Vec2.Cross(m,l),n.AddScaled(this.m_invMassB,u),r+=this.m_invIB*mt.b2Vec2.Cross(d,u),t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,P<fn.b2_linearSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return e.x=t*this.m_impulse*this.m_uB.x,e.y=t*this.m_impulse*this.m_uB.y,e}GetReactionTorque(t){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){const t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,Qs.p),e=this.m_groundAnchorA;return mt.b2Vec2.Distance(t,e)}GetCurrentLengthB(){const t=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,Qs.p),e=this.m_groundAnchorB;return mt.b2Vec2.Distance(t,e)}ShiftOrigin(t){this.m_groundAnchorA.Subtract(t),this.m_groundAnchorB.Subtract(t)}Draw(t){const e=this.GetAnchorA(Qs.pA),s=this.GetAnchorB(Qs.pB),n=this.GetGroundAnchorA(),r=this.GetGroundAnchorB();t.DrawSegment(n,e,ia.debugColors.joint6),t.DrawSegment(r,s,ia.debugColors.joint6),t.DrawSegment(n,r,ia.debugColors.joint6)}}Js.b2PulleyJoint=T5;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.b2RevoluteJoint=Di.b2RevoluteJointDef=void 0;const $s=Xt,js=Oe,At=Nt,Ha=ie,fi={qA:new At.b2Rot,qB:new At.b2Rot,lalcA:new At.b2Vec2,lalcB:new At.b2Vec2,P:new At.b2Vec2,Cdot:new At.b2Vec2,C:new At.b2Vec2,impulse:new At.b2Vec2,p2:new At.b2Vec2,r:new At.b2Vec2,pA:new At.b2Vec2,pB:new At.b2Vec2,rlo:new At.b2Vec2,rhi:new At.b2Vec2};class k5 extends Ha.b2JointDef{constructor(){super(Ha.b2JointType.e_revoluteJoint),this.localAnchorA=new At.b2Vec2,this.localAnchorB=new At.b2Vec2,this.referenceAngle=0,this.enableLimit=!1,this.lowerAngle=0,this.upperAngle=0,this.enableMotor=!1,this.motorSpeed=0,this.maxMotorTorque=0}Initialize(t,e,s){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}Di.b2RevoluteJointDef=k5;class E5 extends Ha.b2Joint{constructor(t){var e,s,n,r,o,a,c,h,l;super(t),this.m_localAnchorA=new At.b2Vec2,this.m_localAnchorB=new At.b2Vec2,this.m_impulse=new At.b2Vec2,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_enableMotor=!1,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_referenceAngle=0,this.m_lowerAngle=0,this.m_upperAngle=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new At.b2Vec2,this.m_rB=new At.b2Vec2,this.m_localCenterA=new At.b2Vec2,this.m_localCenterB=new At.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_K=new At.b2Mat22,this.m_angle=0,this.m_axialMass=0,this.m_localAnchorA.Copy((e=t.localAnchorA)!==null&&e!==void 0?e:At.b2Vec2.ZERO),this.m_localAnchorB.Copy((s=t.localAnchorB)!==null&&s!==void 0?s:At.b2Vec2.ZERO),this.m_referenceAngle=(n=t.referenceAngle)!==null&&n!==void 0?n:0,this.m_impulse.SetZero(),this.m_lowerAngle=(r=t.lowerAngle)!==null&&r!==void 0?r:0,this.m_upperAngle=(o=t.upperAngle)!==null&&o!==void 0?o:0,this.m_maxMotorTorque=(a=t.maxMotorTorque)!==null&&a!==void 0?a:0,this.m_motorSpeed=(c=t.motorSpeed)!==null&&c!==void 0?c:0,this.m_enableLimit=(h=t.enableLimit)!==null&&h!==void 0?h:!1,this.m_enableMotor=(l=t.enableMotor)!==null&&l!==void 0?l:!1}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].a,s=t.velocities[this.m_indexA].v;let n=t.velocities[this.m_indexA].w;const r=t.positions[this.m_indexB].a,o=t.velocities[this.m_indexB].v;let a=t.velocities[this.m_indexB].w;const{qA:c,qB:h,lalcA:l,lalcB:u}=fi;c.Set(e),h.Set(r),At.b2Rot.MultiplyVec2(c,At.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,l),this.m_rA),At.b2Rot.MultiplyVec2(h,At.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,u),this.m_rB);const m=this.m_invMassA,d=this.m_invMassB,f=this.m_invIA,p=this.m_invIB;this.m_K.ex.x=m+d+this.m_rA.y*this.m_rA.y*f+this.m_rB.y*this.m_rB.y*p,this.m_K.ey.x=-this.m_rA.y*this.m_rA.x*f-this.m_rB.y*this.m_rB.x*p,this.m_K.ex.y=this.m_K.ey.x,this.m_K.ey.y=m+d+this.m_rA.x*this.m_rA.x*f+this.m_rB.x*this.m_rB.x*p,this.m_axialMass=f+p;let y;if(this.m_axialMass>0?(this.m_axialMass=1/this.m_axialMass,y=!1):y=!0,this.m_angle=r-e-this.m_referenceAngle,(this.m_enableLimit===!1||y)&&(this.m_lowerImpulse=0,this.m_upperImpulse=0),(this.m_enableMotor===!1||y)&&(this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse.Scale(t.step.dtRatio),this.m_motorImpulse*=t.step.dtRatio,this.m_lowerImpulse*=t.step.dtRatio,this.m_upperImpulse*=t.step.dtRatio;const x=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,_=fi.P.Set(this.m_impulse.x,this.m_impulse.y);s.SubtractScaled(m,_),n-=f*(At.b2Vec2.Cross(this.m_rA,_)+x),o.AddScaled(d,_),a+=p*(At.b2Vec2.Cross(this.m_rB,_)+x)}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=a}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,h=this.m_invIB,l=c+h===0;if(this.m_enableMotor&&!l){const u=r-s-this.m_motorSpeed;let m=-this.m_axialMass*u;const d=this.m_motorImpulse,f=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=(0,At.b2Clamp)(this.m_motorImpulse+m,-f,f),m=this.m_motorImpulse-d,s-=c*m,r+=h*m}if(this.m_enableLimit&&!l){{const u=this.m_angle-this.m_lowerAngle,m=r-s;let d=-this.m_axialMass*(m+Math.max(u,0)*t.step.inv_dt);const f=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+d,0),d=this.m_lowerImpulse-f,s-=c*d,r+=h*d}{const u=this.m_upperAngle-this.m_angle,m=s-r;let d=-this.m_axialMass*(m+Math.max(u,0)*t.step.inv_dt);const f=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+d,0),d=this.m_upperImpulse-f,s+=c*d,r-=h*d}}{const{Cdot:u,impulse:m}=fi;At.b2Vec2.Subtract(At.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,At.b2Vec2.s_t0),At.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,At.b2Vec2.s_t1),u),this.m_K.Solve(-u.x,-u.y,m),this.m_impulse.x+=m.x,this.m_impulse.y+=m.y,e.SubtractScaled(o,m),s-=c*At.b2Vec2.Cross(this.m_rA,m),n.AddScaled(a,m),r+=h*At.b2Vec2.Cross(this.m_rB,m)}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const{qA:o,qB:a,lalcA:c,lalcB:h,impulse:l}=fi;o.Set(s),a.Set(r);let u=0,m=0;const d=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&!d){const f=r-s-this.m_referenceAngle;let p=0;Math.abs(this.m_upperAngle-this.m_lowerAngle)<2*$s.b2_angularSlop?p=(0,At.b2Clamp)(f-this.m_lowerAngle,-$s.b2_maxAngularCorrection,$s.b2_maxAngularCorrection):f<=this.m_lowerAngle?p=(0,At.b2Clamp)(f-this.m_lowerAngle+$s.b2_angularSlop,-$s.b2_maxAngularCorrection,0):f>=this.m_upperAngle&&(p=(0,At.b2Clamp)(f-this.m_upperAngle-$s.b2_angularSlop,0,$s.b2_maxAngularCorrection));const y=-this.m_axialMass*p;s-=this.m_invIA*y,r+=this.m_invIB*y,u=Math.abs(p)}{o.Set(s),a.Set(r);const f=At.b2Rot.MultiplyVec2(o,At.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),this.m_rA),p=At.b2Rot.MultiplyVec2(a,At.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),this.m_rB),y=At.b2Vec2.Add(n,p,fi.C).Subtract(e).Subtract(f);m=y.Length();const x=this.m_invMassA,_=this.m_invMassB,b=this.m_invIA,g=this.m_invIB,A=this.m_K;A.ex.x=x+_+b*f.y*f.y+g*p.y*p.y,A.ex.y=-b*f.x*f.y-g*p.x*p.y,A.ey.x=A.ex.y,A.ey.y=x+_+b*f.x*f.x+g*p.x*p.x,A.Solve(y.x,y.y,l).Negate(),e.SubtractScaled(x,l),s-=b*At.b2Vec2.Cross(f,l),n.AddScaled(_,l),r+=g*At.b2Vec2.Cross(p,l)}return t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,m<=$s.b2_linearSlop&&u<=$s.b2_angularSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}GetReactionTorque(t){return t*(this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse)}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(t){return t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t),t}GetMotorTorque(t){return t*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(t){return t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_lowerImpulse=0,this.m_upperImpulse=0),t}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(t,e){(t!==this.m_lowerAngle||e!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerAngle=t,this.m_upperAngle=e)}SetMotorSpeed(t){return t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t),t}Draw(t){const{p2:e,r:s,pA:n,pB:r}=fi,o=this.m_bodyA.GetTransform(),a=this.m_bodyB.GetTransform();At.b2Transform.MultiplyVec2(o,this.m_localAnchorA,n),At.b2Transform.MultiplyVec2(a,this.m_localAnchorB,r),t.DrawPoint(n,5,js.debugColors.joint4),t.DrawPoint(r,5,js.debugColors.joint5);const c=this.m_bodyA.GetAngle(),l=this.m_bodyB.GetAngle()-c-this.m_referenceAngle,u=.5;if(s.Set(Math.cos(l),Math.sin(l)).Scale(u),t.DrawSegment(r,At.b2Vec2.Add(r,s,e),js.debugColors.joint1),t.DrawCircle(r,u,js.debugColors.joint1),this.m_enableLimit){const{rlo:m,rhi:d}=fi;m.Set(Math.cos(this.m_lowerAngle),Math.sin(this.m_lowerAngle)).Scale(u),d.Set(Math.cos(this.m_upperAngle),Math.sin(this.m_upperAngle)).Scale(u),t.DrawSegment(r,At.b2Vec2.Add(r,m,e),js.debugColors.joint2),t.DrawSegment(r,At.b2Vec2.Add(r,d,e),js.debugColors.joint3)}t.DrawSegment(o.p,n,js.debugColors.joint6),t.DrawSegment(n,r,js.debugColors.joint6),t.DrawSegment(a.p,r,js.debugColors.joint6)}}Di.b2RevoluteJoint=E5;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.b2WeldJoint=Li.b2WeldJointDef=void 0;const zh=Xt,_t=Nt,Ua=ie,Ni={qA:new _t.b2Rot,qB:new _t.b2Rot,rA:new _t.b2Vec2,rB:new _t.b2Vec2,lalcA:new _t.b2Vec2,lalcB:new _t.b2Vec2,K:new _t.b2Mat33,P:new _t.b2Vec2,Cdot1:new _t.b2Vec3,impulse1:new _t.b2Vec2,impulse:new _t.b2Vec3,C1:new _t.b2Vec2,C:new _t.b2Vec3};class D5 extends Ua.b2JointDef{constructor(){super(Ua.b2JointType.e_weldJoint),this.localAnchorA=new _t.b2Vec2,this.localAnchorB=new _t.b2Vec2,this.referenceAngle=0,this.stiffness=0,this.damping=0}Initialize(t,e,s){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}Li.b2WeldJointDef=D5;class L5 extends Ua.b2Joint{constructor(t){var e,s,n,r,o;super(t),this.m_stiffness=0,this.m_damping=0,this.m_bias=0,this.m_localAnchorA=new _t.b2Vec2,this.m_localAnchorB=new _t.b2Vec2,this.m_referenceAngle=0,this.m_gamma=0,this.m_impulse=new _t.b2Vec3,this.m_indexA=0,this.m_indexB=0,this.m_rA=new _t.b2Vec2,this.m_rB=new _t.b2Vec2,this.m_localCenterA=new _t.b2Vec2,this.m_localCenterB=new _t.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new _t.b2Mat33,this.m_localAnchorA.Copy((e=t.localAnchorA)!==null&&e!==void 0?e:_t.b2Vec2.ZERO),this.m_localAnchorB.Copy((s=t.localAnchorB)!==null&&s!==void 0?s:_t.b2Vec2.ZERO),this.m_referenceAngle=(n=t.referenceAngle)!==null&&n!==void 0?n:0,this.m_stiffness=(r=t.stiffness)!==null&&r!==void 0?r:0,this.m_damping=(o=t.damping)!==null&&o!==void 0?o:0}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=t.positions[this.m_indexA].a,s=t.velocities[this.m_indexA].v;let n=t.velocities[this.m_indexA].w;const r=t.positions[this.m_indexB].a,o=t.velocities[this.m_indexB].v;let a=t.velocities[this.m_indexB].w;const{qA:c,qB:h,lalcA:l,lalcB:u,K:m}=Ni;c.Set(e),h.Set(r),_t.b2Rot.MultiplyVec2(c,_t.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,l),this.m_rA),_t.b2Rot.MultiplyVec2(h,_t.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,u),this.m_rB);const d=this.m_invMassA,f=this.m_invMassB,p=this.m_invIA,y=this.m_invIB;if(m.ex.x=d+f+this.m_rA.y*this.m_rA.y*p+this.m_rB.y*this.m_rB.y*y,m.ey.x=-this.m_rA.y*this.m_rA.x*p-this.m_rB.y*this.m_rB.x*y,m.ez.x=-this.m_rA.y*p-this.m_rB.y*y,m.ex.y=m.ey.x,m.ey.y=d+f+this.m_rA.x*this.m_rA.x*p+this.m_rB.x*this.m_rB.x*y,m.ez.y=this.m_rA.x*p+this.m_rB.x*y,m.ex.z=m.ez.x,m.ey.z=m.ez.y,m.ez.z=p+y,this.m_stiffness>0){m.GetInverse22(this.m_mass);let x=p+y;const _=r-e-this.m_referenceAngle,b=this.m_damping,g=this.m_stiffness,A=t.step.dt;this.m_gamma=A*(b+A*g),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=_*A*g*this.m_gamma,x+=this.m_gamma,this.m_mass.ez.z=x!==0?1/x:0}else m.ez.z===0?(m.GetInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(m.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(t.step.warmStarting){this.m_impulse.Scale(t.step.dtRatio);const{P:x}=Ni;x.Copy(this.m_impulse),s.SubtractScaled(d,x),n-=p*(_t.b2Vec2.Cross(this.m_rA,x)+this.m_impulse.z),o.AddScaled(f,x),a+=y*(_t.b2Vec2.Cross(this.m_rB,x)+this.m_impulse.z)}else this.m_impulse.SetZero();t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=a}SolveVelocityConstraints(t){const e=t.velocities[this.m_indexA].v;let s=t.velocities[this.m_indexA].w;const n=t.velocities[this.m_indexB].v;let r=t.velocities[this.m_indexB].w;const o=this.m_invMassA,a=this.m_invMassB,c=this.m_invIA,h=this.m_invIB;if(this.m_stiffness>0){const l=r-s,u=-this.m_mass.ez.z*(l+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=u,s-=c*u,r+=h*u;const{Cdot1:m,impulse1:d}=Ni;_t.b2Vec2.Subtract(_t.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,_t.b2Vec2.s_t0),_t.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,_t.b2Vec2.s_t1),m),_t.b2Mat33.MultiplyVec2(this.m_mass,m,d).Negate(),this.m_impulse.x+=d.x,this.m_impulse.y+=d.y;const f=d;e.SubtractScaled(o,f),s-=c*_t.b2Vec2.Cross(this.m_rA,f),n.AddScaled(a,f),r+=h*_t.b2Vec2.Cross(this.m_rB,f)}else{const{Cdot1:l,impulse:u,P:m}=Ni;_t.b2Vec2.Subtract(_t.b2Vec2.AddCrossScalarVec2(n,r,this.m_rB,_t.b2Vec2.s_t0),_t.b2Vec2.AddCrossScalarVec2(e,s,this.m_rA,_t.b2Vec2.s_t1),l),l.z=r-s,_t.b2Mat33.MultiplyVec3(this.m_mass,l,u).Negate(),this.m_impulse.Add(u),m.Set(u.x,u.y),e.SubtractScaled(o,m),s-=c*(_t.b2Vec2.Cross(this.m_rA,m)+u.z),n.AddScaled(a,m),r+=h*(_t.b2Vec2.Cross(this.m_rB,m)+u.z)}t.velocities[this.m_indexA].w=s,t.velocities[this.m_indexB].w=r}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a;const{qA:o,qB:a,lalcA:c,lalcB:h,K:l,C1:u,P:m,rA:d,rB:f}=Ni;o.Set(s),a.Set(r);const p=this.m_invMassA,y=this.m_invMassB,x=this.m_invIA,_=this.m_invIB;_t.b2Rot.MultiplyVec2(o,_t.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,c),d),_t.b2Rot.MultiplyVec2(a,_t.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,h),f);let b,g;if(l.ex.x=p+y+d.y*d.y*x+f.y*f.y*_,l.ey.x=-d.y*d.x*x-f.y*f.x*_,l.ez.x=-d.y*x-f.y*_,l.ex.y=l.ey.x,l.ey.y=p+y+d.x*d.x*x+f.x*f.x*_,l.ez.y=d.x*x+f.x*_,l.ex.z=l.ez.x,l.ey.z=l.ez.y,l.ez.z=x+_,this.m_stiffness>0)_t.b2Vec2.Add(n,f,u).Subtract(e).Subtract(d),b=u.Length(),g=0,l.Solve22(u.x,u.y,m).Negate(),e.SubtractScaled(p,m),s-=x*_t.b2Vec2.Cross(d,m),n.AddScaled(y,m),r+=_*_t.b2Vec2.Cross(f,m);else{_t.b2Vec2.Add(n,f,u).Subtract(e).Subtract(d),_t.b2Vec2.Subtract(_t.b2Vec2.Add(n,f,_t.b2Vec2.s_t0),_t.b2Vec2.Add(e,d,_t.b2Vec2.s_t1),u);const A=r-s-this.m_referenceAngle;b=u.Length(),g=Math.abs(A);const{impulse:B,C:w}=Ni;w.Set(u.x,u.y,A),l.ez.z>0?l.Solve33(w.x,w.y,w.z,B).Negate():(l.Solve22(u.x,u.y,B).Negate(),B.z=0),m.Copy(B),e.SubtractScaled(p,m),s-=x*(_t.b2Vec2.Cross(d,m)+B.z),n.AddScaled(y,m),r+=_*(_t.b2Vec2.Cross(f,m)+B.z)}return t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,b<=zh.b2_linearSlop&&g<=zh.b2_angularSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}GetReactionTorque(t){return t*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}}Li.b2WeldJoint=L5;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.b2WheelJoint=Gi.b2WheelJointDef=void 0;const Oh=Xt,H=Nt,Wa=ie,pi=Oe,ti={qA:new H.b2Rot,qB:new H.b2Rot,lalcA:new H.b2Vec2,lalcB:new H.b2Vec2,rA:new H.b2Vec2,rB:new H.b2Vec2,d:new H.b2Vec2,P:new H.b2Vec2,ay:new H.b2Vec2,pA:new H.b2Vec2,pB:new H.b2Vec2,axis:new H.b2Vec2,Draw:{p1:new H.b2Vec2,p2:new H.b2Vec2,pA:new H.b2Vec2,pB:new H.b2Vec2,axis:new H.b2Vec2,lower:new H.b2Vec2,upper:new H.b2Vec2,perp:new H.b2Vec2}};class G5 extends Wa.b2JointDef{constructor(){super(Wa.b2JointType.e_wheelJoint),this.localAnchorA=new H.b2Vec2,this.localAnchorB=new H.b2Vec2,this.localAxisA=new H.b2Vec2(1,0),this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorTorque=0,this.motorSpeed=0,this.stiffness=0,this.damping=0}Initialize(t,e,s,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(s,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA)}}Gi.b2WheelJointDef=G5;class R5 extends Wa.b2Joint{constructor(t){var e,s,n,r,o,a,c,h,l,u,m;super(t),this.m_localAnchorA=new H.b2Vec2,this.m_localAnchorB=new H.b2Vec2,this.m_localXAxisA=new H.b2Vec2,this.m_localYAxisA=new H.b2Vec2,this.m_impulse=0,this.m_motorImpulse=0,this.m_springImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_translation=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_stiffness=0,this.m_damping=0,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new H.b2Vec2,this.m_localCenterB=new H.b2Vec2,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_ax=new H.b2Vec2,this.m_ay=new H.b2Vec2,this.m_sAx=0,this.m_sBx=0,this.m_sAy=0,this.m_sBy=0,this.m_mass=0,this.m_motorMass=0,this.m_axialMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_localAnchorA.Copy((e=t.localAnchorA)!==null&&e!==void 0?e:H.b2Vec2.ZERO),this.m_localAnchorB.Copy((s=t.localAnchorB)!==null&&s!==void 0?s:H.b2Vec2.ZERO),this.m_localXAxisA.Copy((n=t.localAxisA)!==null&&n!==void 0?n:H.b2Vec2.UNITX),H.b2Vec2.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_lowerTranslation=(r=t.lowerTranslation)!==null&&r!==void 0?r:0,this.m_upperTranslation=(o=t.upperTranslation)!==null&&o!==void 0?o:0,this.m_enableLimit=(a=t.enableLimit)!==null&&a!==void 0?a:!1,this.m_maxMotorTorque=(c=t.maxMotorTorque)!==null&&c!==void 0?c:0,this.m_motorSpeed=(h=t.motorSpeed)!==null&&h!==void 0?h:0,this.m_enableMotor=(l=t.enableMotor)!==null&&l!==void 0?l:!1,this.m_ax.SetZero(),this.m_ay.SetZero(),this.m_stiffness=(u=t.stiffness)!==null&&u!==void 0?u:0,this.m_damping=(m=t.damping)!==null&&m!==void 0?m:0}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetStiffness(t){this.m_stiffness=t}GetStiffness(){return this.m_stiffness}SetDamping(t){this.m_damping=t}GetDamping(){return this.m_damping}InitVelocityConstraints(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;const e=this.m_invMassA,s=this.m_invMassB,n=this.m_invIA,r=this.m_invIB,o=t.positions[this.m_indexA].c,a=t.positions[this.m_indexA].a,c=t.velocities[this.m_indexA].v;let h=t.velocities[this.m_indexA].w;const l=t.positions[this.m_indexB].c,u=t.positions[this.m_indexB].a,m=t.velocities[this.m_indexB].v;let d=t.velocities[this.m_indexB].w;const{qA:f,qB:p,lalcA:y,lalcB:x,rA:_,rB:b,d:g}=ti;f.Set(a),p.Set(u),H.b2Rot.MultiplyVec2(f,H.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,y),_),H.b2Rot.MultiplyVec2(p,H.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,x),b),H.b2Vec2.Add(l,b,g).Subtract(o).Subtract(_),H.b2Rot.MultiplyVec2(f,this.m_localYAxisA,this.m_ay),this.m_sAy=H.b2Vec2.Cross(H.b2Vec2.Add(g,_,H.b2Vec2.s_t0),this.m_ay),this.m_sBy=H.b2Vec2.Cross(b,this.m_ay),this.m_mass=e+s+n*this.m_sAy*this.m_sAy+r*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),H.b2Rot.MultiplyVec2(f,this.m_localXAxisA,this.m_ax),this.m_sAx=H.b2Vec2.Cross(H.b2Vec2.Add(g,_,H.b2Vec2.s_t0),this.m_ax),this.m_sBx=H.b2Vec2.Cross(b,this.m_ax);const A=e+s+n*this.m_sAx*this.m_sAx+r*this.m_sBx*this.m_sBx;if(A>0?this.m_axialMass=1/A:this.m_axialMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_stiffness>0&&A>0){this.m_springMass=1/A;const B=H.b2Vec2.Dot(g,this.m_ax),w=t.step.dt;this.m_gamma=w*(this.m_damping+w*this.m_stiffness),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=B*w*this.m_stiffness*this.m_gamma,this.m_springMass=A+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}else this.m_springImpulse=0;if(this.m_enableLimit?this.m_translation=H.b2Vec2.Dot(this.m_ax,g):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor?(this.m_motorMass=n+r,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_springImpulse*=t.step.dtRatio,this.m_motorImpulse*=t.step.dtRatio;const B=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:w}=ti;H.b2Vec2.Scale(this.m_impulse,this.m_ay,w).AddScaled(B,this.m_ax);const P=this.m_impulse*this.m_sAy+B*this.m_sAx+this.m_motorImpulse,V=this.m_impulse*this.m_sBy+B*this.m_sBx+this.m_motorImpulse;c.SubtractScaled(this.m_invMassA,w),h-=this.m_invIA*P,m.AddScaled(this.m_invMassB,w),d+=this.m_invIB*V}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;t.velocities[this.m_indexA].w=h,t.velocities[this.m_indexB].w=d}SolveVelocityConstraints(t){const e=this.m_invMassA,s=this.m_invMassB,n=this.m_invIA,r=this.m_invIB,o=t.velocities[this.m_indexA].v;let a=t.velocities[this.m_indexA].w;const c=t.velocities[this.m_indexB].v;let h=t.velocities[this.m_indexB].w;const{P:l}=ti;{const u=H.b2Vec2.Dot(this.m_ax,H.b2Vec2.Subtract(c,o,H.b2Vec2.s_t0))+this.m_sBx*h-this.m_sAx*a,m=-this.m_springMass*(u+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=m,H.b2Vec2.Scale(m,this.m_ax,l);const d=m*this.m_sAx,f=m*this.m_sBx;o.SubtractScaled(e,l),a-=n*d,c.AddScaled(s,l),h+=r*f}{const u=h-a-this.m_motorSpeed;let m=-this.m_motorMass*u;const d=this.m_motorImpulse,f=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=(0,H.b2Clamp)(this.m_motorImpulse+m,-f,f),m=this.m_motorImpulse-d,a-=n*m,h+=r*m}if(this.m_enableLimit){{const u=this.m_translation-this.m_lowerTranslation,m=H.b2Vec2.Dot(this.m_ax,H.b2Vec2.Subtract(c,o,H.b2Vec2.s_t0))+this.m_sBx*h-this.m_sAx*a;let d=-this.m_axialMass*(m+Math.max(u,0)*t.step.inv_dt);const f=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+d,0),d=this.m_lowerImpulse-f,H.b2Vec2.Scale(d,this.m_ax,l);const p=d*this.m_sAx,y=d*this.m_sBx;o.SubtractScaled(e,l),a-=n*p,c.AddScaled(s,l),h+=r*y}{const u=this.m_upperTranslation-this.m_translation,m=H.b2Vec2.Dot(this.m_ax,H.b2Vec2.Subtract(o,c,H.b2Vec2.s_t0))+this.m_sAx*a-this.m_sBx*h;let d=-this.m_axialMass*(m+Math.max(u,0)*t.step.inv_dt);const f=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+d,0),d=this.m_upperImpulse-f,H.b2Vec2.Scale(d,this.m_ax,l);const p=d*this.m_sAx,y=d*this.m_sBx;o.AddScaled(e,l),a+=n*p,c.SubtractScaled(s,l),h-=r*y}}{const u=H.b2Vec2.Dot(this.m_ay,H.b2Vec2.Subtract(c,o,H.b2Vec2.s_t0))+this.m_sBy*h-this.m_sAy*a,m=-this.m_mass*u;this.m_impulse+=m,H.b2Vec2.Scale(m,this.m_ay,l);const d=m*this.m_sAy,f=m*this.m_sBy;o.SubtractScaled(e,l),a-=n*d,c.AddScaled(s,l),h+=r*f}t.velocities[this.m_indexA].w=a,t.velocities[this.m_indexB].w=h}SolvePositionConstraints(t){const e=t.positions[this.m_indexA].c;let s=t.positions[this.m_indexA].a;const n=t.positions[this.m_indexB].c;let r=t.positions[this.m_indexB].a,o=0;const{qA:a,qB:c,lalcA:h,lalcB:l,rA:u,rB:m,d,P:f,ay:p}=ti;if(this.m_enableLimit){a.Set(s),c.Set(r),H.b2Rot.MultiplyVec2(a,H.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,h),u),H.b2Rot.MultiplyVec2(c,H.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,l),m),H.b2Vec2.Subtract(n,e,d).Add(m).Subtract(u);const y=H.b2Rot.MultiplyVec2(a,this.m_localXAxisA,this.m_ax),x=H.b2Vec2.Cross(H.b2Vec2.Add(d,u,H.b2Vec2.s_t0),this.m_ax),_=H.b2Vec2.Cross(m,this.m_ax);let b=0;const g=H.b2Vec2.Dot(y,d);if(Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*Oh.b2_linearSlop?b=g:g<=this.m_lowerTranslation?b=Math.min(g-this.m_lowerTranslation,0):g>=this.m_upperTranslation&&(b=Math.max(g-this.m_upperTranslation,0)),b!==0){const A=this.m_invMassA+this.m_invMassB+this.m_invIA*x*x+this.m_invIB*_*_;let B=0;A!==0&&(B=-b/A),H.b2Vec2.Scale(B,y,f);const w=B*x,P=B*_;e.SubtractScaled(this.m_invMassA,f),s-=this.m_invIA*w,n.AddScaled(this.m_invMassB,f),r+=this.m_invIB*P,o=Math.abs(b)}}{a.Set(s),c.Set(r),H.b2Rot.MultiplyVec2(a,H.b2Vec2.Subtract(this.m_localAnchorA,this.m_localCenterA,h),u),H.b2Rot.MultiplyVec2(c,H.b2Vec2.Subtract(this.m_localAnchorB,this.m_localCenterB,l),m),H.b2Vec2.Subtract(n,e,d).Add(m).Subtract(u),H.b2Rot.MultiplyVec2(a,this.m_localYAxisA,p);const y=H.b2Vec2.Cross(H.b2Vec2.Add(d,u,H.b2Vec2.s_t0),p),x=H.b2Vec2.Cross(m,p),_=H.b2Vec2.Dot(d,p),b=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy;let g=0;b!==0&&(g=-_/b),H.b2Vec2.Scale(g,p,f);const A=g*y,B=g*x;e.SubtractScaled(this.m_invMassA,f),s-=this.m_invIA*A,n.AddScaled(this.m_invMassB,f),r+=this.m_invIB*B,o=Math.max(o,Math.abs(_))}return t.positions[this.m_indexA].a=s,t.positions[this.m_indexB].a=r,o<=Oh.b2_linearSlop}GetAnchorA(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}GetAnchorB(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}GetReactionForce(t,e){const s=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse;return e.x=t*(this.m_impulse*this.m_ay.x+s*this.m_ax.x),e.y=t*(this.m_impulse*this.m_ay.y+s*this.m_ax.y),e}GetReactionTorque(t){return t*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){const t=this.m_bodyA,e=this.m_bodyB,{pA:s,pB:n,d:r,axis:o}=ti;return t.GetWorldPoint(this.m_localAnchorA,s),e.GetWorldPoint(this.m_localAnchorB,n),H.b2Vec2.Subtract(n,s,r),t.GetWorldVector(this.m_localXAxisA,o),H.b2Vec2.Dot(r,o)}GetJointLinearSpeed(){const t=this.m_bodyA,e=this.m_bodyB,{rA:s,rB:n,lalcA:r,lalcB:o,axis:a}=ti;H.b2Rot.MultiplyVec2(t.m_xf.q,H.b2Vec2.Subtract(this.m_localAnchorA,t.m_sweep.localCenter,r),s),H.b2Rot.MultiplyVec2(e.m_xf.q,H.b2Vec2.Subtract(this.m_localAnchorB,e.m_sweep.localCenter,o),n);const c=H.b2Vec2.Add(t.m_sweep.c,s,H.b2Vec2.s_t0),h=H.b2Vec2.Add(e.m_sweep.c,n,H.b2Vec2.s_t1),l=H.b2Vec2.Subtract(h,c,H.b2Vec2.s_t2);H.b2Rot.MultiplyVec2(t.m_xf.q,this.m_localXAxisA,a);const u=t.m_linearVelocity,m=e.m_linearVelocity,d=t.m_angularVelocity,f=e.m_angularVelocity;return H.b2Vec2.Dot(l,H.b2Vec2.CrossScalarVec2(d,a,H.b2Vec2.s_t0))+H.b2Vec2.Dot(a,H.b2Vec2.AddCrossScalarVec2(m,f,n,H.b2Vec2.s_t0).Subtract(u).Subtract(H.b2Vec2.CrossScalarVec2(d,s,H.b2Vec2.s_t1)))}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetJointAngularSpeed(){const t=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-t}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(t){return t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t),t}SetMotorSpeed(t){return t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t),t}SetMaxMotorTorque(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}GetMotorTorque(t){return t*this.m_motorImpulse}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(t){return t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_lowerImpulse=0,this.m_upperImpulse=0),t}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(t,e){(t!==this.m_lowerTranslation||e!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_lowerImpulse=0,this.m_upperImpulse=0)}Draw(t){const{p1:e,p2:s,pA:n,pB:r,axis:o}=ti.Draw,a=this.m_bodyA.GetTransform(),c=this.m_bodyB.GetTransform();if(H.b2Transform.MultiplyVec2(a,this.m_localAnchorA,n),H.b2Transform.MultiplyVec2(c,this.m_localAnchorB,r),H.b2Rot.MultiplyVec2(a.q,this.m_localXAxisA,o),t.DrawSegment(n,r,pi.debugColors.joint5),this.m_enableLimit){const{lower:h,upper:l,perp:u}=ti.Draw;H.b2Vec2.AddScaled(n,this.m_lowerTranslation,o,h),H.b2Vec2.AddScaled(n,this.m_upperTranslation,o,l),H.b2Rot.MultiplyVec2(a.q,this.m_localYAxisA,u),t.DrawSegment(h,l,pi.debugColors.joint1),t.DrawSegment(H.b2Vec2.SubtractScaled(h,.5,u,e),H.b2Vec2.AddScaled(h,.5,u,s),pi.debugColors.joint2),t.DrawSegment(H.b2Vec2.SubtractScaled(l,.5,u,e),H.b2Vec2.AddScaled(l,.5,u,s),pi.debugColors.joint3)}else t.DrawSegment(H.b2Vec2.Subtract(n,o,e),H.b2Vec2.Add(n,o,s),pi.debugColors.joint1);t.DrawPoint(n,5,pi.debugColors.joint1),t.DrawPoint(r,5,pi.debugColors.joint4)}}Gi.b2WheelJoint=R5;var tr={},er={},io={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.b2Contact=Ce.b2ContactEdge=Ce.b2MixRestitutionThreshold=Ce.b2MixRestitution=Ce.b2MixFriction=void 0;const $h=Xt,na=Tt;function Ja(i,t){return Math.sqrt(i*t)}Ce.b2MixFriction=Ja;function Xa(i,t){return i>t?i:t}Ce.b2MixRestitution=Xa;function Ya(i,t){return i<t?i:t}Ce.b2MixRestitutionThreshold=Ya;class Za{get other(){return(0,$h.b2Assert)(this.m_other!==null),this.m_other}set other(t){(0,$h.b2Assert)(this.m_other===null),this.m_other=t}constructor(t){this.m_other=null,this.prev=null,this.next=null,this.contact=t}Reset(){this.m_other=null,this.prev=null,this.next=null}}Ce.b2ContactEdge=Za;class F5{constructor(){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_nodeA=new Za(this),this.m_nodeB=new Za(this),this.m_indexA=0,this.m_indexB=0,this.m_manifold=new na.b2Manifold,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_restitutionThreshold=0,this.m_tangentSpeed=0,this.m_oldManifold=new na.b2Manifold}GetManifold(){return this.m_manifold}GetWorldManifold(t){const e=this.m_fixtureA.GetBody(),s=this.m_fixtureB.GetBody(),n=this.GetShapeA(),r=this.GetShapeB();t.Initialize(this.m_manifold,e.GetTransform(),n.m_radius,s.GetTransform(),r.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(t){this.m_enabledFlag=t}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(t){this.m_friction=t}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=Ja(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(t){this.m_restitution=t}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=Xa(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetRestitutionThreshold(t){this.m_restitutionThreshold=t}GetRestitutionThreshold(){return this.m_restitutionThreshold}ResetRestitutionThreshold(){this.m_restitutionThreshold=Ya(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}SetTangentSpeed(t){this.m_tangentSpeed=t}GetTangentSpeed(){return this.m_tangentSpeed}Reset(t,e,s,n){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=t,this.m_fixtureB=s,this.m_indexA=e,this.m_indexB=n,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=Ja(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=Xa(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_restitutionThreshold=Ya(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}Update(t){const e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_enabledFlag=!0;let s=!1;const n=this.m_touchingFlag,r=this.m_fixtureA.IsSensor(),o=this.m_fixtureB.IsSensor(),a=r||o,c=this.m_fixtureA.GetBody(),h=this.m_fixtureB.GetBody(),l=c.GetTransform(),u=h.GetTransform();if(a){const m=this.GetShapeA(),d=this.GetShapeB();s=(0,na.b2TestOverlap)(m,this.m_indexA,d,this.m_indexB,l,u),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,l,u),s=this.m_manifold.pointCount>0;for(let m=0;m<this.m_manifold.pointCount;++m){const d=this.m_manifold.points[m];d.normalImpulse=0,d.tangentImpulse=0;const f=d.id;for(let p=0;p<this.m_oldManifold.pointCount;++p){const y=this.m_oldManifold.points[p];if(y.id.key===f.key){d.normalImpulse=y.normalImpulse,d.tangentImpulse=y.tangentImpulse;break}}}s!==n&&(c.SetAwake(!0),h.SetAwake(!0))}this.m_touchingFlag=s,!n&&s&&t&&t.BeginContact(this),n&&!s&&t&&t.EndContact(this),!a&&s&&t&&t.PreSolve(this,this.m_oldManifold)}}Ce.b2Contact=F5;Object.defineProperty(io,"__esModule",{value:!0});io.b2CircleContact=void 0;const z5=ai,O5=Ce;class $5 extends O5.b2Contact{Evaluate(t,e,s){(0,z5.b2CollideCircles)(t,this.GetShapeA(),e,this.GetShapeB(),s)}}io.b2CircleContact=$5;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.b2PolygonContact=void 0;const j5=Qn,N5=Ce;class q5 extends N5.b2Contact{Evaluate(t,e,s){(0,j5.b2CollidePolygons)(t,this.GetShapeA(),e,this.GetShapeB(),s)}}no.b2PolygonContact=q5;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.b2PolygonAndCircleContact=void 0;const H5=ai,U5=Ce;class W5 extends U5.b2Contact{Evaluate(t,e,s){(0,H5.b2CollidePolygonAndCircle)(t,this.GetShapeA(),e,this.GetShapeB(),s)}}ro.b2PolygonAndCircleContact=W5;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.b2EdgeAndCircleContact=void 0;const J5=Gs,X5=Ce;class Y5 extends X5.b2Contact{Evaluate(t,e,s){(0,J5.b2CollideEdgeAndCircle)(t,this.GetShapeA(),e,this.GetShapeB(),s)}}oo.b2EdgeAndCircleContact=Y5;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.b2EdgeAndPolygonContact=void 0;const Z5=Gs,K5=Ce;class Q5 extends K5.b2Contact{Evaluate(t,e,s){(0,Z5.b2CollideEdgeAndPolygon)(t,this.GetShapeA(),e,this.GetShapeB(),s)}}ao.b2EdgeAndPolygonContact=Q5;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.b2ChainAndCircleContact=void 0;const t6=Gs,e6=Fi,s6=Ce;class lo extends s6.b2Contact{Evaluate(t,e,s){const n=lo.Evaluate_s_edge;this.GetShapeA().GetChildEdge(n,this.m_indexA),(0,t6.b2CollideEdgeAndCircle)(t,n,e,this.GetShapeB(),s)}}co.b2ChainAndCircleContact=lo;lo.Evaluate_s_edge=new e6.b2EdgeShape;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.b2ChainAndPolygonContact=void 0;const i6=Gs,n6=Fi,r6=Ce;class uo extends r6.b2Contact{Evaluate(t,e,s){const n=uo.Evaluate_s_edge;this.GetShapeA().GetChildEdge(n,this.m_indexA),(0,i6.b2CollideEdgeAndPolygon)(t,n,e,this.GetShapeB(),s)}}ho.b2ChainAndPolygonContact=uo;uo.Evaluate_s_edge=new n6.b2EdgeShape;Object.defineProperty(er,"__esModule",{value:!0});er.b2ContactFactory=void 0;const Pe=ze,o6=io,a6=no,c6=ro,l6=oo,h6=ao,u6=co,m6=ho;class d6{constructor(){const t=new Array(Pe.b2ShapeType.e_typeCount);for(let e=0;e<Pe.b2ShapeType.e_typeCount;e++)t[e]=new Array(Pe.b2ShapeType.e_typeCount);this.m_registers=t,this.AddType(o6.b2CircleContact,Pe.b2ShapeType.e_circle,Pe.b2ShapeType.e_circle),this.AddType(c6.b2PolygonAndCircleContact,Pe.b2ShapeType.e_polygon,Pe.b2ShapeType.e_circle),this.AddType(a6.b2PolygonContact,Pe.b2ShapeType.e_polygon,Pe.b2ShapeType.e_polygon),this.AddType(l6.b2EdgeAndCircleContact,Pe.b2ShapeType.e_edge,Pe.b2ShapeType.e_circle),this.AddType(h6.b2EdgeAndPolygonContact,Pe.b2ShapeType.e_edge,Pe.b2ShapeType.e_polygon),this.AddType(u6.b2ChainAndCircleContact,Pe.b2ShapeType.e_chain,Pe.b2ShapeType.e_circle),this.AddType(m6.b2ChainAndPolygonContact,Pe.b2ShapeType.e_chain,Pe.b2ShapeType.e_polygon)}AddType(t,e,s){const n=[],r=o=>{n.push(o)};this.m_registers[e][s]={createFcn(o,a,c,h){var l;const u=(l=n.pop())!==null&&l!==void 0?l:new t;return u.Reset(o,a,c,h),u},destroyFcn:r},e!==s&&(this.m_registers[s][e]={createFcn(o,a,c,h){var l;const u=(l=n.pop())!==null&&l!==void 0?l:new t;return u.Reset(c,h,o,a),u},destroyFcn:r})}Create(t,e,s,n){const r=t.GetType(),o=s.GetType(),a=this.m_registers[r][o];return a?a.createFcn(t,e,s,n):null}Destroy(t){const e=t.m_fixtureA.GetType(),s=t.m_fixtureB.GetType(),n=this.m_registers[e][s];n==null||n.destroyFcn(t)}}er.b2ContactFactory=d6;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.b2ContactListener=cs.b2ContactImpulse=cs.b2ContactFilter=cs.b2DestructionListener=void 0;const wr=Xt;class _6{SayGoodbyeJoint(t){}SayGoodbyeFixture(t){}}cs.b2DestructionListener=_6;class Ka{ShouldCollide(t,e){const s=t.GetFilterData(),n=e.GetFilterData();return s.groupIndex===n.groupIndex&&s.groupIndex!==0?s.groupIndex>0:(s.maskBits&n.categoryBits)!==0&&(s.categoryBits&n.maskBits)!==0}}cs.b2ContactFilter=Ka;Ka.b2_defaultFilter=new Ka;class f6{constructor(){this.normalImpulses=(0,wr.b2MakeNumberArray)(wr.b2_maxManifoldPoints),this.tangentImpulses=(0,wr.b2MakeNumberArray)(wr.b2_maxManifoldPoints),this.count=0}}cs.b2ContactImpulse=f6;class Qa{BeginContact(t){}EndContact(t){}PreSolve(t,e){}PostSolve(t,e){}}cs.b2ContactListener=Qa;Qa.b2_defaultListener=new Qa;Object.defineProperty(tr,"__esModule",{value:!0});tr.b2ContactManager=void 0;const p6=Kn,b6=er,jh=Ls,Nh=cs;class y6{constructor(){this.m_broadPhase=new p6.b2BroadPhase,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=Nh.b2ContactFilter.b2_defaultFilter,this.m_contactListener=Nh.b2ContactListener.b2_defaultListener,this.m_contactFactory=new b6.b2ContactFactory,this.AddPair=(t,e)=>{let s=t.fixture,n=e.fixture,r=t.childIndex,o=e.childIndex,a=s.GetBody(),c=n.GetBody();if(a===c)return;let h=c.GetContactList();for(;h;){if(h.other===a){const u=h.contact.GetFixtureA(),m=h.contact.GetFixtureB(),d=h.contact.GetChildIndexA(),f=h.contact.GetChildIndexB();if(u===s&&m===n&&d===r&&f===o||u===n&&m===s&&d===o&&f===r)return}h=h.next}if(c.ShouldCollide(a)===!1||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(s,n))return;const l=this.m_contactFactory.Create(s,r,n,o);l!==null&&(s=l.GetFixtureA(),n=l.GetFixtureB(),r=l.GetChildIndexA(),o=l.GetChildIndexB(),a=s.m_body,c=n.m_body,l.m_prev=null,l.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=l),this.m_contactList=l,l.m_nodeA.other=c,l.m_nodeA.prev=null,l.m_nodeA.next=a.m_contactList,a.m_contactList!==null&&(a.m_contactList.prev=l.m_nodeA),a.m_contactList=l.m_nodeA,l.m_nodeB.other=a,l.m_nodeB.prev=null,l.m_nodeB.next=c.m_contactList,c.m_contactList!==null&&(c.m_contactList.prev=l.m_nodeB),c.m_contactList=l.m_nodeB,++this.m_contactCount)}}FindNewContacts(){this.m_broadPhase.UpdatePairs(this.AddPair)}Destroy(t){const e=t.GetFixtureA(),s=t.GetFixtureB(),n=e.GetBody(),r=s.GetBody();this.m_contactListener&&t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_contactList&&(this.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA===n.m_contactList&&(n.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB===r.m_contactList&&(r.m_contactList=t.m_nodeB.next),t.m_manifold.pointCount>0&&!e.IsSensor()&&!s.IsSensor()&&(e.GetBody().SetAwake(!0),s.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(t),--this.m_contactCount}Collide(){let t=this.m_contactList;for(;t;){const e=t.GetFixtureA(),s=t.GetFixtureB(),n=t.GetChildIndexA(),r=t.GetChildIndexB(),o=e.GetBody(),a=s.GetBody();if(t.m_filterFlag){if(!a.ShouldCollide(o)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(e,s)){const d=t;t=d.m_next,this.Destroy(d);continue}t.m_filterFlag=!1}const c=o.IsAwake()&&o.m_type!==jh.b2BodyType.b2_staticBody,h=a.IsAwake()&&a.m_type!==jh.b2BodyType.b2_staticBody;if(!c&&!h){t=t.m_next;continue}const l=e.m_proxies[n].treeNode,u=s.m_proxies[r].treeNode;if(!l.aabb.TestOverlap(u.aabb)){const d=t;t=d.m_next,this.Destroy(d);continue}t.Update(this.m_contactListener),t=t.m_next}}}tr.b2ContactManager=y6;var mo={},ts={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.b2SolverData=Re.b2Velocity=Re.b2Position=Re.b2TimeStep=Re.b2Profile=void 0;const Hu=Nt;class g6{constructor(){this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}Re.b2Profile=g6;class _o{constructor(){this.dt=0,this.inv_dt=0,this.dtRatio=0,this.config={velocityIterations:0,positionIterations:0},this.warmStarting=!1}static Create(){return new _o}Copy(t){return this.dt=t.dt,this.inv_dt=t.inv_dt,this.dtRatio=t.dtRatio,this.config={...t.config},this.warmStarting=t.warmStarting,this}}Re.b2TimeStep=_o;class x6{constructor(){this.c=new Hu.b2Vec2,this.a=0}}Re.b2Position=x6;class v6{constructor(){this.v=new Hu.b2Vec2,this.w=0}}Re.b2Velocity=v6;class A6{constructor(){this.step=_o.Create()}}Re.b2SolverData=A6;Object.defineProperty(ts,"__esModule",{value:!0});ts.b2ContactSolver=ts.b2ContactSolverDef=ts.b2ContactVelocityConstraint=ts.b2GetBlockSolve=ts.b2SetBlockSolve=void 0;const $e=Xt,F=Nt,Tn=Tt,Uu=Re;let zr=!0;function w6(i){zr=i}ts.b2SetBlockSolve=w6;function C6(){return zr}ts.b2GetBlockSolve=C6;class S6{constructor(){this.rA=new F.b2Vec2,this.rB=new F.b2Vec2,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}}class tc{constructor(){this.points=(0,$e.b2MakeArray)($e.b2_maxManifoldPoints,S6),this.normal=new F.b2Vec2,this.tangent=new F.b2Vec2,this.normalMass=new F.b2Mat22,this.K=new F.b2Mat22,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.threshold=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}}ts.b2ContactVelocityConstraint=tc;class qh{constructor(){this.localPoints=(0,$e.b2MakeArray)($e.b2_maxManifoldPoints,F.b2Vec2),this.localNormal=new F.b2Vec2,this.localPoint=new F.b2Vec2,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new F.b2Vec2,this.localCenterB=new F.b2Vec2,this.invIA=0,this.invIB=0,this.type=Tn.b2ManifoldType.e_circles,this.radiusA=0,this.radiusB=0,this.pointCount=0}}class B6{constructor(){this.step=Uu.b2TimeStep.Create(),this.count=0}}ts.b2ContactSolverDef=B6;class bs{constructor(){this.normal=new F.b2Vec2,this.point=new F.b2Vec2,this.separation=0}Initialize(t,e,s,n){const r=bs.Initialize_s_pointA,o=bs.Initialize_s_pointB,a=bs.Initialize_s_planePoint,c=bs.Initialize_s_clipPoint;switch(t.type){case Tn.b2ManifoldType.e_circles:F.b2Transform.MultiplyVec2(e,t.localPoint,r),F.b2Transform.MultiplyVec2(s,t.localPoints[0],o),F.b2Vec2.Subtract(o,r,this.normal).Normalize(),F.b2Vec2.Mid(r,o,this.point),this.separation=F.b2Vec2.Dot(F.b2Vec2.Subtract(o,r,F.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB;break;case Tn.b2ManifoldType.e_faceA:F.b2Rot.MultiplyVec2(e.q,t.localNormal,this.normal),F.b2Transform.MultiplyVec2(e,t.localPoint,a),F.b2Transform.MultiplyVec2(s,t.localPoints[n],c),this.separation=F.b2Vec2.Dot(F.b2Vec2.Subtract(c,a,F.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB,this.point.Copy(c);break;case Tn.b2ManifoldType.e_faceB:F.b2Rot.MultiplyVec2(s.q,t.localNormal,this.normal),F.b2Transform.MultiplyVec2(s,t.localPoint,a),F.b2Transform.MultiplyVec2(e,t.localPoints[n],c),this.separation=F.b2Vec2.Dot(F.b2Vec2.Subtract(c,a,F.b2Vec2.s_t0),this.normal)-t.radiusA-t.radiusB,this.point.Copy(c),this.normal.Negate();break}}}bs.Initialize_s_pointA=new F.b2Vec2;bs.Initialize_s_pointB=new F.b2Vec2;bs.Initialize_s_planePoint=new F.b2Vec2;bs.Initialize_s_clipPoint=new F.b2Vec2;class vt{constructor(){this.m_step=Uu.b2TimeStep.Create(),this.m_positionConstraints=(0,$e.b2MakeArray)(1024,qh),this.m_velocityConstraints=(0,$e.b2MakeArray)(1024,tc),this.m_count=0}Initialize(t){if(this.m_step.Copy(t.step),this.m_count=t.count,this.m_positionConstraints.length<this.m_count){const e=Math.max(this.m_positionConstraints.length*2,this.m_count);for(;this.m_positionConstraints.length<e;)this.m_positionConstraints[this.m_positionConstraints.length]=new qh}if(this.m_velocityConstraints.length<this.m_count){const e=Math.max(this.m_velocityConstraints.length*2,this.m_count);for(;this.m_velocityConstraints.length<e;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new tc}this.m_positions=t.positions,this.m_velocities=t.velocities,this.m_contacts=t.contacts;for(let e=0;e<this.m_count;++e){const s=this.m_contacts[e],n=s.m_fixtureA,r=s.m_fixtureB,o=n.GetShape(),a=r.GetShape(),c=o.m_radius,h=a.m_radius,l=n.GetBody(),u=r.GetBody(),m=s.GetManifold(),{pointCount:d}=m,f=this.m_velocityConstraints[e];f.friction=s.m_friction,f.restitution=s.m_restitution,f.threshold=s.m_restitutionThreshold,f.tangentSpeed=s.m_tangentSpeed,f.indexA=l.m_islandIndex,f.indexB=u.m_islandIndex,f.invMassA=l.m_invMass,f.invMassB=u.m_invMass,f.invIA=l.m_invI,f.invIB=u.m_invI,f.contactIndex=e,f.pointCount=d,f.K.SetZero(),f.normalMass.SetZero();const p=this.m_positionConstraints[e];p.indexA=l.m_islandIndex,p.indexB=u.m_islandIndex,p.invMassA=l.m_invMass,p.invMassB=u.m_invMass,p.localCenterA.Copy(l.m_sweep.localCenter),p.localCenterB.Copy(u.m_sweep.localCenter),p.invIA=l.m_invI,p.invIB=u.m_invI,p.localNormal.Copy(m.localNormal),p.localPoint.Copy(m.localPoint),p.pointCount=d,p.radiusA=c,p.radiusB=h,p.type=m.type;for(let y=0;y<d;++y){const x=m.points[y],_=f.points[y];this.m_step.warmStarting?(_.normalImpulse=this.m_step.dtRatio*x.normalImpulse,_.tangentImpulse=this.m_step.dtRatio*x.tangentImpulse):(_.normalImpulse=0,_.tangentImpulse=0),_.rA.SetZero(),_.rB.SetZero(),_.normalMass=0,_.tangentMass=0,_.velocityBias=0,p.localPoints[y].Copy(x.localPoint)}}return this}InitializeVelocityConstraints(){const t=vt.InitializeVelocityConstraints_s_xfA,e=vt.InitializeVelocityConstraints_s_xfB,s=vt.InitializeVelocityConstraints_s_worldManifold,n=1e3;for(let r=0;r<this.m_count;++r){const o=this.m_velocityConstraints[r],a=this.m_positionConstraints[r],{radiusA:c,radiusB:h,localCenterA:l,localCenterB:u}=a,m=this.m_contacts[o.contactIndex].GetManifold(),{indexA:d,indexB:f,tangent:p,pointCount:y}=o,x=o.invMassA,_=o.invMassB,b=o.invIA,g=o.invIB,A=this.m_positions[d].c,B=this.m_positions[d].a,w=this.m_velocities[d].v,P=this.m_velocities[d].w,V=this.m_positions[f].c,S=this.m_positions[f].a,D=this.m_velocities[f].v,L=this.m_velocities[f].w;t.q.Set(B),e.q.Set(S),F.b2Vec2.Subtract(A,F.b2Rot.MultiplyVec2(t.q,l,F.b2Vec2.s_t0),t.p),F.b2Vec2.Subtract(V,F.b2Rot.MultiplyVec2(e.q,u,F.b2Vec2.s_t0),e.p),s.Initialize(m,t,c,e,h),o.normal.Copy(s.normal),F.b2Vec2.CrossVec2One(o.normal,p);for(let k=0;k<y;++k){const E=o.points[k];F.b2Vec2.Subtract(s.points[k],A,E.rA),F.b2Vec2.Subtract(s.points[k],V,E.rB);const R=F.b2Vec2.Cross(E.rA,o.normal),z=F.b2Vec2.Cross(E.rB,o.normal),U=x+_+b*R*R+g*z*z;E.normalMass=U>0?1/U:0;const at=F.b2Vec2.Cross(E.rA,p),N=F.b2Vec2.Cross(E.rB,p),j=x+_+b*at*at+g*N*N;E.tangentMass=j>0?1/j:0,E.velocityBias=0;const G=F.b2Vec2.Dot(o.normal,F.b2Vec2.Subtract(F.b2Vec2.AddCrossScalarVec2(D,L,E.rB,F.b2Vec2.s_t0),F.b2Vec2.AddCrossScalarVec2(w,P,E.rA,F.b2Vec2.s_t1),F.b2Vec2.s_t0));G<-o.threshold&&(E.velocityBias=-o.restitution*G)}if(o.pointCount===2&&zr){const k=o.points[0],E=o.points[1],R=F.b2Vec2.Cross(k.rA,o.normal),z=F.b2Vec2.Cross(k.rB,o.normal),U=F.b2Vec2.Cross(E.rA,o.normal),at=F.b2Vec2.Cross(E.rB,o.normal),N=x+_+b*R*R+g*z*z,j=x+_+b*U*U+g*at*at,G=x+_+b*R*U+g*z*at;N*N<n*(N*j-G*G)?(o.K.ex.Set(N,G),o.K.ey.Set(G,j),o.K.GetInverse(o.normalMass)):o.pointCount=1}}}WarmStart(){const t=vt.WarmStart_s_P;for(let e=0;e<this.m_count;++e){const s=this.m_velocityConstraints[e],{indexA:n,indexB:r,pointCount:o,normal:a,tangent:c}=s,h=s.invMassA,l=s.invIA,u=s.invMassB,m=s.invIB,d=this.m_velocities[n].v;let f=this.m_velocities[n].w;const p=this.m_velocities[r].v;let y=this.m_velocities[r].w;for(let x=0;x<o;++x){const _=s.points[x];F.b2Vec2.Add(F.b2Vec2.Scale(_.normalImpulse,a,F.b2Vec2.s_t0),F.b2Vec2.Scale(_.tangentImpulse,c,F.b2Vec2.s_t1),t),f-=l*F.b2Vec2.Cross(_.rA,t),d.SubtractScaled(h,t),y+=m*F.b2Vec2.Cross(_.rB,t),p.AddScaled(u,t)}this.m_velocities[n].w=f,this.m_velocities[r].w=y}}SolveVelocityConstraints(){const t=vt.SolveVelocityConstraints_s_dv,e=vt.SolveVelocityConstraints_s_dv1,s=vt.SolveVelocityConstraints_s_dv2,n=vt.SolveVelocityConstraints_s_P,r=vt.SolveVelocityConstraints_s_a,o=vt.SolveVelocityConstraints_s_b,a=vt.SolveVelocityConstraints_s_x,c=vt.SolveVelocityConstraints_s_d,h=vt.SolveVelocityConstraints_s_P1,l=vt.SolveVelocityConstraints_s_P2,u=vt.SolveVelocityConstraints_s_P1P2;for(let m=0;m<this.m_count;++m){const d=this.m_velocityConstraints[m],{indexA:f,indexB:p,pointCount:y,normal:x,tangent:_,friction:b}=d,g=d.invMassA,A=d.invIA,B=d.invMassB,w=d.invIB,P=this.m_velocities[f].v;let V=this.m_velocities[f].w;const S=this.m_velocities[p].v;let D=this.m_velocities[p].w;for(let L=0;L<y;++L){const k=d.points[L];F.b2Vec2.Subtract(F.b2Vec2.AddCrossScalarVec2(S,D,k.rB,F.b2Vec2.s_t0),F.b2Vec2.AddCrossScalarVec2(P,V,k.rA,F.b2Vec2.s_t1),t);const E=F.b2Vec2.Dot(t,_)-d.tangentSpeed;let R=k.tangentMass*-E;const z=b*k.normalImpulse,U=(0,F.b2Clamp)(k.tangentImpulse+R,-z,z);R=U-k.tangentImpulse,k.tangentImpulse=U,F.b2Vec2.Scale(R,_,n),P.SubtractScaled(g,n),V-=A*F.b2Vec2.Cross(k.rA,n),S.AddScaled(B,n),D+=w*F.b2Vec2.Cross(k.rB,n)}if(d.pointCount===1||zr===!1)for(let L=0;L<y;++L){const k=d.points[L];F.b2Vec2.Subtract(F.b2Vec2.AddCrossScalarVec2(S,D,k.rB,F.b2Vec2.s_t0),F.b2Vec2.AddCrossScalarVec2(P,V,k.rA,F.b2Vec2.s_t1),t);const E=F.b2Vec2.Dot(t,x);let R=-k.normalMass*(E-k.velocityBias);const z=Math.max(k.normalImpulse+R,0);R=z-k.normalImpulse,k.normalImpulse=z,F.b2Vec2.Scale(R,x,n),P.SubtractScaled(g,n),V-=A*F.b2Vec2.Cross(k.rA,n),S.AddScaled(B,n),D+=w*F.b2Vec2.Cross(k.rB,n)}else{const L=d.points[0],k=d.points[1];r.Set(L.normalImpulse,k.normalImpulse),F.b2Vec2.Subtract(F.b2Vec2.AddCrossScalarVec2(S,D,L.rB,F.b2Vec2.s_t0),F.b2Vec2.AddCrossScalarVec2(P,V,L.rA,F.b2Vec2.s_t1),e),F.b2Vec2.Subtract(F.b2Vec2.AddCrossScalarVec2(S,D,k.rB,F.b2Vec2.s_t0),F.b2Vec2.AddCrossScalarVec2(P,V,k.rA,F.b2Vec2.s_t1),s);let E=F.b2Vec2.Dot(e,x),R=F.b2Vec2.Dot(s,x);for(o.x=E-L.velocityBias,o.y=R-k.velocityBias,o.Subtract(F.b2Mat22.MultiplyVec2(d.K,r,F.b2Vec2.s_t0));;){if(F.b2Mat22.MultiplyVec2(d.normalMass,o,a).Negate(),a.x>=0&&a.y>=0){F.b2Vec2.Subtract(a,r,c),F.b2Vec2.Scale(c.x,x,h),F.b2Vec2.Scale(c.y,x,l),F.b2Vec2.Add(h,l,u),P.SubtractScaled(g,u),V-=A*(F.b2Vec2.Cross(L.rA,h)+F.b2Vec2.Cross(k.rA,l)),S.AddScaled(B,u),D+=w*(F.b2Vec2.Cross(L.rB,h)+F.b2Vec2.Cross(k.rB,l)),L.normalImpulse=a.x,k.normalImpulse=a.y;break}if(a.x=-L.normalMass*o.x,a.y=0,E=0,R=d.K.ex.y*a.x+o.y,a.x>=0&&R>=0){F.b2Vec2.Subtract(a,r,c),F.b2Vec2.Scale(c.x,x,h),F.b2Vec2.Scale(c.y,x,l),F.b2Vec2.Add(h,l,u),P.SubtractScaled(g,u),V-=A*(F.b2Vec2.Cross(L.rA,h)+F.b2Vec2.Cross(k.rA,l)),S.AddScaled(B,u),D+=w*(F.b2Vec2.Cross(L.rB,h)+F.b2Vec2.Cross(k.rB,l)),L.normalImpulse=a.x,k.normalImpulse=a.y;break}if(a.x=0,a.y=-k.normalMass*o.y,E=d.K.ey.x*a.y+o.x,R=0,a.y>=0&&E>=0){F.b2Vec2.Subtract(a,r,c),F.b2Vec2.Scale(c.x,x,h),F.b2Vec2.Scale(c.y,x,l),F.b2Vec2.Add(h,l,u),P.SubtractScaled(g,u),V-=A*(F.b2Vec2.Cross(L.rA,h)+F.b2Vec2.Cross(k.rA,l)),S.AddScaled(B,u),D+=w*(F.b2Vec2.Cross(L.rB,h)+F.b2Vec2.Cross(k.rB,l)),L.normalImpulse=a.x,k.normalImpulse=a.y;break}if(a.x=0,a.y=0,E=o.x,R=o.y,E>=0&&R>=0){F.b2Vec2.Subtract(a,r,c),F.b2Vec2.Scale(c.x,x,h),F.b2Vec2.Scale(c.y,x,l),F.b2Vec2.Add(h,l,u),P.SubtractScaled(g,u),V-=A*(F.b2Vec2.Cross(L.rA,h)+F.b2Vec2.Cross(k.rA,l)),S.AddScaled(B,u),D+=w*(F.b2Vec2.Cross(L.rB,h)+F.b2Vec2.Cross(k.rB,l)),L.normalImpulse=a.x,k.normalImpulse=a.y;break}break}}this.m_velocities[f].w=V,this.m_velocities[p].w=D}}StoreImpulses(){for(let t=0;t<this.m_count;++t){const e=this.m_velocityConstraints[t],s=this.m_contacts[e.contactIndex].GetManifold();for(let n=0;n<e.pointCount;++n)s.points[n].normalImpulse=e.points[n].normalImpulse,s.points[n].tangentImpulse=e.points[n].tangentImpulse}}SolvePositionConstraints(){const t=vt.SolvePositionConstraints_s_xfA,e=vt.SolvePositionConstraints_s_xfB,s=vt.SolvePositionConstraints_s_psm,n=vt.SolvePositionConstraints_s_rA,r=vt.SolvePositionConstraints_s_rB,o=vt.SolvePositionConstraints_s_P;let a=0;for(let c=0;c<this.m_count;++c){const h=this.m_positionConstraints[c],{indexA:l,indexB:u,localCenterA:m,localCenterB:d,pointCount:f}=h,p=h.invMassA,y=h.invIA,x=h.invMassB,_=h.invIB,b=this.m_positions[l].c;let g=this.m_positions[l].a;const A=this.m_positions[u].c;let B=this.m_positions[u].a;for(let w=0;w<f;++w){t.q.Set(g),e.q.Set(B),F.b2Vec2.Subtract(b,F.b2Rot.MultiplyVec2(t.q,m,F.b2Vec2.s_t0),t.p),F.b2Vec2.Subtract(A,F.b2Rot.MultiplyVec2(e.q,d,F.b2Vec2.s_t0),e.p),s.Initialize(h,t,e,w);const{normal:P,point:V,separation:S}=s;F.b2Vec2.Subtract(V,b,n),F.b2Vec2.Subtract(V,A,r),a=Math.min(a,S);const D=(0,F.b2Clamp)($e.b2_baumgarte*(S+$e.b2_linearSlop),-$e.b2_maxLinearCorrection,0),L=F.b2Vec2.Cross(n,P),k=F.b2Vec2.Cross(r,P),E=p+x+y*L*L+_*k*k,R=E>0?-D/E:0;F.b2Vec2.Scale(R,P,o),b.SubtractScaled(p,o),g-=y*F.b2Vec2.Cross(n,o),A.AddScaled(x,o),B+=_*F.b2Vec2.Cross(r,o)}this.m_positions[l].c.Copy(b),this.m_positions[l].a=g,this.m_positions[u].c.Copy(A),this.m_positions[u].a=B}return a>=-3*$e.b2_linearSlop}SolveTOIPositionConstraints(t,e){const s=vt.SolveTOIPositionConstraints_s_xfA,n=vt.SolveTOIPositionConstraints_s_xfB,r=vt.SolveTOIPositionConstraints_s_psm,o=vt.SolveTOIPositionConstraints_s_rA,a=vt.SolveTOIPositionConstraints_s_rB,c=vt.SolveTOIPositionConstraints_s_P;let h=0;for(let l=0;l<this.m_count;++l){const u=this.m_positionConstraints[l],{indexA:m,indexB:d,localCenterA:f,localCenterB:p,pointCount:y}=u;let x=0,_=0;(m===t||m===e)&&(x=u.invMassA,_=u.invIA);let b=0,g=0;(d===t||d===e)&&(b=u.invMassB,g=u.invIB);const A=this.m_positions[m].c;let B=this.m_positions[m].a;const w=this.m_positions[d].c;let P=this.m_positions[d].a;for(let V=0;V<y;++V){s.q.Set(B),n.q.Set(P),F.b2Vec2.Subtract(A,F.b2Rot.MultiplyVec2(s.q,f,F.b2Vec2.s_t0),s.p),F.b2Vec2.Subtract(w,F.b2Rot.MultiplyVec2(n.q,p,F.b2Vec2.s_t0),n.p),r.Initialize(u,s,n,V);const{normal:S,point:D,separation:L}=r;F.b2Vec2.Subtract(D,A,o),F.b2Vec2.Subtract(D,w,a),h=Math.min(h,L);const k=(0,F.b2Clamp)($e.b2_toiBaumgarte*(L+$e.b2_linearSlop),-$e.b2_maxLinearCorrection,0),E=F.b2Vec2.Cross(o,S),R=F.b2Vec2.Cross(a,S),z=x+b+_*E*E+g*R*R,U=z>0?-k/z:0;F.b2Vec2.Scale(U,S,c),A.SubtractScaled(x,c),B-=_*F.b2Vec2.Cross(o,c),w.AddScaled(b,c),P+=g*F.b2Vec2.Cross(a,c)}this.m_positions[m].a=B,this.m_positions[d].a=P}return h>=-1.5*$e.b2_linearSlop}}ts.b2ContactSolver=vt;vt.InitializeVelocityConstraints_s_xfA=new F.b2Transform;vt.InitializeVelocityConstraints_s_xfB=new F.b2Transform;vt.InitializeVelocityConstraints_s_worldManifold=new Tn.b2WorldManifold;vt.WarmStart_s_P=new F.b2Vec2;vt.SolveVelocityConstraints_s_dv=new F.b2Vec2;vt.SolveVelocityConstraints_s_dv1=new F.b2Vec2;vt.SolveVelocityConstraints_s_dv2=new F.b2Vec2;vt.SolveVelocityConstraints_s_P=new F.b2Vec2;vt.SolveVelocityConstraints_s_a=new F.b2Vec2;vt.SolveVelocityConstraints_s_b=new F.b2Vec2;vt.SolveVelocityConstraints_s_x=new F.b2Vec2;vt.SolveVelocityConstraints_s_d=new F.b2Vec2;vt.SolveVelocityConstraints_s_P1=new F.b2Vec2;vt.SolveVelocityConstraints_s_P2=new F.b2Vec2;vt.SolveVelocityConstraints_s_P1P2=new F.b2Vec2;vt.SolvePositionConstraints_s_xfA=new F.b2Transform;vt.SolvePositionConstraints_s_xfB=new F.b2Transform;vt.SolvePositionConstraints_s_psm=new bs;vt.SolvePositionConstraints_s_rA=new F.b2Vec2;vt.SolvePositionConstraints_s_rB=new F.b2Vec2;vt.SolvePositionConstraints_s_P=new F.b2Vec2;vt.SolveTOIPositionConstraints_s_xfA=new F.b2Transform;vt.SolveTOIPositionConstraints_s_xfB=new F.b2Transform;vt.SolveTOIPositionConstraints_s_psm=new bs;vt.SolveTOIPositionConstraints_s_rA=new F.b2Vec2;vt.SolveTOIPositionConstraints_s_rB=new F.b2Vec2;vt.SolveTOIPositionConstraints_s_P=new F.b2Vec2;Object.defineProperty(mo,"__esModule",{value:!0});mo.b2Island=void 0;const Te=Xt,Ui=Nt,V6=Ri,Wu=ts,Hh=Ls,wn=Re,M6=cs;class Ie{constructor(t,e,s,n){this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=t,this.m_listener=n,this.m_bodies=new Array(t),this.m_contacts=new Array(e),this.m_joints=new Array(s),this.m_velocities=(0,Te.b2MakeArray)(t,wn.b2Velocity),this.m_positions=(0,Te.b2MakeArray)(t,wn.b2Position),this.Resize(t)}Resize(t){for(;this.m_bodyCapacity<t;)this.m_velocities[this.m_bodyCapacity]=new wn.b2Velocity,this.m_positions[this.m_bodyCapacity]=new wn.b2Position,this.m_bodyCapacity++}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount]=t,++this.m_bodyCount}AddContact(t){this.m_contacts[this.m_contactCount++]=t}AddJoint(t){this.m_joints[this.m_jointCount++]=t}Solve(t,e,s,n){const r=Ie.s_timer.Reset(),o=e.dt;for(let u=0;u<this.m_bodyCount;++u){const m=this.m_bodies[u];this.m_positions[u].c.Copy(m.m_sweep.c);const{a:d}=m.m_sweep,f=this.m_velocities[u].v.Copy(m.m_linearVelocity);let p=m.m_angularVelocity;m.m_sweep.c0.Copy(m.m_sweep.c),m.m_sweep.a0=m.m_sweep.a,m.m_type===Hh.b2BodyType.b2_dynamicBody&&(f.x+=o*m.m_invMass*(m.m_gravityScale*m.m_mass*s.x+m.m_force.x),f.y+=o*m.m_invMass*(m.m_gravityScale*m.m_mass*s.y+m.m_force.y),p+=o*m.m_invI*m.m_torque,f.Scale(1/(1+o*m.m_linearDamping)),p*=1/(1+o*m.m_angularDamping)),this.m_positions[u].a=d,this.m_velocities[u].w=p}r.Reset();const a=Ie.s_solverData;a.step.Copy(e),a.positions=this.m_positions,a.velocities=this.m_velocities;const c=Ie.s_contactSolverDef;c.step.Copy(e),c.contacts=this.m_contacts,c.count=this.m_contactCount,c.positions=this.m_positions,c.velocities=this.m_velocities;const h=Ie.s_contactSolver.Initialize(c);h.InitializeVelocityConstraints(),e.warmStarting&&h.WarmStart();for(let u=0;u<this.m_jointCount;++u)this.m_joints[u].InitVelocityConstraints(a);t.solveInit=r.GetMilliseconds(),r.Reset();for(let u=0;u<e.config.velocityIterations;++u){for(let m=0;m<this.m_jointCount;++m)this.m_joints[m].SolveVelocityConstraints(a);h.SolveVelocityConstraints()}h.StoreImpulses(),t.solveVelocity=r.GetMilliseconds();for(let u=0;u<this.m_bodyCount;++u){const{c:m}=this.m_positions[u];let{a:d}=this.m_positions[u];const{v:f}=this.m_velocities[u];let{w:p}=this.m_velocities[u];const y=Ui.b2Vec2.Scale(o,f,Ie.s_translation);if(Ui.b2Vec2.Dot(y,y)>Te.b2_maxTranslationSquared){const _=Te.b2_maxTranslation/y.Length();f.Scale(_)}const x=o*p;if(x*x>Te.b2_maxRotationSquared){const _=Te.b2_maxRotation/Math.abs(x);p*=_}m.AddScaled(o,f),d+=o*p,this.m_positions[u].a=d,this.m_velocities[u].w=p}r.Reset();let l=!1;for(let u=0;u<e.config.positionIterations;++u){const m=h.SolvePositionConstraints();let d=!0;for(let f=0;f<this.m_jointCount;++f){const p=this.m_joints[f].SolvePositionConstraints(a);d=d&&p}if(m&&d){l=!0;break}}for(let u=0;u<this.m_bodyCount;++u){const m=this.m_bodies[u];m.m_sweep.c.Copy(this.m_positions[u].c),m.m_sweep.a=this.m_positions[u].a,m.m_linearVelocity.Copy(this.m_velocities[u].v),m.m_angularVelocity=this.m_velocities[u].w,m.SynchronizeTransform()}if(t.solvePosition=r.GetMilliseconds(),this.Report(h.m_velocityConstraints),n){let u=Te.b2_maxFloat;const m=Te.b2_linearSleepTolerance*Te.b2_linearSleepTolerance,d=Te.b2_angularSleepTolerance*Te.b2_angularSleepTolerance;for(let f=0;f<this.m_bodyCount;++f){const p=this.m_bodies[f];p.GetType()!==Hh.b2BodyType.b2_staticBody&&(!p.m_autoSleepFlag||p.m_angularVelocity*p.m_angularVelocity>d||Ui.b2Vec2.Dot(p.m_linearVelocity,p.m_linearVelocity)>m?(p.m_sleepTime=0,u=0):(p.m_sleepTime+=o,u=Math.min(u,p.m_sleepTime)))}if(u>=Te.b2_timeToSleep&&l)for(let f=0;f<this.m_bodyCount;++f)this.m_bodies[f].SetAwake(!1)}}SolveTOI(t,e,s){for(let a=0;a<this.m_bodyCount;++a){const c=this.m_bodies[a];this.m_positions[a].c.Copy(c.m_sweep.c),this.m_positions[a].a=c.m_sweep.a,this.m_velocities[a].v.Copy(c.m_linearVelocity),this.m_velocities[a].w=c.m_angularVelocity}const n=Ie.s_contactSolverDef;n.contacts=this.m_contacts,n.count=this.m_contactCount,n.step.Copy(t),n.positions=this.m_positions,n.velocities=this.m_velocities;const r=Ie.s_contactSolver.Initialize(n);for(let a=0;a<t.config.positionIterations&&!r.SolveTOIPositionConstraints(e,s);++a);this.m_bodies[e].m_sweep.c0.Copy(this.m_positions[e].c),this.m_bodies[e].m_sweep.a0=this.m_positions[e].a,this.m_bodies[s].m_sweep.c0.Copy(this.m_positions[s].c),this.m_bodies[s].m_sweep.a0=this.m_positions[s].a,r.InitializeVelocityConstraints();for(let a=0;a<t.config.velocityIterations;++a)r.SolveVelocityConstraints();const o=t.dt;for(let a=0;a<this.m_bodyCount;++a){const{c}=this.m_positions[a];let{a:h}=this.m_positions[a];const{v:l}=this.m_velocities[a];let{w:u}=this.m_velocities[a];const m=Ui.b2Vec2.Scale(o,l,Ie.s_translation);if(Ui.b2Vec2.Dot(m,m)>Te.b2_maxTranslationSquared){const p=Te.b2_maxTranslation/m.Length();l.Scale(p)}const d=o*u;if(d*d>Te.b2_maxRotationSquared){const p=Te.b2_maxRotation/Math.abs(d);u*=p}c.AddScaled(o,l),h+=o*u,this.m_positions[a].a=h,this.m_velocities[a].w=u;const f=this.m_bodies[a];f.m_sweep.c.Copy(c),f.m_sweep.a=h,f.m_linearVelocity.Copy(l),f.m_angularVelocity=u,f.SynchronizeTransform()}this.Report(r.m_velocityConstraints)}Report(t){for(let e=0;e<this.m_contactCount;++e){const s=this.m_contacts[e],n=t[e],r=Ie.s_impulse;r.count=n.pointCount;for(let o=0;o<n.pointCount;++o)r.normalImpulses[o]=n.points[o].normalImpulse,r.tangentImpulses[o]=n.points[o].tangentImpulse;this.m_listener.PostSolve(s,r)}}}mo.b2Island=Ie;Ie.s_timer=new V6.b2Timer;Ie.s_solverData=new wn.b2SolverData;Ie.s_contactSolverDef=new Wu.b2ContactSolverDef;Ie.s_contactSolver=new Wu.b2ContactSolver;Ie.s_translation=new Ui.b2Vec2;Ie.s_impulse=new M6.b2ContactImpulse;Object.defineProperty(so,"__esModule",{value:!0});so.b2World=void 0;const ke=Xt,sr=Nt,kc=Ri,fo=Tt,Or=Ic,ds=ie,P6=Mi,I6=ci,T6=Pi,k6=Ii,E6=Ti,D6=ki,L6=Ei,G6=Js,R6=Di,F6=Li,z6=Gi,Ze=Ls,O6=tr,$6=mo,$r=Re;class Wt{constructor(t){this.m_contactManager=new O6.b2ContactManager,this.m_bodyList=null,this.m_jointList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new sr.b2Vec2,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_inv_dt0=0,this.m_newContacts=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new $r.b2Profile,this.m_island=new $6.b2Island(2*ke.b2_maxTOIContacts,ke.b2_maxTOIContacts,0,this.m_contactManager.m_contactListener),this.s_stack=[],this.m_gravity.Copy(t)}static Create(t){return new Wt(t)}SetDestructionListener(t){this.m_destructionListener=t}GetDestructionListener(){return this.m_destructionListener}SetContactFilter(t){this.m_contactManager.m_contactFilter=t}SetContactListener(t){this.m_contactManager.m_contactListener=t,this.m_island.m_listener=t}CreateBody(t={}){(0,ke.b2Assert)(!this.IsLocked());const e=new Ze.b2Body(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e}DestroyBody(t){var e,s;(0,ke.b2Assert)(!this.IsLocked());let n=t.m_jointList;for(;n;){const c=n;n=n.next,(e=this.m_destructionListener)===null||e===void 0||e.SayGoodbyeJoint(c.joint),this.DestroyJoint(c.joint),t.m_jointList=n}t.m_jointList=null;let r=t.m_contactList;for(;r;){const c=r;r=r.next,this.m_contactManager.Destroy(c.contact)}t.m_contactList=null;const o=this.m_contactManager.m_broadPhase;let a=t.m_fixtureList;for(;a;){const c=a;a=a.m_next,(s=this.m_destructionListener)===null||s===void 0||s.SayGoodbyeFixture(c),c.DestroyProxies(o),t.m_fixtureList=a,t.m_fixtureCount-=1}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}static Joint_Create(t){switch(t.type){case ds.b2JointType.e_distanceJoint:return new I6.b2DistanceJoint(t);case ds.b2JointType.e_mouseJoint:return new D6.b2MouseJoint(t);case ds.b2JointType.e_prismaticJoint:return new L6.b2PrismaticJoint(t);case ds.b2JointType.e_revoluteJoint:return new R6.b2RevoluteJoint(t);case ds.b2JointType.e_pulleyJoint:return new G6.b2PulleyJoint(t);case ds.b2JointType.e_gearJoint:return new k6.b2GearJoint(t);case ds.b2JointType.e_wheelJoint:return new z6.b2WheelJoint(t);case ds.b2JointType.e_weldJoint:return new F6.b2WeldJoint(t);case ds.b2JointType.e_frictionJoint:return new T6.b2FrictionJoint(t);case ds.b2JointType.e_motorJoint:return new E6.b2MotorJoint(t);case ds.b2JointType.e_areaJoint:return new P6.b2AreaJoint(t)}throw new Error}CreateJoint(t){(0,ke.b2Assert)(!this.IsLocked());const e=Wt.Joint_Create(t);e.m_prev=null,e.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB;const s=e.m_bodyA,n=e.m_bodyB;if(!t.collideConnected){let r=n.GetContactList();for(;r;)r.other===s&&r.contact.FlagForFiltering(),r=r.next}return e}DestroyJoint(t){(0,ke.b2Assert)(!this.IsLocked()),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_jointList&&(this.m_jointList=t.m_next);const e=t.m_bodyA,s=t.m_bodyB,n=t.m_collideConnected;if(e.SetAwake(!0),s.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA===e.m_jointList&&(e.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB===s.m_jointList&&(s.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,--this.m_jointCount,!n){let r=s.GetContactList();for(;r;)r.other===e&&r.contact.FlagForFiltering(),r=r.next}}Step(t,e){const s=Wt.Step_s_stepTimer.Reset();this.m_newContacts&&(this.m_contactManager.FindNewContacts(),this.m_newContacts=!1),this.m_locked=!0;const n=Wt.Step_s_step;n.dt=t,n.config={...e},t>0?n.inv_dt=1/t:n.inv_dt=0,n.dtRatio=this.m_inv_dt0*t,n.warmStarting=this.m_warmStarting;{const r=Wt.Step_s_timer.Reset();this.m_contactManager.Collide(),this.m_profile.collide=r.GetMilliseconds()}if(this.m_stepComplete&&n.dt>0){const r=Wt.Step_s_timer.Reset();this.Solve(n),this.m_profile.solve=r.GetMilliseconds()}if(this.m_continuousPhysics&&n.dt>0){const r=Wt.Step_s_timer.Reset();this.SolveTOI(n),this.m_profile.solveTOI=r.GetMilliseconds()}n.dt>0&&(this.m_inv_dt0=n.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=s.GetMilliseconds()}ClearForces(){for(let t=this.m_bodyList;t;t=t.GetNext())t.m_force.SetZero(),t.m_torque=0}QueryAABB(t,e){this.m_contactManager.m_broadPhase.Query(t,s=>{const n=(0,ke.b2Verify)(s.userData);return e(n.fixture)})}QueryAllAABB(t,e=[]){return this.QueryAABB(t,s=>(e.push(s),!0)),e}QueryPointAABB(t,e){this.m_contactManager.m_broadPhase.QueryPoint(t,s=>{const n=(0,ke.b2Verify)(s.userData);return e(n.fixture)})}QueryAllPointAABB(t,e=[]){return this.QueryPointAABB(t,s=>(e.push(s),!0)),e}QueryFixtureShape(t,e,s,n){const r=Wt.QueryFixtureShape_s_aabb;t.ComputeAABB(r,s,e),this.m_contactManager.m_broadPhase.Query(r,o=>{const a=(0,ke.b2Verify)(o.userData),{fixture:c}=a;return!(0,fo.b2TestOverlap)(t,e,c.GetShape(),a.childIndex,s,c.GetBody().GetTransform())||n(c)})}QueryAllFixtureShape(t,e,s,n=[]){return this.QueryFixtureShape(t,e,s,r=>(n.push(r),!0)),n}QueryFixturePoint(t,e){this.m_contactManager.m_broadPhase.QueryPoint(t,s=>{const n=(0,ke.b2Verify)(s.userData),{fixture:r}=n;return!r.TestPoint(t)||e(r)})}QueryAllFixturePoint(t,e=[]){return this.QueryFixturePoint(t,s=>(e.push(s),!0)),e}RayCast(t,e,s){const n=Wt.RayCast_s_input;n.maxFraction=1,n.p1.Copy(t),n.p2.Copy(e),this.m_contactManager.m_broadPhase.RayCast(n,(r,o)=>{const a=(0,ke.b2Verify)(o.userData),{fixture:c}=a,h=a.childIndex,l=Wt.RayCast_s_output;if(c.RayCast(l,r,h)){const{fraction:m}=l,d=Wt.RayCast_s_point;return d.Set((1-m)*t.x+m*e.x,(1-m)*t.y+m*e.y),s(c,d,l.normal,m)}return r.maxFraction})}RayCastOne(t,e){let s=null,n=1;return this.RayCast(t,e,(r,o,a,c)=>(c<n&&(n=c,s=r),n)),s}RayCastAll(t,e,s=[]){return this.RayCast(t,e,n=>(s.push(n),1)),s}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(t){if(t!==this.m_allowSleep&&(this.m_allowSleep=t,!this.m_allowSleep))for(let e=this.m_bodyList;e;e=e.m_next)e.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(t){this.m_warmStarting=t}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(t){this.m_continuousPhysics=t}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(t){this.m_subStepping=t}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(t){this.m_gravity.Copy(t)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(t){this.m_clearForces=t}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(t){(0,ke.b2Assert)(!this.IsLocked());for(let e=this.m_bodyList;e;e=e.m_next)e.m_xf.p.Subtract(t),e.m_sweep.c0.Subtract(t),e.m_sweep.c.Subtract(t);for(let e=this.m_jointList;e;e=e.m_next)e.ShiftOrigin(t);this.m_contactManager.m_broadPhase.ShiftOrigin(t)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Solve(t){this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;const e=this.m_island;e.Resize(this.m_bodyCount),e.Clear();for(let r=this.m_bodyList;r;r=r.m_next)r.m_islandFlag=!1;for(let r=this.m_contactManager.m_contactList;r;r=r.m_next)r.m_islandFlag=!1;for(let r=this.m_jointList;r;r=r.m_next)r.m_islandFlag=!1;const s=this.s_stack;for(let r=this.m_bodyList;r;r=r.m_next){if(r.m_islandFlag||!r.IsAwake()||!r.IsEnabled()||r.GetType()===Ze.b2BodyType.b2_staticBody)continue;e.Clear();let o=0;for(s[o++]=r,r.m_islandFlag=!0;o>0;){const c=s[--o];if((0,ke.b2Assert)(c!==null),e.AddBody(c),c.GetType()!==Ze.b2BodyType.b2_staticBody){c.m_awakeFlag=!0;for(let h=c.m_contactList;h;h=h.next){const{contact:l}=h;if(l.m_islandFlag||!l.IsEnabled()||!l.IsTouching())continue;const u=l.m_fixtureA.m_isSensor,m=l.m_fixtureB.m_isSensor;if(u||m)continue;e.AddContact(l),l.m_islandFlag=!0;const{other:d}=h;d.m_islandFlag||(s[o++]=d,d.m_islandFlag=!0)}for(let h=c.m_jointList;h;h=h.next){if(h.joint.m_islandFlag)continue;const{other:l}=h;l.IsEnabled()&&(e.AddJoint(h.joint),h.joint.m_islandFlag=!0,!l.m_islandFlag&&(s[o++]=l,l.m_islandFlag=!0))}}}const a=new $r.b2Profile;e.Solve(a,t,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=a.solveInit,this.m_profile.solveVelocity+=a.solveVelocity,this.m_profile.solvePosition+=a.solvePosition;for(let c=0;c<e.m_bodyCount;++c){const h=e.m_bodies[c];h.GetType()===Ze.b2BodyType.b2_staticBody&&(h.m_islandFlag=!1)}}for(let r=0;r<s.length&&s[r];++r)s[r]=null;const n=new kc.b2Timer;for(let r=this.m_bodyList;r;r=r.m_next)r.m_islandFlag&&r.GetType()!==Ze.b2BodyType.b2_staticBody&&r.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=n.GetMilliseconds()}SolveTOI(t){const e=this.m_island;if(e.Clear(),this.m_stepComplete){for(let s=this.m_bodyList;s;s=s.m_next)s.m_islandFlag=!1,s.m_sweep.alpha0=0;for(let s=this.m_contactManager.m_contactList;s;s=s.m_next)s.m_toiFlag=!1,s.m_islandFlag=!1,s.m_toiCount=0,s.m_toi=1}for(;;){let s=null,n=1;for(let m=this.m_contactManager.m_contactList;m;m=m.m_next){if(!m.IsEnabled()||m.m_toiCount>ke.b2_maxSubSteps)continue;let d=1;if(m.m_toiFlag)d=m.m_toi;else{const f=m.GetFixtureA(),p=m.GetFixtureB();if(f.IsSensor()||p.IsSensor())continue;const y=f.GetBody(),x=p.GetBody(),_=y.m_type,b=x.m_type,g=y.IsAwake()&&_!==Ze.b2BodyType.b2_staticBody,A=x.IsAwake()&&b!==Ze.b2BodyType.b2_staticBody;if(!g&&!A)continue;const B=y.IsBullet()||_!==Ze.b2BodyType.b2_dynamicBody,w=x.IsBullet()||b!==Ze.b2BodyType.b2_dynamicBody;if(!B&&!w)continue;let{alpha0:P}=y.m_sweep;y.m_sweep.alpha0<x.m_sweep.alpha0?(P=x.m_sweep.alpha0,y.m_sweep.Advance(P)):x.m_sweep.alpha0<y.m_sweep.alpha0&&(P=y.m_sweep.alpha0,x.m_sweep.Advance(P));const V=m.GetChildIndexA(),S=m.GetChildIndexB(),D=Wt.SolveTOI_s_toi_input;D.proxyA.SetShape(f.GetShape(),V),D.proxyB.SetShape(p.GetShape(),S),D.sweepA.Copy(y.m_sweep),D.sweepB.Copy(x.m_sweep),D.tMax=1;const L=Wt.SolveTOI_s_toi_output;(0,Or.b2TimeOfImpact)(L,D);const k=L.t;L.state===Or.b2TOIOutputState.e_touching?d=Math.min(P+(1-P)*k,1):d=1,m.m_toi=d,m.m_toiFlag=!0}d<n&&(s=m,n=d)}if(s===null||1-10*ke.b2_epsilon<n){this.m_stepComplete=!0;break}const r=s.GetFixtureA(),o=s.GetFixtureB(),a=r.GetBody(),c=o.GetBody(),h=Wt.SolveTOI_s_backup1.Copy(a.m_sweep),l=Wt.SolveTOI_s_backup2.Copy(c.m_sweep);if(a.Advance(n),c.Advance(n),s.Update(this.m_contactManager.m_contactListener),s.m_toiFlag=!1,++s.m_toiCount,!s.IsEnabled()||!s.IsTouching()){s.SetEnabled(!1),a.m_sweep.Copy(h),c.m_sweep.Copy(l),a.SynchronizeTransform(),c.SynchronizeTransform();continue}a.SetAwake(!0),c.SetAwake(!0),e.Clear(),e.AddBody(a),e.AddBody(c),e.AddContact(s),a.m_islandFlag=!0,c.m_islandFlag=!0,s.m_islandFlag=!0;for(let m=0;m<2;++m){const d=m===0?a:c;if(d.m_type===Ze.b2BodyType.b2_dynamicBody)for(let f=d.m_contactList;f&&!(e.m_bodyCount===e.m_bodyCapacity||e.m_contactCount===ke.b2_maxTOIContacts);f=f.next){const{contact:p}=f;if(p.m_islandFlag)continue;const{other:y}=f;if(y.m_type===Ze.b2BodyType.b2_dynamicBody&&!d.IsBullet()&&!y.IsBullet())continue;const x=p.m_fixtureA.m_isSensor,_=p.m_fixtureB.m_isSensor;if(x||_)continue;const b=Wt.SolveTOI_s_backup.Copy(y.m_sweep);if(y.m_islandFlag||y.Advance(n),p.Update(this.m_contactManager.m_contactListener),!p.IsEnabled()){y.m_sweep.Copy(b),y.SynchronizeTransform();continue}if(!p.IsTouching()){y.m_sweep.Copy(b),y.SynchronizeTransform();continue}p.m_islandFlag=!0,e.AddContact(p),!y.m_islandFlag&&(y.m_islandFlag=!0,y.m_type!==Ze.b2BodyType.b2_staticBody&&y.SetAwake(!0),e.AddBody(y))}}const u=Wt.SolveTOI_s_subStep;u.dt=(1-n)*t.dt,u.inv_dt=1/u.dt,u.dtRatio=1,u.config={...t.config,positionIterations:20},u.warmStarting=!1,e.SolveTOI(u,a.m_islandIndex,c.m_islandIndex);for(let m=0;m<e.m_bodyCount;++m){const d=e.m_bodies[m];if(d.m_islandFlag=!1,d.m_type===Ze.b2BodyType.b2_dynamicBody){d.SynchronizeFixtures();for(let f=d.m_contactList;f;f=f.next)f.contact.m_toiFlag=!1,f.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}}so.b2World=Wt;Wt.Step_s_step=$r.b2TimeStep.Create();Wt.Step_s_stepTimer=new kc.b2Timer;Wt.Step_s_timer=new kc.b2Timer;Wt.QueryFixtureShape_s_aabb=new fo.b2AABB;Wt.RayCast_s_input=new fo.b2RayCastInput;Wt.RayCast_s_output=new fo.b2RayCastOutput;Wt.RayCast_s_point=new sr.b2Vec2;Wt.SolveTOI_s_subStep=$r.b2TimeStep.Create();Wt.SolveTOI_s_backup=new sr.b2Sweep;Wt.SolveTOI_s_backup1=new sr.b2Sweep;Wt.SolveTOI_s_backup2=new sr.b2Sweep;Wt.SolveTOI_s_toi_input=new Or.b2TOIInput;Wt.SolveTOI_s_toi_output=new Or.b2TOIOutput;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.b2Rope=Ts.b2RopeTuning=Ts.b2BendingModel=Ts.b2StretchingModel=void 0;const qi=Xt,pn=Oe,Y=Nt,Ns={J1:new Y.b2Vec2,J2:new Y.b2Vec2,J3:new Y.b2Vec2,r:new Y.b2Vec2,e1:new Y.b2Vec2,e2:new Y.b2Vec2,Jd1:new Y.b2Vec2,Jd2:new Y.b2Vec2,d:new Y.b2Vec2,u:new Y.b2Vec2,dp1:new Y.b2Vec2,dp2:new Y.b2Vec2,dp3:new Y.b2Vec2,d1:new Y.b2Vec2,d2:new Y.b2Vec2,dHat:new Y.b2Vec2};var Jn;(function(i){i[i.b2_pbdStretchingModel=0]="b2_pbdStretchingModel",i[i.b2_xpbdStretchingModel=1]="b2_xpbdStretchingModel"})(Jn||(Ts.b2StretchingModel=Jn={}));var qs;(function(i){i[i.b2_springAngleBendingModel=0]="b2_springAngleBendingModel",i[i.b2_pbdAngleBendingModel=1]="b2_pbdAngleBendingModel",i[i.b2_xpbdAngleBendingModel=2]="b2_xpbdAngleBendingModel",i[i.b2_pbdDistanceBendingModel=3]="b2_pbdDistanceBendingModel",i[i.b2_pbdHeightBendingModel=4]="b2_pbdHeightBendingModel",i[i.b2_pbdTriangleBendingModel=5]="b2_pbdTriangleBendingModel"})(qs||(Ts.b2BendingModel=qs={}));class Ju{constructor(){this.stretchingModel=Jn.b2_pbdStretchingModel,this.bendingModel=qs.b2_pbdAngleBendingModel,this.damping=0,this.stretchStiffness=1,this.stretchHertz=1,this.stretchDamping=0,this.bendStiffness=.5,this.bendHertz=1,this.bendDamping=0,this.isometric=!1,this.fixedEffectiveMass=!1,this.warmStart=!1}Copy(t){return this.stretchingModel=t.stretchingModel,this.bendingModel=t.bendingModel,this.damping=t.damping,this.stretchStiffness=t.stretchStiffness,this.stretchHertz=t.stretchHertz,this.stretchDamping=t.stretchDamping,this.bendStiffness=t.bendStiffness,this.bendHertz=t.bendHertz,this.bendDamping=t.bendDamping,this.isometric=t.isometric,this.fixedEffectiveMass=t.fixedEffectiveMass,this.warmStart=t.warmStart,this}}Ts.b2RopeTuning=Ju;class j6{constructor(){this.i1=0,this.i2=0,this.invMass1=0,this.invMass2=0,this.L=0,this.lambda=0,this.spring=0,this.damper=0}}class N6{constructor(){this.i1=0,this.i2=0,this.i3=0,this.invMass1=0,this.invMass2=0,this.invMass3=0,this.invEffectiveMass=0,this.lambda=0,this.L1=0,this.L2=0,this.alpha1=0,this.alpha2=0,this.spring=0,this.damper=0}}class q6{constructor(t){this.m_position=new Y.b2Vec2,this.m_count=0,this.m_stretchCount=0,this.m_bendCount=0,this.m_gravity=new Y.b2Vec2,this.m_tuning=new Ju,(0,qi.b2Assert)(t.vertices.length>=3),this.m_position.Copy(t.position),this.m_count=t.vertices.length,this.m_bindPositions=(0,qi.b2MakeArray)(this.m_count,Y.b2Vec2),this.m_ps=(0,qi.b2MakeArray)(this.m_count,Y.b2Vec2),this.m_p0s=(0,qi.b2MakeArray)(this.m_count,Y.b2Vec2),this.m_vs=(0,qi.b2MakeArray)(this.m_count,Y.b2Vec2),this.m_invMasses=(0,qi.b2MakeNumberArray)(this.m_count);for(let h=0;h<this.m_count;++h){this.m_bindPositions[h].Copy(t.vertices[h]),Y.b2Vec2.Add(t.vertices[h],this.m_position,this.m_ps[h]),Y.b2Vec2.Add(t.vertices[h],this.m_position,this.m_p0s[h]),this.m_vs[h].SetZero();const l=t.masses[h];l>0?this.m_invMasses[h]=1/l:this.m_invMasses[h]=0}this.m_stretchCount=this.m_count-1,this.m_bendCount=this.m_count-2,this.m_stretchConstraints=new Array(this.m_stretchCount);for(let h=0;h<this.m_stretchCount;h++)this.m_stretchConstraints[h]=new j6;this.m_bendConstraints=new Array(this.m_bendCount);for(let h=0;h<this.m_bendCount;h++)this.m_bendConstraints[h]=new N6;for(let h=0;h<this.m_stretchCount;++h){const l=this.m_stretchConstraints[h],u=this.m_ps[h],m=this.m_ps[h+1];l.i1=h,l.i2=h+1,l.L=Y.b2Vec2.Distance(u,m),l.invMass1=this.m_invMasses[h],l.invMass2=this.m_invMasses[h+1],l.lambda=0,l.damper=0,l.spring=0}const{J1:e,J2:s,r:n,e1:r,e2:o,Jd1:a,Jd2:c}=Ns;for(let h=0;h<this.m_bendCount;++h){const l=this.m_bendConstraints[h],u=this.m_ps[h],m=this.m_ps[h+1],d=this.m_ps[h+2];l.i1=h,l.i2=h+1,l.i3=h+2,l.invMass1=this.m_invMasses[h],l.invMass2=this.m_invMasses[h+1],l.invMass3=this.m_invMasses[h+2],l.invEffectiveMass=0,l.L1=Y.b2Vec2.Distance(u,m),l.L2=Y.b2Vec2.Distance(m,d),l.lambda=0,Y.b2Vec2.Subtract(m,u,r),Y.b2Vec2.Subtract(d,m,o);const f=r.LengthSquared(),p=o.LengthSquared();if(f*p===0)continue;Y.b2Vec2.Skew(r,a).Scale(-1/f),Y.b2Vec2.Skew(o,c).Scale(1/p),Y.b2Vec2.Negate(a,e),Y.b2Vec2.Subtract(a,c,s);const y=c;l.invEffectiveMass=l.invMass1*Y.b2Vec2.Dot(e,e)+l.invMass2*Y.b2Vec2.Dot(s,s)+l.invMass3*Y.b2Vec2.Dot(y,y),Y.b2Vec2.Subtract(d,u,n);const x=n.LengthSquared();x!==0&&(l.alpha1=Y.b2Vec2.Dot(o,n)/x,l.alpha2=Y.b2Vec2.Dot(r,n)/x)}this.m_gravity.Copy(t.gravity),this.SetTuning(t.tuning)}SetTuning(t){this.m_tuning.Copy(t);const e=2*Math.PI*this.m_tuning.bendHertz;for(let n=0;n<this.m_bendCount;++n){const r=this.m_bendConstraints[n],o=r.L1*r.L1,a=r.L2*r.L2;if(o*a===0){r.spring=0,r.damper=0;continue}const c=1/r.L1+1/r.L2,h=r.invMass1/o+r.invMass2*c*c+r.invMass3/a;if(h===0){r.spring=0,r.damper=0;continue}const l=1/h;r.spring=l*e*e,r.damper=2*l*this.m_tuning.bendDamping*e}const s=2*Math.PI*this.m_tuning.stretchHertz;for(let n=0;n<this.m_stretchCount;++n){const r=this.m_stretchConstraints[n],o=r.invMass1+r.invMass2;if(o===0)continue;const a=1/o;r.spring=a*s*s,r.damper=2*a*this.m_tuning.stretchDamping*s}}Step(t,e,s){if(t===0)return;const n=1/t,r=Math.exp(-t*this.m_tuning.damping);for(let o=0;o<this.m_count;++o)this.m_invMasses[o]>0?(this.m_vs[o].Scale(r),this.m_vs[o].AddScaled(t,this.m_gravity)):(this.m_vs[o].x=n*(this.m_bindPositions[o].x+s.x-this.m_p0s[o].x),this.m_vs[o].y=n*(this.m_bindPositions[o].y+s.y-this.m_p0s[o].y));this.m_tuning.bendingModel===qs.b2_springAngleBendingModel&&this.ApplyBendForces(t);for(let o=0;o<this.m_bendCount;++o)this.m_bendConstraints[o].lambda=0;for(let o=0;o<this.m_stretchCount;++o)this.m_stretchConstraints[o].lambda=0;for(let o=0;o<this.m_count;++o)this.m_ps[o].AddScaled(t,this.m_vs[o]);for(let o=0;o<e;++o)this.m_tuning.bendingModel===qs.b2_pbdAngleBendingModel?this.SolveBend_PBD_Angle():this.m_tuning.bendingModel===qs.b2_xpbdAngleBendingModel?this.SolveBend_XPBD_Angle(t):this.m_tuning.bendingModel===qs.b2_pbdDistanceBendingModel?this.SolveBend_PBD_Distance():this.m_tuning.bendingModel===qs.b2_pbdHeightBendingModel?this.SolveBend_PBD_Height():this.m_tuning.bendingModel===qs.b2_pbdTriangleBendingModel&&this.SolveBend_PBD_Triangle(),this.m_tuning.stretchingModel===Jn.b2_pbdStretchingModel?this.SolveStretch_PBD():this.m_tuning.stretchingModel===Jn.b2_xpbdStretchingModel&&this.SolveStretch_XPBD(t);for(let o=0;o<this.m_count;++o)this.m_vs[o].x=n*(this.m_ps[o].x-this.m_p0s[o].x),this.m_vs[o].y=n*(this.m_ps[o].y-this.m_p0s[o].y),this.m_p0s[o].Copy(this.m_ps[o])}Reset(t){this.m_position.Copy(t);for(let e=0;e<this.m_count;++e)Y.b2Vec2.Add(this.m_bindPositions[e],this.m_position,this.m_ps[e]),this.m_p0s[e].Copy(this.m_ps[e]),this.m_vs[e].SetZero();for(let e=0;e<this.m_bendCount;++e)this.m_bendConstraints[e].lambda=0;for(let e=0;e<this.m_stretchCount;++e)this.m_stretchConstraints[e].lambda=0}SolveStretch_PBD(){const t=this.m_tuning.stretchStiffness,{d:e}=Ns;for(let s=0;s<this.m_stretchCount;++s){const n=this.m_stretchConstraints[s],r=this.m_ps[n.i1],o=this.m_ps[n.i2];Y.b2Vec2.Subtract(o,r,e);const a=e.Normalize(),c=n.invMass1+n.invMass2;if(c===0)continue;const h=n.invMass1/c,l=n.invMass2/c;r.SubtractScaled(t*h*(n.L-a),e),o.AddScaled(t*l*(n.L-a),e)}}SolveStretch_XPBD(t){const{dp1:e,dp2:s,u:n,J1:r}=Ns;for(let o=0;o<this.m_stretchCount;++o){const a=this.m_stretchConstraints[o],c=this.m_ps[a.i1],h=this.m_ps[a.i2];Y.b2Vec2.Subtract(c,this.m_p0s[a.i1],e),Y.b2Vec2.Subtract(h,this.m_p0s[a.i2],s),Y.b2Vec2.Subtract(h,c,n);const l=n.Normalize();Y.b2Vec2.Negate(n,r);const u=n,m=a.invMass1+a.invMass2;if(m===0)continue;const d=1/(a.spring*t*t),f=t*t*a.damper,p=d*f/t,y=l-a.L,x=Y.b2Vec2.Dot(r,e)+Y.b2Vec2.Dot(u,s),_=y+d*a.lambda+p*x,b=(1+p)*m+d,g=-_/b;c.AddScaled(a.invMass1*g,r),h.AddScaled(a.invMass2*g,u),a.lambda+=g}}SolveBend_PBD_Angle(){const t=this.m_tuning.bendStiffness,{Jd1:e,Jd2:s,J1:n,J2:r,d1:o,d2:a}=Ns;for(let c=0;c<this.m_bendCount;++c){const h=this.m_bendConstraints[c],l=this.m_ps[h.i1],u=this.m_ps[h.i2],m=this.m_ps[h.i3];Y.b2Vec2.Subtract(u,l,o),Y.b2Vec2.Subtract(m,u,a);const d=Y.b2Vec2.Cross(o,a),f=Y.b2Vec2.Dot(o,a),p=Math.atan2(d,f);let y,x;if(this.m_tuning.isometric?(y=h.L1*h.L1,x=h.L2*h.L2):(y=o.LengthSquared(),x=a.LengthSquared()),y*x===0)continue;Y.b2Vec2.Skew(o,e).Scale(-1/y),Y.b2Vec2.Skew(a,s).Scale(1/x),Y.b2Vec2.Negate(e,n),Y.b2Vec2.Subtract(e,s,r);const _=s;let b;this.m_tuning.fixedEffectiveMass?b=h.invEffectiveMass:b=h.invMass1*Y.b2Vec2.Dot(n,n)+h.invMass2*Y.b2Vec2.Dot(r,r)+h.invMass3*Y.b2Vec2.Dot(_,_),b===0&&(b=h.invEffectiveMass);const g=-t*p/b;l.AddScaled(h.invMass1*g,n),u.AddScaled(h.invMass2*g,r),m.AddScaled(h.invMass3*g,_)}}SolveBend_XPBD_Angle(t){const{dp1:e,dp2:s,dp3:n,d1:r,d2:o,Jd1:a,Jd2:c,J1:h,J2:l}=Ns;for(let u=0;u<this.m_bendCount;++u){const m=this.m_bendConstraints[u],d=this.m_ps[m.i1],f=this.m_ps[m.i2],p=this.m_ps[m.i3];Y.b2Vec2.Subtract(d,this.m_p0s[m.i1],e),Y.b2Vec2.Subtract(f,this.m_p0s[m.i2],s),Y.b2Vec2.Subtract(p,this.m_p0s[m.i3],n),Y.b2Vec2.Subtract(f,d,r),Y.b2Vec2.Subtract(p,f,o);let y,x;if(this.m_tuning.isometric?(y=m.L1*m.L1,x=m.L2*m.L2):(y=r.LengthSquared(),x=o.LengthSquared()),y*x===0)continue;const _=Y.b2Vec2.Cross(r,o),b=Y.b2Vec2.Dot(r,o),g=Math.atan2(_,b);Y.b2Vec2.Skew(r,a).Scale(-1/y),Y.b2Vec2.Skew(o,c).Scale(1/x),Y.b2Vec2.Negate(a,h),Y.b2Vec2.Subtract(a,c,l);const A=c;let B;if(this.m_tuning.fixedEffectiveMass?B=m.invEffectiveMass:B=m.invMass1*Y.b2Vec2.Dot(h,h)+m.invMass2*Y.b2Vec2.Dot(l,l)+m.invMass3*Y.b2Vec2.Dot(A,A),B===0)continue;const w=1/(m.spring*t*t),P=t*t*m.damper,V=w*P/t,S=g,D=Y.b2Vec2.Dot(h,e)+Y.b2Vec2.Dot(l,s)+Y.b2Vec2.Dot(A,n),L=S+w*m.lambda+V*D,k=(1+V)*B+w,E=-L/k;d.AddScaled(m.invMass1*E,h),f.AddScaled(m.invMass2*E,l),p.AddScaled(m.invMass3*E,A),m.lambda+=E}}SolveBend_PBD_Distance(){const t=this.m_tuning.bendStiffness,{d:e}=Ns;for(let s=0;s<this.m_bendCount;++s){const n=this.m_bendConstraints[s],{i1:r}=n,o=n.i3,a=this.m_ps[r],c=this.m_ps[o];Y.b2Vec2.Subtract(c,a,e);const h=e.Normalize(),l=n.invMass1+n.invMass3;if(l===0)continue;const u=n.invMass1/l,m=n.invMass3/l;a.SubtractScaled(t*u*(n.L1+n.L2-h),e),c.AddScaled(t*m*(n.L1+n.L2-h),e)}}SolveBend_PBD_Height(){const t=this.m_tuning.bendStiffness,{dHat:e,J1:s,J2:n,J3:r,d:o}=Ns;for(let a=0;a<this.m_bendCount;++a){const c=this.m_bendConstraints[a],h=this.m_ps[c.i1],l=this.m_ps[c.i2],u=this.m_ps[c.i3];o.x=c.alpha1*h.x+c.alpha2*u.x-l.x,o.y=c.alpha1*h.y+c.alpha2*u.y-l.y;const m=o.Length();if(m===0)continue;Y.b2Vec2.Scale(1/m,o,e),Y.b2Vec2.Scale(c.alpha1,e,s),Y.b2Vec2.Negate(e,n),Y.b2Vec2.Scale(c.alpha2,e,r);const d=c.invMass1*c.alpha1*c.alpha1+c.invMass2+c.invMass3*c.alpha2*c.alpha2;if(d===0)continue;const f=m,p=1/d,y=-t*p*f;h.AddScaled(c.invMass1*y,s),l.AddScaled(c.invMass2*y,n),u.AddScaled(c.invMass3*y,r)}}SolveBend_PBD_Triangle(){const t=this.m_tuning.bendStiffness,{d:e}=Ns;for(let s=0;s<this.m_bendCount;++s){const n=this.m_bendConstraints[s],r=this.m_ps[n.i1],o=this.m_ps[n.i2],a=this.m_ps[n.i3],c=n.invMass1,h=n.invMass2,l=n.invMass3,u=c+l+2*h,m=t/u;e.x=o.x-1/3*(r.x+o.x+a.x),e.y=o.y-1/3*(r.y+o.y+a.y),r.AddScaled(2*c*m,e),o.AddScaled(-4*h*m,e),a.AddScaled(2*l*m,e)}}ApplyBendForces(t){const e=2*Math.PI*this.m_tuning.bendHertz,{d1:s,d2:n,Jd1:r,Jd2:o,J1:a,J2:c}=Ns;for(let h=0;h<this.m_bendCount;++h){const l=this.m_bendConstraints[h],u=this.m_ps[l.i1],m=this.m_ps[l.i2],d=this.m_ps[l.i3],f=this.m_vs[l.i1],p=this.m_vs[l.i2],y=this.m_vs[l.i3];Y.b2Vec2.Subtract(m,u,s),Y.b2Vec2.Subtract(d,m,n);let x,_;if(this.m_tuning.isometric?(x=l.L1*l.L1,_=l.L2*l.L2):(x=s.LengthSquared(),_=n.LengthSquared()),x*_===0)continue;const b=Y.b2Vec2.Cross(s,n),g=Y.b2Vec2.Dot(s,n),A=Math.atan2(b,g);Y.b2Vec2.Skew(s,r).Scale(-1/x),Y.b2Vec2.Skew(n,o).Scale(1/_),Y.b2Vec2.Negate(r,a),Y.b2Vec2.Subtract(r,o,c);const B=o;let w;if(this.m_tuning.fixedEffectiveMass?w=l.invEffectiveMass:w=l.invMass1*Y.b2Vec2.Dot(a,a)+l.invMass2*Y.b2Vec2.Dot(c,c)+l.invMass3*Y.b2Vec2.Dot(B,B),w===0)continue;const P=1/w,V=P*e*e,S=2*P*this.m_tuning.bendDamping*e,D=A,L=Y.b2Vec2.Dot(a,f)+Y.b2Vec2.Dot(c,p)+Y.b2Vec2.Dot(B,y),k=-t*(V*D+S*L);this.m_vs[l.i1].AddScaled(l.invMass1*k,a),this.m_vs[l.i2].AddScaled(l.invMass2*k,c),this.m_vs[l.i3].AddScaled(l.invMass3*k,B)}}Draw(t){for(let s=0;s<this.m_count-1;++s){t.DrawSegment(this.m_ps[s],this.m_ps[s+1],pn.debugColors.rope);const n=this.m_invMasses[s]>0?pn.debugColors.ropePointD:pn.debugColors.ropePointG;t.DrawPoint(this.m_ps[s],5,n)}const e=this.m_invMasses[this.m_count-1]>0?pn.debugColors.ropePointD:pn.debugColors.ropePointG;t.DrawPoint(this.m_ps[this.m_count-1],5,e)}}Ts.b2Rope=q6;(function(i){var t=ar&&ar.__createBinding||(Object.create?function(o,a,c,h){h===void 0&&(h=c);var l=Object.getOwnPropertyDescriptor(a,c);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,h,l)}:function(o,a,c,h){h===void 0&&(h=c),o[h]=a[c]}),e=ar&&ar.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(i,"__esModule",{value:!0}),i.b2GetBlockSolve=i.b2SetBlockSolve=i.b2World=i.b2BodyType=i.b2Body=void 0,e(Xt,i),e(us,i),e(Nt,i),e(Oe,i),e(qe,i),e(Ri,i),e(Kr,i),e(ju,i),e(Tt,i),e(Yr,i),e(Kn,i),e(Vi,i),e(Ic,i),e(ai,i),e(Qn,i),e(Gs,i),e(ze,i),e(Qr,i),e(to,i),e(Fi,i),e(eo,i),e(Mc,i);var s=Ls;Object.defineProperty(i,"b2Body",{enumerable:!0,get:function(){return s.b2Body}}),Object.defineProperty(i,"b2BodyType",{enumerable:!0,get:function(){return s.b2BodyType}});var n=so;Object.defineProperty(i,"b2World",{enumerable:!0,get:function(){return n.b2World}}),e(cs,i),e(Re,i),e(tr,i),e(Ce,i),e(er,i);var r=ts;Object.defineProperty(i,"b2SetBlockSolve",{enumerable:!0,get:function(){return r.b2SetBlockSolve}}),Object.defineProperty(i,"b2GetBlockSolve",{enumerable:!0,get:function(){return r.b2GetBlockSolve}}),e(ie,i),e(Mi,i),e(ci,i),e(Pi,i),e(Ii,i),e(Ti,i),e(ki,i),e(Ei,i),e(Js,i),e(Di,i),e(Li,i),e(Gi,i),e(Ts,i)})(re);let Qi=null;const ii=new re.b2Vec2;function H6(i){const t=new re.b2AABB,e=.001;t.lowerBound.Set(ii.x-e,ii.y-e),t.upperBound.Set(ii.x+e,ii.y+e);let s={};return i.QueryAABB(t,n=>n.GetBody().GetType()!==re.b2BodyType.b2_staticBody&&n.TestPoint(ii)?(s=n.GetBody(),!1):!0),s}function U6(i,t,e,s){Xu(i,s);const n=H6(t);if(Object.keys(n).length>0){const r=new re.b2MouseJointDef;r.bodyA=e,r.bodyB=n,r.target.Copy(ii),r.maxForce=1e4*n.GetMass(),r.stiffness=100,r.damping=5,Qi=t.CreateJoint(r),n.SetAwake(!0)}}function W6(i,t){Xu(i,t),Qi&&Qi.SetTarget(ii)}function Uh(i,t){i&&Qi&&(t.DestroyJoint(Qi),Qi=null)}function Xu(i,t){const e=i.global;ii.Set(e.x/t,e.y/t)}const J6=i=>re.b2World.Create(new re.b2Vec2(i.x,i.y)),X6=(i,t,e)=>{const s={type:re.b2BodyType.b2_staticBody,position:new re.b2Vec2(0)},n=e.CreateBody(s),r=new re.b2EdgeShape;return r.SetTwoSided(new re.b2Vec2(-1,-1),new re.b2Vec2(0,t)),n.CreateFixture({shape:r}),r.SetTwoSided(new re.b2Vec2(i+1,-1),new re.b2Vec2(i,t)),n.CreateFixture({shape:r}),r.SetTwoSided(new re.b2Vec2(-1,-1),new re.b2Vec2(i,0)),n.CreateFixture({shape:r}),r.SetTwoSided(new re.b2Vec2(-1,t+1),new re.b2Vec2(i,t)),n.CreateFixture({shape:r}),n},Y6=(i,t,e)=>{const s={position:{x:i/2,y:1.4}},n=e.CreateBody(s),r=new re.b2PolygonShape;return r.SetAsBox(i/2,t/2),n.CreateFixture({shape:r,density:1}),n},Z6=(i,t)=>{const e={position:{x:1,y:.5},type:re.b2BodyType.b2_dynamicBody},s=t.CreateBody(e),n=new re.b2CircleShape;n.m_radius=i;const r={shape:n,density:15.4,friction:.3,restitution:.7};return s.CreateFixture(r),s},K6=(i,t,e,s,n,r)=>{const o=new re.b2WeldJointDef,a=[];for(let c=0;c<i;++c){const h=new re.b2PolygonShape;h.SetAsBox(s/2-c/2*.004,n/2);const l={shape:h,density:1e3,restitution:.1},u=e.CreateBody({type:re.b2BodyType.b2_dynamicBody,position:{x:r,y:1.24-.09*c}});u.CreateFixture(l),a.push(u);const m=new re.b2Vec2(r,1.3-.1*c);o.Initialize(t,u,m),o.stiffness=900,o.damping=800,e.CreateJoint(o),t=u}return a},Q6=i=>{const t={};return t.position={x:0,y:0},i.CreateBody(t)},{window:ty}=Kh;function ey(i){let t,e,s;return{c(){t=J("div"),this.h()},l(n){t=X(n,"DIV",{style:!0}),T(t).forEach(C),this.h()},h(){M(t,"width","100%"),M(t,"height","21.875rem")},m(n,r){st(n,t,r),i[3](t),e||(s=Be(ty,"resize",i[1]),e=!0)},p:ot,i:ot,o:ot,d(n){n&&C(t),i[3](null),e=!1,s()}}}const sy=256;function iy(i,t,e){let{fontSize:s}=t,n=null,r=null,o=0,a;const c=1/120,h={velocityIterations:16,positionIterations:6},l=async f=>{r&&(r.destroy(!0),r=null),n&&n.childNodes.length>0&&e(0,n.innerHTML="",n);const p=sy*(f/16),y=J6({x:0,y:10});if(n){let x=function(R,z){return R.x+R.width>z.x&&R.x<z.x+z.width-10&&R.y+R.height-30>z.y&&R.y<z.y+z.height};const _={radius:.08},b={width:n.clientWidth/p,height:.25},g={width:.22,height:.3},A=window.screen.width<=576?(n.clientWidth-30)/p:(n.clientWidth-80)/p;X6(n.clientWidth/p,n.clientHeight/p,y);const B=Y6(b.width,b.height,y),w=Q6(y),P=Z6(_.radius,y),V=K6(10,w,y,.05,.1,A);r=await pb(n),n.childNodes.length>0&&e(0,n.innerHTML="",n),await l1(),n.appendChild(r.canvas);const S=await db(p,_,r),D=await fb(p,g,r),L=_b(p,b,r),k=bb(o,r),E=yb(p,{width:.05,height:.1},r,10);r&&(r.stage.on("pointerdown",R=>{U6(R,y,w,p),a=!0}),r.stage.on("pointermove",R=>W6(R,p)),r.stage.on("pointerup",R=>{Uh(R,y),a=!1}),r.stage.on("pointerupoutside",R=>{Uh(R,y),a=!1}),r.stage.interactive=!0,r.stage.hitArea=r.screen),r.ticker.add(()=>{y.Step(c,h),L.position={x:B.GetPosition().x*p,y:B.GetPosition().y*p},S.position={x:P.GetPosition().x*p,y:P.GetPosition().y*p},S.rotation=P.GetAngle();for(let N=0;N<E.length;N++)E[N].position={x:V[N].GetPosition().x*p,y:V[N].GetPosition().y*p},E[N].rotation=V[N].GetAngle();D.position={x:V[V.length-1].GetPosition().x*p,y:V[V.length-1].GetPosition().y*p},D.rotation=V[V.length-1].GetAngle();const R=S.getBounds(),z=D.getBounds(),U=z.height/6,at=new xe(z.x,z.y,z.width,U);x(R,at)&&!a&&(o++,k.text=`Score: ${o}`)})}};let u;const m=async()=>{window.innerWidth!==u&&await l(s)};Xs(async()=>{u=window.innerWidth}),sc(async()=>{r&&(r.destroy(!0),r=null),e(0,n=null)});function d(f){Ee[f?"unshift":"push"](()=>{n=f,e(0,n)})}return i.$$set=f=>{"fontSize"in f&&e(2,s=f.fontSize)},i.$$.update=()=>{i.$$.dirty&4&&l(s)},[n,m,s,d]}class ny extends Lt{constructor(t){super(),Gt(this,t,iy,ey,Dt,{fontSize:2})}}function ry(i){let t,e,s;return{c(){t=O("svg"),e=O("a"),s=O("path"),this.h()},l(n){t=$(n,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,style:!0});var r=T(t);e=$(r,"a",{href:!0,target:!0});var o=T(e);s=$(o,"path",{d:!0}),T(s).forEach(C),o.forEach(C),r.forEach(C),this.h()},h(){v(s,"d","M32 6C17.641 6 6 17.641 6 32c0 12.277 8.512 22.56 19.955 25.286-.592-.141-1.179-.299-1.755-.479V50.85c0 0-.975.325-2.275.325-3.637 0-5.148-3.245-5.525-4.875-.229-.993-.827-1.934-1.469-2.509-.767-.684-1.126-.686-1.131-.92-.01-.491.658-.471.975-.471 1.625 0 2.857 1.729 3.429 2.623 1.417 2.207 2.938 2.577 3.721 2.577.975 0 1.817-.146 2.397-.426.268-1.888 1.108-3.57 2.478-4.774-6.097-1.219-10.4-4.716-10.4-10.4 0-2.928 1.175-5.619 3.133-7.792C19.333 23.641 19 22.494 19 20.625c0-1.235.086-2.751.65-4.225 0 0 3.708.026 7.205 3.338C28.469 19.268 30.196 19 32 19s3.531.268 5.145.738c3.497-3.312 7.205-3.338 7.205-3.338.567 1.474.65 2.99.65 4.225 0 2.015-.268 3.19-.432 3.697C46.466 26.475 47.6 29.124 47.6 32c0 5.684-4.303 9.181-10.4 10.4 1.628 1.43 2.6 3.513 2.6 5.85v8.557c-.576.181-1.162.338-1.755.479C49.488 54.56 58 44.277 58 32 58 17.641 46.359 6 32 6zM33.813 57.93C33.214 57.972 32.61 58 32 58 32.61 58 33.213 57.971 33.813 57.93zM37.786 57.346c-1.164.265-2.357.451-3.575.554C35.429 57.797 36.622 57.61 37.786 57.346zM32 58c-.61 0-1.214-.028-1.813-.07C30.787 57.971 31.39 58 32 58zM29.788 57.9c-1.217-.103-2.411-.289-3.574-.554C27.378 57.61 28.571 57.797 29.788 57.9z"),v(e,"href","https://github.com/mohammadahmadteq"),v(e,"target","_blank"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"viewBox","0 0 64 64"),v(t,"width","32px"),v(t,"height","32px"),M(t,"cursor","pointer")},m(n,r){st(n,t,r),I(t,e),I(e,s)},p:ot,i:ot,o:ot,d(n){n&&C(t)}}}class oy extends Lt{constructor(t){super(),Gt(this,t,null,ry,Dt,{})}}function ay(i){let t,e,s,n,r,o,a,c,h,l,u,m,d,f,p,y,x,_,b,g,A,B,w;return{c(){t=O("svg"),e=O("a"),s=O("path"),n=O("path"),r=O("path"),o=O("path"),a=O("path"),c=O("path"),h=O("path"),l=O("path"),u=O("path"),m=O("path"),d=O("path"),f=O("path"),p=O("path"),y=O("path"),x=O("path"),_=O("path"),b=O("g"),g=O("path"),A=O("circle"),B=O("g"),w=O("circle"),this.h()},l(P){t=$(P,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0});var V=T(t);e=$(V,"a",{href:!0,target:!0});var S=T(e);s=$(S,"path",{fill:!0,d:!0}),T(s).forEach(C),n=$(S,"path",{fill:!0,d:!0}),T(n).forEach(C),r=$(S,"path",{fill:!0,d:!0}),T(r).forEach(C),o=$(S,"path",{fill:!0,d:!0}),T(o).forEach(C),a=$(S,"path",{fill:!0,d:!0}),T(a).forEach(C),c=$(S,"path",{fill:!0,d:!0}),T(c).forEach(C),h=$(S,"path",{fill:!0,d:!0}),T(h).forEach(C),l=$(S,"path",{fill:!0,d:!0}),T(l).forEach(C),u=$(S,"path",{fill:!0,d:!0}),T(u).forEach(C),m=$(S,"path",{fill:!0,d:!0}),T(m).forEach(C),d=$(S,"path",{fill:!0,d:!0}),T(d).forEach(C),f=$(S,"path",{fill:!0,d:!0}),T(f).forEach(C),p=$(S,"path",{fill:!0,d:!0}),T(p).forEach(C),y=$(S,"path",{fill:!0,d:!0}),T(y).forEach(C),x=$(S,"path",{fill:!0,d:!0}),T(x).forEach(C),_=$(S,"path",{fill:!0,d:!0}),T(_).forEach(C),b=$(S,"g",{});var D=T(b);g=$(D,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),T(g).forEach(C),A=$(D,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),T(A).forEach(C),D.forEach(C),B=$(S,"g",{});var L=T(B);w=$(L,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-width":!0}),T(w).forEach(C),L.forEach(C),S.forEach(C),V.forEach(C),this.h()},h(){v(s,"fill","#304ffe"),v(s,"d","M41.67,13.48c-0.4,0.26-0.97,0.5-1.21,0.77c-0.09,0.09-0.14,0.19-0.12,0.29v1.03l-0.3,1.01l-0.3,1l-0.33,1.1 l-0.68,2.25l-0.66,2.22l-0.5,1.67c0,0.26-0.01,0.52-0.03,0.77c-0.07,0.96-0.27,1.88-0.59,2.74c-0.19,0.53-0.42,1.04-0.7,1.52 c-0.1,0.19-0.22,0.38-0.34,0.56c-0.4,0.63-0.88,1.21-1.41,1.72c-0.41,0.41-0.86,0.79-1.35,1.11c0,0,0,0-0.01,0 c-0.08,0.07-0.17,0.13-0.27,0.18c-0.31,0.21-0.64,0.39-0.98,0.55c-0.23,0.12-0.46,0.22-0.7,0.31c-0.05,0.03-0.11,0.05-0.16,0.07 c-0.57,0.27-1.23,0.45-1.89,0.54c-0.04,0.01-0.07,0.01-0.11,0.02c-0.4,0.07-0.79,0.13-1.19,0.16c-0.18,0.02-0.37,0.03-0.55,0.03 l-0.71-0.04l-3.42-0.18c0-0.01-0.01,0-0.01,0l-1.72-0.09c-0.13,0-0.27,0-0.4-0.01c-0.54-0.02-1.06-0.08-1.58-0.19 c-0.01,0-0.01,0-0.01,0c-0.95-0.18-1.86-0.5-2.71-0.93c-0.47-0.24-0.93-0.51-1.36-0.82c-0.18-0.13-0.35-0.27-0.52-0.42 c-0.48-0.4-0.91-0.83-1.31-1.27c-0.06-0.06-0.11-0.12-0.16-0.18c-0.06-0.06-0.12-0.13-0.17-0.19c-0.38-0.48-0.7-0.97-0.96-1.49 c-0.24-0.46-0.43-0.95-0.58-1.49c-0.06-0.19-0.11-0.37-0.15-0.57c-0.01-0.01-0.02-0.03-0.02-0.05c-0.1-0.41-0.19-0.84-0.24-1.27 c-0.06-0.33-0.09-0.66-0.09-1c-0.02-0.13-0.02-0.27-0.02-0.4l1.91-2.95l1.87-2.88l0.85-1.31l0.77-1.18l0.26-0.41v-1.03 c0.02-0.23,0.03-0.47,0.02-0.69c-0.01-0.7-0.15-1.38-0.38-2.03c-0.22-0.69-0.53-1.34-0.85-1.94c-0.38-0.69-0.78-1.31-1.11-1.87 C14,7.4,13.66,6.73,13.75,6.26C14.47,6.09,15.23,6,16,6h16c4.18,0,7.78,2.6,9.27,6.26C41.43,12.65,41.57,13.06,41.67,13.48z"),v(n,"fill","#4928f4"),v(n,"d","M42,16v0.27l-1.38,0.8l-0.88,0.51l-0.97,0.56l-1.94,1.13l-1.9,1.1l-1.94,1.12l-0.77,0.45 c0,0.48-0.12,0.92-0.34,1.32c-0.31,0.58-0.83,1.06-1.49,1.47c-0.67,0.41-1.49,0.74-2.41,0.98c0,0,0-0.01-0.01,0 c-3.56,0.92-8.42,0.5-10.78-1.26c-0.66-0.49-1.12-1.09-1.32-1.78c-0.06-0.23-0.09-0.48-0.09-0.73v-7.19 c0.01-0.15-0.09-0.3-0.27-0.45c-0.54-0.43-1.81-0.84-3.23-1.25c-1.11-0.31-2.3-0.62-3.3-0.92c-0.79-0.24-1.46-0.48-1.86-0.71 c0.18-0.35,0.39-0.7,0.61-1.03c1.4-2.05,3.54-3.56,6.02-4.13C14.47,6.09,15.23,6,16,6h10.8c5.37,0.94,10.32,3.13,14.47,6.26 c0.16,0.39,0.3,0.8,0.4,1.22c0.18,0.66,0.29,1.34,0.32,2.05C42,15.68,42,15.84,42,16z"),v(r,"fill","#6200ea"),v(r,"d","M42,16v4.41l-0.22,0.68l-0.75,2.33l-0.78,2.4l-0.41,1.28l-0.38,1.19l-0.37,1.13l-0.36,1.12l-0.19,0.59 l-0.25,0.78c0,0.76-0.02,1.43-0.07,2c-0.01,0.06-0.02,0.12-0.02,0.18c-0.06,0.53-0.14,0.98-0.27,1.36 c-0.01,0.06-0.03,0.12-0.05,0.17c-0.26,0.72-0.65,1.18-1.23,1.48c-0.14,0.08-0.3,0.14-0.47,0.2c-0.53,0.18-1.2,0.27-2.02,0.32 c-0.6,0.04-1.29,0.05-2.07,0.05H31.4l-1.19-0.05L30,37.61l-2.17-0.09l-2.2-0.09l-7.25-0.3l-1.88-0.08h-0.26 c-0.78-0.01-1.45-0.06-2.03-0.14c-0.84-0.13-1.49-0.35-1.98-0.68c-0.7-0.45-1.11-1.11-1.35-2.03c-0.06-0.22-0.11-0.45-0.14-0.7 c-0.1-0.58-0.15-1.25-0.18-2c0-0.15,0-0.3-0.01-0.46c-0.01-0.01,0-0.01,0-0.01v-0.58c-0.01-0.29-0.01-0.59-0.01-0.9l0.05-1.61 l0.03-1.15l0.04-1.34v-0.19l0.07-2.46l0.07-2.46l0.07-2.31l0.06-2.27l0.02-0.6c0-0.31-1.05-0.49-2.22-0.64 c-0.93-0.12-1.95-0.23-2.56-0.37c0.05-0.23,0.1-0.46,0.16-0.68c0.18-0.72,0.45-1.4,0.79-2.05c0.18-0.35,0.39-0.7,0.61-1.03 c2.16-0.95,4.41-1.69,6.76-2.17c2.06-0.43,4.21-0.66,6.43-0.66c7.36,0,14.16,2.49,19.54,6.69c0.52,0.4,1.03,0.83,1.53,1.28 C42,15.68,42,15.84,42,16z"),v(o,"fill","#673ab7"),v(o,"d","M42,18.37v4.54l-0.55,1.06l-1.05,2.05l-0.56,1.08l-0.51,0.99l-0.22,0.43c0,0.31,0,0.61-0.02,0.9 c0,0.43-0.02,0.84-0.05,1.22c-0.04,0.45-0.1,0.86-0.16,1.24c-0.15,0.79-0.36,1.47-0.66,2.03c-0.04,0.07-0.08,0.14-0.12,0.2 c-0.11,0.18-0.24,0.35-0.38,0.51c-0.18,0.22-0.38,0.41-0.61,0.57c-0.34,0.26-0.74,0.47-1.2,0.63c-0.57,0.21-1.23,0.35-2.01,0.43 c-0.51,0.05-1.07,0.08-1.68,0.08l-0.42,0.02l-2.08,0.12h-0.01L27.5,36.6l-2.25,0.13l-3.1,0.18l-3.77,0.22l-0.55,0.03 c-0.51,0-0.99-0.03-1.45-0.09c-0.05-0.01-0.09-0.02-0.14-0.02c-0.68-0.11-1.3-0.29-1.86-0.54c-0.68-0.3-1.27-0.7-1.77-1.18 c-0.44-0.43-0.82-0.92-1.13-1.47c-0.07-0.13-0.14-0.25-0.2-0.39c-0.3-0.59-0.54-1.25-0.72-1.97c-0.03-0.12-0.06-0.25-0.08-0.38 c-0.06-0.23-0.11-0.47-0.14-0.72c-0.11-0.64-0.17-1.32-0.2-2.03v-0.01c-0.01-0.29-0.02-0.57-0.02-0.87l-0.49-1.17l-0.07-0.18 L9.5,25.99L8.75,24.2l-0.12-0.29l-0.72-1.73l-0.8-1.93c0,0,0,0-0.01,0L6.29,18.3L6,17.59V16c0-0.63,0.06-1.25,0.17-1.85 c0.05-0.23,0.1-0.46,0.16-0.68c0.85-0.49,1.74-0.94,2.65-1.34c2.08-0.93,4.31-1.62,6.62-2.04c1.72-0.31,3.51-0.48,5.32-0.48 c7.31,0,13.94,2.65,19.12,6.97c0.2,0.16,0.39,0.32,0.58,0.49C41.09,17.48,41.55,17.91,42,18.37z"),v(a,"fill","#8e24aa"),v(a,"d","M42,21.35v5.14l-0.57,1.19l-1.08,2.25l-0.01,0.03c0,0.43-0.02,0.82-0.05,1.17c-0.1,1.15-0.38,1.88-0.84,2.33 c-0.33,0.34-0.74,0.53-1.25,0.63c-0.03,0.01-0.07,0.01-0.1,0.02c-0.16,0.03-0.33,0.05-0.51,0.05c-0.62,0.06-1.35,0.02-2.19-0.04 c-0.09,0-0.19-0.01-0.29-0.02c-0.61-0.04-1.26-0.08-1.98-0.11c-0.39-0.01-0.8-0.02-1.22-0.02h-0.02l-1.01,0.08h-0.01l-2.27,0.16 l-2.59,0.2l-0.38,0.03l-3.03,0.22l-1.57,0.12l-1.55,0.11c-0.27,0-0.53,0-0.79-0.01c0,0-0.01-0.01-0.01,0 c-1.13-0.02-2.14-0.09-3.04-0.26c-0.83-0.14-1.56-0.36-2.18-0.69c-0.64-0.31-1.17-0.75-1.6-1.31c-0.41-0.55-0.71-1.24-0.9-2.07 c0-0.01,0-0.01,0-0.01c-0.14-0.67-0.22-1.45-0.22-2.33l-0.15-0.27L9.7,26.35l-0.13-0.22L9.5,25.99l-0.93-1.65l-0.46-0.83 l-0.58-1.03l-1-1.79L6,19.75v-3.68c0.88-0.58,1.79-1.09,2.73-1.55c1.14-0.58,2.32-1.07,3.55-1.47c1.34-0.44,2.74-0.79,4.17-1.02 c1.45-0.24,2.94-0.36,4.47-0.36c6.8,0,13.04,2.43,17.85,6.47c0.22,0.17,0.43,0.36,0.64,0.54c0.84,0.75,1.64,1.56,2.37,2.41 C41.86,21.18,41.94,21.26,42,21.35z"),v(c,"fill","#c2185b"),v(c,"d","M42,24.71v7.23c-0.24-0.14-0.57-0.31-0.98-0.49c-0.22-0.11-0.47-0.22-0.73-0.32 c-0.38-0.17-0.79-0.33-1.25-0.49c-0.1-0.04-0.2-0.07-0.31-0.1c-0.18-0.07-0.37-0.13-0.56-0.19c-0.59-0.18-1.24-0.35-1.92-0.5 c-0.26-0.05-0.53-0.1-0.8-0.14c-0.87-0.15-1.8-0.24-2.77-0.25c-0.08-0.01-0.17-0.01-0.25-0.01l-2.57,0.02l-3.5,0.02h-0.01 l-7.49,0.06c-2.38,0-3.84,0.57-4.72,0.8c0,0-0.01,0-0.01,0.01c-0.93,0.24-1.22,0.09-1.3-1.54c-0.02-0.45-0.03-1.03-0.03-1.74 l-0.56-0.43l-0.98-0.74l-0.6-0.46l-0.12-0.09L8.88,24.1l-0.25-0.19l-0.52-0.4l-0.96-0.72L6,21.91v-3.4 c0.1-0.08,0.19-0.15,0.29-0.21c1.45-1,3-1.85,4.64-2.54c1.46-0.62,3-1.11,4.58-1.46c0.43-0.09,0.87-0.18,1.32-0.24 c1.33-0.23,2.7-0.34,4.09-0.34c6.01,0,11.53,2.09,15.91,5.55c0.66,0.52,1.3,1.07,1.9,1.66c0.82,0.78,1.59,1.61,2.3,2.49 c0.14,0.18,0.28,0.36,0.42,0.55C41.64,24.21,41.82,24.46,42,24.71z"),v(h,"fill","#d81b60"),v(h,"d","M42,28.72V32c0,0.65-0.06,1.29-0.18,1.91c-0.18,0.92-0.49,1.8-0.91,2.62c-0.22,0.05-0.47,0.05-0.75,0.01 c-0.63-0.11-1.37-0.44-2.17-0.87c-0.04-0.01-0.08-0.03-0.11-0.05c-0.25-0.13-0.51-0.27-0.77-0.43c-0.53-0.29-1.09-0.61-1.65-0.91 c-0.12-0.06-0.24-0.12-0.35-0.18c-0.64-0.33-1.3-0.63-1.96-0.86c0,0,0,0-0.01,0c-0.14-0.05-0.29-0.1-0.44-0.14 c-0.57-0.16-1.15-0.26-1.71-0.26l-1.1-0.32l-4.87-1.41c0,0,0,0-0.01,0l-2.99-0.87h-0.01l-1.3-0.38c-3.76,0-6.07,1.6-7.19,0.99 c-0.44-0.23-0.7-0.81-0.79-1.95c-0.03-0.32-0.04-0.68-0.04-1.1l-1.17-0.57l-0.05-0.02h-0.01l-0.84-0.42L9.7,26.35l-0.07-0.03 l-0.17-0.09L7.5,25.28L6,24.55v-3.43c0.17-0.15,0.35-0.29,0.53-0.43c0.19-0.15,0.38-0.29,0.57-0.44c0.01,0,0.01,0,0.01,0 c1.18-0.85,2.43-1.6,3.76-2.22c1.55-0.74,3.2-1.31,4.91-1.68c0.25-0.06,0.51-0.12,0.77-0.16c1.42-0.27,2.88-0.41,4.37-0.41 c5.27,0,10.11,1.71,14.01,4.59c1.13,0.84,2.18,1.77,3.14,2.78c0.79,0.83,1.52,1.73,2.18,2.67c0.05,0.07,0.1,0.14,0.15,0.2 c0.37,0.54,0.71,1.09,1.03,1.66C41.64,28.02,41.82,28.37,42,28.72z"),v(l,"fill","#f50057"),v(l,"d","M41.82,33.91c-0.18,0.92-0.49,1.8-0.91,2.62c-0.19,0.37-0.4,0.72-0.63,1.06c-0.14,0.21-0.29,0.41-0.44,0.6 c-0.36-0.14-0.89-0.34-1.54-0.56c0,0,0,0,0-0.01c-0.49-0.17-1.05-0.35-1.65-0.52c-0.17-0.05-0.34-0.1-0.52-0.15 c-0.71-0.19-1.45-0.36-2.17-0.46c-0.6-0.1-1.19-0.16-1.74-0.16l-0.46-0.13h-0.01l-2.42-0.7l-1.49-0.43l-1.66-0.48h-0.01l-0.54-0.15 l-6.53-1.88l-1.88-0.54l-1.4-0.33l-2.28-0.54l-0.28-0.07c0,0,0,0-0.01,0l-2.29-0.53c0-0.01,0-0.01,0-0.01l-0.41-0.09l-0.21-0.05 l-1.67-0.39l-0.19-0.05l-1.42-1.17L6,27.9v-4.08c0.37-0.36,0.75-0.7,1.15-1.03c0.12-0.11,0.25-0.21,0.38-0.31 c0.12-0.1,0.25-0.2,0.38-0.3c0.91-0.69,1.87-1.31,2.89-1.84c1.3-0.7,2.68-1.26,4.13-1.66c0.28-0.09,0.56-0.17,0.85-0.23 c1.64-0.41,3.36-0.62,5.14-0.62c4.47,0,8.63,1.35,12.07,3.66c1.71,1.15,3.25,2.53,4.55,4.1c0.66,0.79,1.26,1.62,1.79,2.5 c0.05,0.07,0.09,0.13,0.13,0.2c0.32,0.53,0.62,1.08,0.89,1.64c0.25,0.5,0.47,1,0.67,1.52C41.34,32.25,41.6,33.07,41.82,33.91z"),v(u,"fill","#ff1744"),v(u,"d","M40.28,37.59c-0.14,0.21-0.29,0.41-0.44,0.6c-0.44,0.55-0.92,1.05-1.46,1.49c-0.47,0.39-0.97,0.74-1.5,1.04 c-0.2-0.05-0.4-0.11-0.61-0.19c-0.66-0.23-1.35-0.61-1.99-1.01c-0.96-0.61-1.79-1.27-2.16-1.57c-0.14-0.12-0.21-0.18-0.21-0.18 l-1.7-0.15L30,37.6l-2.2-0.19l-2.28-0.2l-3.37-0.3l-5.34-0.47l-0.02-0.01l-1.88-0.91l-1.9-0.92l-1.53-0.74l-0.33-0.16l-0.41-0.2 l-1.42-0.69L7.43,31.9l-0.59-0.29L6,31.35v-4.47c0.47-0.56,0.97-1.09,1.5-1.6c0.34-0.32,0.7-0.64,1.07-0.94 c0.06-0.05,0.12-0.1,0.18-0.14c0.04-0.05,0.09-0.08,0.13-0.1c0.59-0.48,1.21-0.91,1.85-1.3c0.74-0.47,1.52-0.89,2.33-1.24 c0.87-0.39,1.78-0.72,2.72-0.97c1.63-0.46,3.36-0.7,5.14-0.7c4.08,0,7.85,1.24,10.96,3.37c1.99,1.36,3.71,3.08,5.07,5.07 c0.45,0.64,0.85,1.32,1.22,2.02c0.13,0.26,0.26,0.52,0.37,0.78c0.12,0.25,0.23,0.5,0.34,0.75c0.21,0.52,0.4,1.04,0.57,1.58 c0.32,1,0.56,2.02,0.71,3.08C40.21,36.89,40.25,37.24,40.28,37.59z"),v(m,"fill","#ff5722"),v(m,"d","M38.39,39.42c0,0.08,0,0.17-0.01,0.26c-0.47,0.39-0.97,0.74-1.5,1.04c-0.22,0.12-0.44,0.24-0.67,0.34 c-0.23,0.11-0.46,0.21-0.7,0.3c-0.34-0.18-0.8-0.4-1.29-0.61c-0.69-0.31-1.44-0.59-2.02-0.68c-0.14-0.03-0.27-0.04-0.39-0.04 l-1.64-0.21h-0.02l-2.04-0.27l-2.06-0.27l-0.96-0.12l-7.56-0.98c-0.49,0-1.01-0.03-1.55-0.1c-0.66-0.06-1.35-0.16-2.04-0.3 c-0.68-0.12-1.37-0.28-2.03-0.45c-0.69-0.16-1.37-0.35-2-0.53c-0.73-0.22-1.41-0.43-1.98-0.62c-0.47-0.15-0.87-0.29-1.18-0.4 c-0.18-0.43-0.33-0.88-0.44-1.34C6.1,33.66,6,32.84,6,32v-1.67c0.32-0.53,0.67-1.05,1.06-1.54c0.71-0.94,1.52-1.8,2.4-2.56 c0.03-0.04,0.07-0.07,0.1-0.09l0.01-0.01c0.31-0.28,0.63-0.53,0.97-0.77c0.04-0.04,0.08-0.07,0.12-0.1 c0.16-0.12,0.33-0.24,0.51-0.35c1.43-0.97,3.01-1.73,4.7-2.24c1.6-0.48,3.29-0.73,5.05-0.73c3.49,0,6.75,1.03,9.47,2.79 c2.01,1.29,3.74,2.99,5.06,4.98c0.16,0.23,0.31,0.46,0.46,0.7c0.69,1.17,1.26,2.43,1.68,3.75c0.05,0.15,0.09,0.3,0.13,0.46 c0.08,0.27,0.15,0.55,0.21,0.83c0.02,0.07,0.04,0.14,0.06,0.22c0.14,0.63,0.24,1.29,0.31,1.95c0,0.01,0,0.01,0,0.01 C38.36,38.22,38.39,38.82,38.39,39.42z"),v(d,"fill","#ff6f00"),v(d,"d","M36.33,39.42c0,0.35-0.02,0.73-0.06,1.11c-0.02,0.18-0.04,0.36-0.06,0.53c-0.23,0.11-0.46,0.21-0.7,0.3 c-0.45,0.17-0.91,0.31-1.38,0.41c-0.32,0.07-0.65,0.13-0.98,0.16h-0.01c-0.31-0.19-0.67-0.42-1.04-0.68 c-0.67-0.47-1.37-1-1.93-1.43c-0.01-0.01-0.01-0.01-0.02-0.02c-0.59-0.45-1.01-0.79-1.01-0.79l-1.06,0.04l-2.04,0.07l-0.95,0.04 l-3.82,0.14l-3.23,0.12c-0.21,0.01-0.46,0.01-0.77,0h-0.01c-0.42-0.01-0.92-0.04-1.47-0.09c-0.64-0.05-1.34-0.11-2.05-0.18 c-0.69-0.08-1.39-0.16-2.06-0.24c-0.74-0.08-1.44-0.17-2.04-0.25c-0.47-0.06-0.88-0.11-1.21-0.15c-0.28-0.32-0.53-0.65-0.77-1.01 c-0.36-0.54-0.67-1.11-0.91-1.72c-0.18-0.43-0.33-0.88-0.44-1.34c0.29-0.89,0.67-1.73,1.12-2.54c0.36-0.66,0.78-1.29,1.24-1.89 c0.45-0.59,0.94-1.14,1.47-1.64v-0.01c0.15-0.15,0.3-0.29,0.45-0.42c0.28-0.26,0.57-0.5,0.87-0.73h0.01 c0.01-0.02,0.02-0.02,0.03-0.03c0.24-0.19,0.49-0.36,0.74-0.53c1.48-1.01,3.15-1.76,4.95-2.2c1.19-0.29,2.44-0.45,3.73-0.45 c2.54,0,4.94,0.61,7.05,1.71h0.01c1.81,0.93,3.41,2.21,4.7,3.75c0.71,0.82,1.32,1.72,1.82,2.67c0.35,0.64,0.65,1.31,0.9,1.99 c0.02,0.06,0.04,0.11,0.06,0.16c0.17,0.5,0.32,1.02,0.45,1.54c0.09,0.37,0.16,0.75,0.22,1.13c0.02,0.12,0.04,0.23,0.05,0.35 C36.28,37.99,36.33,38.7,36.33,39.42z"),v(f,"fill","#ff9800"),v(f,"d","M34.28,39.42v0.1c0,0.34-0.03,0.77-0.06,1.23c-0.03,0.34-0.06,0.69-0.09,1.02c-0.32,0.07-0.65,0.13-0.98,0.16 h-0.01C32.76,41.98,32.39,42,32,42h-1.75l-0.38-0.11l-1.97-0.6l-2-0.6l-4.63-1.39l-2-0.6c0,0-0.83,0.33-2,0.72h-0.01 c-0.45,0.15-0.94,0.31-1.46,0.47c-0.65,0.19-1.34,0.38-2.02,0.53c-0.7,0.16-1.39,0.28-2.01,0.33c-0.19,0.02-0.38,0.03-0.55,0.03 c-0.56-0.31-1.1-0.68-1.59-1.09c-0.43-0.36-0.83-0.75-1.2-1.18c-0.28-0.32-0.53-0.65-0.77-1.01c0.07-0.45,0.15-0.89,0.27-1.32 c0.3-1.19,0.77-2.33,1.39-3.37c0.34-0.59,0.72-1.16,1.16-1.69c0.01-0.03,0.04-0.06,0.07-0.08c-0.01-0.01,0-0.01,0-0.01 c0.13-0.17,0.27-0.33,0.41-0.48c0-0.01,0-0.01,0-0.01c0.41-0.44,0.83-0.86,1.29-1.25c0.16-0.13,0.31-0.26,0.48-0.39 c0.03-0.03,0.06-0.05,0.1-0.08c2.25-1.72,5.06-2.76,8.09-2.76c3.44,0,6.57,1.29,8.94,3.41c1.14,1.03,2.11,2.26,2.84,3.63 c0.06,0.1,0.12,0.21,0.17,0.32c0.09,0.18,0.18,0.37,0.26,0.57c0.33,0.72,0.59,1.48,0.77,2.26c0.02,0.08,0.04,0.16,0.06,0.24 c0.08,0.37,0.15,0.75,0.2,1.13C34.24,38.21,34.28,38.81,34.28,39.42z"),v(p,"fill","#ffc107"),v(p,"d","M32.22,39.42c0,0.2-0.01,0.42-0.02,0.65c-0.02,0.37-0.05,0.77-0.1,1.18c-0.02,0.25-0.06,0.5-0.1,0.75h-5.48 l-1.06-0.17l-4.14-0.66l-0.59-0.09l-1.35-0.22c-0.59,0-1.87,0.26-3.22,0.51c-0.71,0.13-1.43,0.27-2.08,0.36 c-0.08,0.01-0.16,0.02-0.23,0.03h-0.01c-0.7-0.15-1.38-0.38-2.02-0.68c-0.2-0.09-0.4-0.19-0.6-0.3c-0.56-0.31-1.1-0.68-1.59-1.09 c-0.01-0.12-0.02-0.22-0.02-0.27c0-0.26,0.01-0.51,0.03-0.76c0.04-0.64,0.13-1.26,0.27-1.86c0.22-0.91,0.54-1.79,0.97-2.6 c0.08-0.17,0.17-0.34,0.27-0.5c0.04-0.08,0.09-0.15,0.13-0.23c0.18-0.29,0.38-0.57,0.58-0.85c0.42-0.55,0.89-1.07,1.39-1.54 c0.01,0,0.01,0,0.01,0c0.04-0.04,0.08-0.08,0.12-0.11c0.05-0.04,0.09-0.09,0.14-0.12c0.2-0.18,0.4-0.34,0.61-0.49 c0-0.01,0.01-0.01,0.01-0.01c1.89-1.41,4.23-2.24,6.78-2.24c1.98,0,3.82,0.5,5.43,1.38h0.01c1.38,0.76,2.58,1.79,3.53,3.03 c0.37,0.48,0.7,0.99,0.98,1.53h0.01c0.05,0.1,0.1,0.2,0.15,0.3c0.3,0.59,0.54,1.21,0.72,1.85h0.01c0.01,0.05,0.03,0.1,0.04,0.15 c0.12,0.43,0.22,0.87,0.29,1.32c0.01,0.09,0.02,0.19,0.03,0.28C32.19,38.43,32.22,38.92,32.22,39.42z"),v(y,"fill","#ffd54f"),v(y,"d","M30.17,39.31c0,0.16,0,0.33-0.02,0.49v0.01c0,0.01,0,0.01,0,0.01c-0.02,0.72-0.12,1.43-0.28,2.07 c0,0.04-0.01,0.07-0.03,0.11h-4.67l-3.85-0.83l-0.51-0.11l-0.08,0.02l-4.27,0.88L16.27,42H16c-0.64,0-1.27-0.06-1.88-0.18 c-0.09-0.02-0.18-0.04-0.27-0.06h-0.01c-0.7-0.15-1.38-0.38-2.02-0.68c-0.02-0.11-0.04-0.22-0.05-0.33 c-0.07-0.43-0.1-0.88-0.1-1.33c0-0.17,0-0.34,0.01-0.51c0.03-0.54,0.11-1.07,0.23-1.58c0.08-0.38,0.19-0.75,0.32-1.1 c0.11-0.31,0.24-0.61,0.38-0.9c0.12-0.25,0.26-0.49,0.4-0.73c0.14-0.23,0.29-0.45,0.45-0.67c0.4-0.55,0.87-1.06,1.39-1.51 c0.3-0.26,0.63-0.51,0.97-0.73c1.46-0.96,3.21-1.52,5.1-1.52c0.37,0,0.73,0.02,1.08,0.07h0.02c1.07,0.12,2.07,0.42,2.99,0.87 c0.01,0,0.01,0,0.01,0c1.45,0.71,2.68,1.78,3.58,3.1c0.15,0.22,0.3,0.46,0.43,0.7c0.11,0.19,0.21,0.39,0.3,0.59 c0.14,0.31,0.27,0.64,0.38,0.97h0.01c0.11,0.37,0.21,0.74,0.28,1.13v0.01C30.11,38.16,30.17,38.73,30.17,39.31z"),v(x,"fill","#ffe082"),v(x,"d","M28.11,39.52v0.03c0,0.59-0.07,1.17-0.21,1.74c-0.05,0.24-0.12,0.48-0.21,0.71h-4.48l-2.29-0.63L18.63,42H16 c-0.64,0-1.27-0.06-1.88-0.18c-0.02-0.03-0.03-0.06-0.04-0.09c-0.14-0.43-0.25-0.86-0.3-1.31c-0.04-0.29-0.06-0.59-0.06-0.9 c0-0.12,0-0.25,0.02-0.37c0.01-0.47,0.08-0.93,0.2-1.37c0.06-0.3,0.15-0.59,0.27-0.87c0.04-0.14,0.1-0.27,0.17-0.4 c0.15-0.34,0.33-0.67,0.53-0.99c0.22-0.32,0.46-0.62,0.73-0.9c0.32-0.36,0.68-0.69,1.09-0.96c0.7-0.51,1.5-0.89,2.37-1.1 c0.58-0.16,1.19-0.24,1.82-0.24c2,0,3.79,0.8,5.09,2.09c0.05,0.05,0.11,0.11,0.16,0.18h0.01c0.14,0.15,0.27,0.3,0.4,0.47 c0.37,0.47,0.68,0.98,0.92,1.54c0.12,0.26,0.22,0.53,0.3,0.81c0.01,0.04,0.02,0.07,0.03,0.11c0.14,0.49,0.23,1,0.25,1.53 C28.1,39.2,28.11,39.36,28.11,39.52z"),v(_,"fill","#ffecb3"),v(_,"d","M26.06,39.52c0,0.41-0.05,0.8-0.16,1.17c-0.1,0.4-0.25,0.78-0.44,1.14c-0.03,0.06-0.1,0.17-0.1,0.17h-8.88 c-0.01-0.01-0.02-0.03-0.02-0.04c-0.12-0.19-0.22-0.38-0.3-0.59c-0.2-0.46-0.32-0.96-0.36-1.48c-0.02-0.12-0.02-0.25-0.02-0.37 c0-0.06,0-0.13,0.01-0.19c0.01-0.44,0.07-0.86,0.19-1.25c0.1-0.36,0.23-0.69,0.4-1.01c0,0,0.01-0.01,0.01-0.02 c0.12-0.21,0.25-0.42,0.4-0.62c0.49-0.66,1.14-1.2,1.89-1.55c0.01,0,0.01,0,0.01,0c0.24-0.12,0.49-0.22,0.75-0.29c0,0,0,0,0.01,0 c0.46-0.14,0.96-0.21,1.47-0.21c0.59,0,1.16,0.09,1.68,0.28c0.19,0.05,0.37,0.13,0.55,0.22c0,0,0,0,0.01,0 c0.86,0.41,1.59,1.05,2.09,1.85c0.1,0.15,0.19,0.31,0.27,0.48c0.04,0.07,0.08,0.15,0.11,0.22c0.23,0.52,0.37,1.09,0.41,1.69 c0.01,0.05,0.01,0.1,0.01,0.16C26.06,39.36,26.06,39.44,26.06,39.52z"),v(g,"fill","none"),v(g,"stroke","#fff"),v(g,"stroke-linecap","round"),v(g,"stroke-linejoin","round"),v(g,"stroke-miterlimit","10"),v(g,"stroke-width","2"),v(g,"d","M30,11H18c-3.9,0-7,3.1-7,7v12c0,3.9,3.1,7,7,7h12c3.9,0,7-3.1,7-7V18C37,14.1,33.9,11,30,11z"),v(A,"cx","31"),v(A,"cy","16"),v(A,"r","1"),v(A,"fill","#fff"),v(w,"cx","24"),v(w,"cy","24"),v(w,"r","6"),v(w,"fill","none"),v(w,"stroke","#fff"),v(w,"stroke-linecap","round"),v(w,"stroke-linejoin","round"),v(w,"stroke-miterlimit","10"),v(w,"stroke-width","2"),v(e,"href","https://www.instagram.com/mamber2403/"),v(e,"target","_blank"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"viewBox","0 0 48 48"),v(t,"width","32px"),v(t,"height","32px")},m(P,V){st(P,t,V),I(t,e),I(e,s),I(e,n),I(e,r),I(e,o),I(e,a),I(e,c),I(e,h),I(e,l),I(e,u),I(e,m),I(e,d),I(e,f),I(e,p),I(e,y),I(e,x),I(e,_),I(e,b),I(b,g),I(b,A),I(e,B),I(B,w)},p:ot,i:ot,o:ot,d(P){P&&C(t)}}}class cy extends Lt{constructor(t){super(),Gt(this,t,null,ay,Dt,{})}}function ly(i){let t,e,s,n;return{c(){t=O("svg"),e=O("a"),s=O("path"),n=O("path"),this.h()},l(r){t=$(r,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0});var o=T(t);e=$(o,"a",{href:!0,target:!0});var a=T(e);s=$(a,"path",{fill:!0,d:!0}),T(s).forEach(C),n=$(a,"path",{fill:!0,d:!0}),T(n).forEach(C),a.forEach(C),o.forEach(C),this.h()},h(){v(s,"fill","#0288D1"),v(s,"d","M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"),v(n,"fill","#FFF"),v(n,"d","M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"),v(e,"href","https://www.linkedin.com/in/mohammadahmadin/"),v(e,"target","_blank"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"viewBox","0 0 48 48"),v(t,"width","32px"),v(t,"height","32px")},m(r,o){st(r,t,o),I(t,e),I(e,s),I(e,n)},p:ot,i:ot,o:ot,d(r){r&&C(t)}}}class hy extends Lt{constructor(t){super(),Gt(this,t,null,ly,Dt,{})}}function uy(i){let t,e,s,n,r,o,a,c,h="Get in Touch!",l,u,m;return e=new oy({}),n=new cy({}),o=new hy({}),{c(){t=J("div"),Bt(e.$$.fragment),s=bt(),Bt(n.$$.fragment),r=bt(),Bt(o.$$.fragment),a=bt(),c=J("button"),c.textContent=h,this.h()},l(d){t=X(d,"DIV",{class:!0});var f=T(t);It(e.$$.fragment,f),s=yt(f),It(n.$$.fragment,f),r=yt(f),It(o.$$.fragment,f),a=yt(f),c=X(f,"BUTTON",{class:!0,"data-svelte-h":!0}),gs(c)!=="svelte-19ioem4"&&(c.textContent=h),f.forEach(C),this.h()},h(){v(c,"class","big-round-button"),v(t,"class","header svelte-u5zxu8")},m(d,f){st(d,t,f),Vt(e,t,null),I(t,s),Vt(n,t,null),I(t,r),Vt(o,t,null),I(t,a),I(t,c),l=!0,u||(m=Be(c,"click",i[0]),u=!0)},p:ot,i(d){l||(K(e.$$.fragment,d),K(n.$$.fragment,d),K(o.$$.fragment,d),l=!0)},o(d){rt(e.$$.fragment,d),rt(n.$$.fragment,d),rt(o.$$.fragment,d),l=!1},d(d){d&&C(t),Mt(e),Mt(n),Mt(o),u=!1,m()}}}let my="mahmad2403@gmail.com",dy="Hello! Lets chat about your Apllication!";function _y(i){return[()=>{const e=`mailto:${my}?subject=${encodeURIComponent(dy)}`;window.open(e)}]}class fy extends Lt{constructor(t){super(),Gt(this,t,_y,uy,Dt,{})}}const{window:py}=Kh;function Wh(i,t,e){const s=i.slice();return s[9]=t[e],s}function Jh(i,t){let e,s;return{key:i,first:null,c(){e=J("div"),this.h()},l(n){e=X(n,"DIV",{class:!0,style:!0}),T(e).forEach(C),this.h()},h(){v(e,"class",s="square "+t[9].side+" svelte-1q0xqs4"),M(e,"top",t[9].top+"vh"),M(e,"width",t[9].size+"rem"),M(e,"height",t[9].size+"rem"),M(e,"animation-duration",t[9].speed+"s"),M(e,"animation-delay",t[9].delay+"s"),this.first=e},m(n,r){st(n,e,r)},p(n,r){t=n,r&1&&s!==(s="square "+t[9].side+" svelte-1q0xqs4")&&v(e,"class",s),r&1&&M(e,"top",t[9].top+"vh"),r&1&&M(e,"width",t[9].size+"rem"),r&1&&M(e,"height",t[9].size+"rem"),r&1&&M(e,"animation-duration",t[9].speed+"s"),r&1&&M(e,"animation-delay",t[9].delay+"s")},d(n){n&&C(e)}}}function by(i){let t,e,s,n,r,o="Try Hoops!",a,c,h,l,u,m,d,f,p,y,x,_,b=[],g=new Map,A,B,w;t=new fy({}),c=new Ld({}),m=new qm({}),y=new ny({props:{fontSize:i[1]}});let P=Es(i[0]??[]);const V=S=>S[9].top;for(let S=0;S<P.length;S+=1){let D=Wh(i,P,S),L=V(D);g.set(L,b[S]=Jh(L,D))}return{c(){Bt(t.$$.fragment),e=bt(),s=J("div"),n=J("div"),r=J("button"),r.textContent=o,a=bt(),Bt(c.$$.fragment),h=bt(),l=J("div"),u=J("div"),Bt(m.$$.fragment),d=bt(),f=J("div"),p=bt(),Bt(y.$$.fragment),x=bt(),_=J("div");for(let S=0;S<b.length;S+=1)b[S].c();this.h()},l(S){It(t.$$.fragment,S),e=yt(S),s=X(S,"DIV",{class:!0});var D=T(s);n=X(D,"DIV",{class:!0});var L=T(n);r=X(L,"BUTTON",{class:!0,"data-svelte-h":!0}),gs(r)!=="svelte-1u2wrd8"&&(r.textContent=o),a=yt(L),It(c.$$.fragment,L),L.forEach(C),D.forEach(C),h=yt(S),l=X(S,"DIV",{class:!0});var k=T(l);u=X(k,"DIV",{class:!0,style:!0});var E=T(u);It(m.$$.fragment,E),E.forEach(C),k.forEach(C),d=yt(S),f=X(S,"DIV",{class:!0,style:!0}),T(f).forEach(C),p=yt(S),It(y.$$.fragment,S),x=yt(S),_=X(S,"DIV",{class:!0});var R=T(_);for(let z=0;z<b.length;z+=1)b[z].l(R);R.forEach(C),this.h()},h(){v(r,"class","hoops-button svelte-1q0xqs4"),v(n,"class","section svelte-1q0xqs4"),v(s,"class","section-flex svelte-1q0xqs4"),v(u,"class","section about svelte-1q0xqs4"),M(u,"margin-block","2rem"),v(l,"class","section-flex svelte-1q0xqs4"),v(f,"class","section svelte-1q0xqs4"),M(f,"margin-block","2rem"),v(_,"class","animated-background svelte-1q0xqs4")},m(S,D){Vt(t,S,D),st(S,e,D),st(S,s,D),I(s,n),I(n,r),I(n,a),Vt(c,n,null),st(S,h,D),st(S,l,D),I(l,u),Vt(m,u,null),st(S,d,D),st(S,f,D),i[5](f),st(S,p,D),Vt(y,S,D),st(S,x,D),st(S,_,D);for(let L=0;L<b.length;L+=1)b[L]&&b[L].m(_,null);A=!0,B||(w=[Be(py,"resize",i[3]),Be(r,"click",i[4])],B=!0)},p(S,[D]){const L={};D&2&&(L.fontSize=S[1]),y.$set(L),D&1&&(P=Es(S[0]??[]),b=ic(b,D,V,1,S,P,g,_,d1,Jh,null,Wh))},i(S){A||(K(t.$$.fragment,S),K(c.$$.fragment,S),K(m.$$.fragment,S),K(y.$$.fragment,S),A=!0)},o(S){rt(t.$$.fragment,S),rt(c.$$.fragment,S),rt(m.$$.fragment,S),rt(y.$$.fragment,S),A=!1},d(S){S&&(C(e),C(s),C(h),C(l),C(d),C(f),C(p),C(x),C(_)),Mt(t,S),Mt(c),Mt(m),i[5](null),Mt(y,S);for(let D=0;D<b.length;D+=1)b[D].d();B=!1,Xn(w)}}}const yy=64;function gy(i,t,e){let s,n;function r(){const u=[];for(let m=0;m<yy;m++){const d=o()/16;u.push({top:Math.random()*100,delay:Math.random()*5,side:Math.random()>.5?"left":"right",speed:3+Math.random()*3,size:d})}e(0,s=u)}Xs(()=>{window.scrollTo(0,0),r(),a()});const o=()=>{const u=Math.round(Math.random()*30);return u>32?32:u<12?12:u},a=()=>{if(window.screen.width>=3840){e(1,n=40),document.documentElement.style.fontSize="40px";return}if(window.screen.width>=2560){e(1,n=20),document.documentElement.style.fontSize="20px";return}if(window.screen.width>=1440){e(1,n=16),document.documentElement.style.fontSize="16px";return}if(window.screen.width<=400){e(1,n=14),document.documentElement.style.fontSize="14px";return}if(window.screen.width<=576){e(1,n=16),document.documentElement.style.fontSize="16px";return}if(window.screen.width<=1440){e(1,n=10),document.documentElement.style.fontSize="10px";return}};let c;Xs(()=>{a()});const h=()=>{c.scrollIntoView({behavior:"smooth"})};function l(u){Ee[u?"unshift":"push"](()=>{c=u,e(2,c)})}return[s,n,c,a,h,l]}class By extends Lt{constructor(t){super(),Gt(this,t,gy,by,Dt,{})}}export{Zt as $,iu as A,Ne as B,Xe as C,de as D,wt as E,C2 as F,Hr as G,Ds as H,Il as I,Si as J,N_ as K,K_ as L,Yt as M,Se as N,xe as O,De as P,bf as Q,Aa as R,Rf as S,Ys as T,ya as U,kl as V,A_ as W,Do as X,ve as Y,B2 as Z,nu as _,Jt as a,Qt as a0,Af as a1,Nf as a2,cp as a3,hp as a4,fp as a5,bp as a6,yp as a7,en as a8,nn as a9,c3 as aa,xu as ab,jl as ac,Ol as ad,Jd as ae,mh as af,_3 as ag,Un as ah,me as ai,Yd as aj,Da as ak,Ea as al,hh as am,Au as an,By as ao,ur as b,Cs as c,qn as d,Fe as e,$l as f,Df as g,Sr as h,pc as i,tu as j,G2 as k,Y2 as l,lh as m,yl as n,ap as o,lp as p,dp as q,c_ as r,hu as s,pp as t,bc as u,U2 as v,Ae as w,Xd as x,xp as y,Hs as z};
